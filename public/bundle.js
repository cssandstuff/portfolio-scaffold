var app=function(){"use strict";function e(){}const t=e=>e;function n(e){return e()}function i(){return Object.create(null)}function o(e){e.forEach(n)}function r(e){return"function"==typeof e}function a(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function l(e,t,n){const i=t.subscribe(n);e.$$.on_destroy.push(i.unsubscribe?()=>i.unsubscribe():i)}const c="undefined"!=typeof window;let s=c?()=>window.performance.now():()=>Date.now(),d=c?requestAnimationFrame:e;const m=new Set;let u,g=!1;function f(){m.forEach(e=>{e[0](s())||(m.delete(e),e[1]())}),(g=m.size>0)&&d(f)}function h(e){let t;return g||(g=!0,d(f)),{promise:new Promise(n=>{m.add(t=[e,n])}),abort(){m.delete(t)}}}function $(e,t){e.appendChild(t)}function p(e,t,n){e.insertBefore(t,n||null)}function v(e){e.parentNode.removeChild(e)}function y(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function w(e){return document.createElement(e)}function b(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function x(e){return document.createTextNode(e)}function k(){return x(" ")}function E(){return x("")}function C(e,t,n,i){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)}function _(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function N(e,t){t=""+t,e.data!==t&&(e.data=t)}function P(e,t,n){e.style.setProperty(t,n)}function L(e,t,n){e.classList[n?"add":"remove"](t)}let G,j=0,S={};function J(e,t,n,i,o,r,a,l=0){const c=16.666/i;let s="{\n";for(let e=0;e<=1;e+=c){const i=t+(n-t)*r(e);s+=100*e+`%{${a(i,1-i)}}\n`}const d=s+`100% {${a(n,1-n)}}\n}`,m=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(d)}_${l}`;if(!S[m]){if(!u){const e=w("style");document.head.appendChild(e),u=e.sheet}S[m]=!0,u.insertRule(`@keyframes ${m} ${d}`,u.cssRules.length)}const g=e.style.animation||"";return e.style.animation=`${g?`${g}, `:""}${m} ${i}ms linear ${o}ms 1 both`,j+=1,m}function B(e,t){e.style.animation=(e.style.animation||"").split(", ").filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")).join(", "),t&&!--j&&d(()=>{if(j)return;let e=u.cssRules.length;for(;e--;)u.deleteRule(e);S={}})}function O(e){G=e}function R(){if(!G)throw new Error("Function called outside component initialization");return G}function T(e){R().$$.on_mount.push(e)}function q(){const e=G;return(t,n)=>{const i=e.$$.callbacks[t];if(i){const o=function(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}(t,n);i.slice().forEach(t=>{t.call(e,o)})}}}const Y=[],A=Promise.resolve();let I=!1;const z=[],X=[],H=[];function D(e){z.push(e)}function K(e){X.push(e)}function W(){const e=new Set;do{for(;Y.length;){const e=Y.shift();O(e),F(e.$$)}for(;z.length;)z.shift()();for(;X.length;){const t=X.pop();e.has(t)||(t(),e.add(t))}}while(Y.length);for(;H.length;)H.pop()();I=!1}function F(e){e.fragment&&(e.update(e.dirty),o(e.before_render),e.fragment.p(e.dirty,e.ctx),e.dirty=null,e.after_render.forEach(K))}let M,V;function Q(){return M||(M=Promise.resolve()).then(()=>{M=null}),M}function U(){V={remaining:0,callbacks:[]}}function Z(){V.remaining||o(V.callbacks)}function ee(e){V.callbacks.push(e)}function te(n,i,o){let r,a,l=i(n,o),c=!1,d=0;function m(){r&&B(n,r)}function u(){const{delay:i=0,duration:o=300,easing:u=t,tick:g=e,css:f}=l;f&&(r=J(n,0,1,o,i,u,f,d++)),g(0,1);const $=s()+i,p=$+o;a&&a.abort(),c=!0,a=h(e=>{if(c){if(e>=p)return g(1,0),m(),c=!1;if(e>=$){const t=u((e-$)/o);g(t,1-t)}}return c})}let g=!1;return{start(){g||(B(n),"function"==typeof l?(l=l(),Q().then(u)):u())},invalidate(){g=!1},end(){c&&(m(),c=!1)}}}function ne(n,i,r){let a,l=i(n,r),c=!0;const d=V;function m(){const{delay:i=0,duration:r=300,easing:m=t,tick:u=e,css:g}=l;g&&(a=J(n,1,0,r,i,m,g));const f=s()+i,$=f+r;h(e=>{if(c){if(e>=$)return u(0,1),--d.remaining||o(d.callbacks),!1;if(e>=f){const t=m((e-f)/r);u(1-t,t)}}return c})}return d.remaining+=1,"function"==typeof l?Q().then(()=>{l=l(),m()}):m(),{end(e){e&&l.tick&&l.tick(1,0),c&&(a&&B(n,a),c=!1)}}}function ie(e,t,i){const{fragment:a,on_mount:l,on_destroy:c,after_render:s}=e.$$;a.m(t,i),K(()=>{const t=l.map(n).filter(r);c?c.push(...t):o(t),e.$$.on_mount=[]}),s.forEach(K)}function oe(e,t){e.$$.dirty||(Y.push(e),I||(I=!0,A.then(W)),e.$$.dirty=i()),e.$$.dirty[t]=!0}function re(t,n,r,a,l,c){const s=G;O(t);const d=n.props||{},m=t.$$={fragment:null,ctx:null,props:c,update:e,not_equal:l,bound:i(),on_mount:[],on_destroy:[],before_render:[],after_render:[],context:new Map(s?s.$$.context:[]),callbacks:i(),dirty:null};let u=!1;var g;m.ctx=r?r(t,d,(e,n)=>{m.ctx&&l(m.ctx[e],m.ctx[e]=n)&&(m.bound[e]&&m.bound[e](n),u&&oe(t,e))}):d,m.update(),u=!0,o(m.before_render),m.fragment=a(m.ctx),n.target&&(n.hydrate?m.fragment.l((g=n.target,Array.from(g.childNodes))):m.fragment.c(),n.intro&&t.$$.fragment.i&&t.$$.fragment.i(),ie(t,n.target,n.anchor),W()),O(s)}class ae{$destroy(){var t,n;n=!0,(t=this).$$&&(o(t.$$.on_destroy),t.$$.fragment.d(n),t.$$.on_destroy=t.$$.fragment=null,t.$$.ctx={}),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}}function le(e){var t;return{c(){(t=w("div")).className="loader svelte-m5fr7l",P(t,"background","#ccc")},m(e,n){p(e,t,n)},d(e){e&&v(t)}}}function ce(t){var n,i,o,r,a=!t.visible&&le();return{c(){n=w("img"),o=k(),a&&a.c(),r=E(),n.src=t.image,n.alt="",n.className=i=(t.visible?"":"opacity--0")+" svelte-m5fr7l"},m(e,t){p(e,n,t),p(e,o,t),a&&a.m(e,t),p(e,r,t)},p(e,t){e.image&&(n.src=t.image),e.visible&&i!==(i=(t.visible?"":"opacity--0")+" svelte-m5fr7l")&&(n.className=i),t.visible?a&&(a.d(1),a=null):a||((a=le()).c(),a.m(r.parentNode,r))},i:e,o:e,d(e){e&&(v(n),v(o)),a&&a.d(e),e&&v(r)}}}function se(e,t,n){let{image:i,visible:o=0}=t;const r=q();return T(async()=>{const e=await fetch(i);if(200===e.status){n("image",i=e.url);const t=new Image;t.onload=(()=>{n("visible",o=!0),r("loadingComplete",{loadingComplete:1})}),t.src=i}else n("visible",o=!1)}),e.$set=(e=>{"image"in e&&n("image",i=e.image),"visible"in e&&n("visible",o=e.visible)}),{image:i,visible:o}}class de extends ae{constructor(e){super(),re(this,e,se,ce,a,["image","visible"])}}function me(t,n=e){let i;const o=[];function r(e){if(a(t,e)){if(t=e,!i)return;o.forEach(e=>e[1]()),o.forEach(e=>e[0](t))}}return{set:r,update:function(e){r(e(t))},subscribe:function(a,l=e){const c=[a,l];return o.push(c),1===o.length&&(i=n(r)||e),a(t),()=>{const e=o.indexOf(c);-1!==e&&o.splice(e,1),0===o.length&&i()}}}}const ue=me(!1),ge=me(0),fe=me(!1);function he(e){const t=e-1;return t*t*t+1}function $e(e,{delay:t=0,duration:n=400}){const i=+getComputedStyle(e).opacity;return{delay:t,duration:n,css:e=>`opacity: ${e*i}`}}function pe(e,{delay:t=0,duration:n=400,easing:i=he,x:o=0,y:r=0,opacity:a=0}){const l=getComputedStyle(e),c=+l.opacity,s="none"===l.transform?"":l.transform,d=c*(1-a);return{delay:t,duration:n,easing:i,css:(e,t)=>`\n\t\t\ttransform: ${s} translate(${(1-e)*o}px, ${(1-e)*r}px);\n\t\t\topacity: ${c-d*t}`}}function ve(e,t,n){const i=Object.create(e);return i.image=t[n],i.index=n,i}function ye(e,t,n){const i=Object.create(e);return i.image=t[n],i.index=n,i}function we(e){var t,n,i,o,r,a,l,c,s,d=e.image.name,m=new de({props:{image:e.lowresdir+"/"+e.image.src}});function u(...t){return e.click_handler(e,...t)}return m.$on("loadingComplete",e.loadingComplete_handler),{c(){t=w("a"),m.$$.fragment.c(),n=k(),i=w("span"),o=k(),r=w("h2"),a=x(d),i.className="magnify svelte-9wuidh",r.className="svelte-9wuidh",t.className="galleryitem svelte-9wuidh",t.href=l=e.hiresdir+"/"+e.image.src,s=C(t,"click",u)},m(e,l){p(e,t,l),ie(m,t,null),$(t,n),$(t,i),$(t,o),$(t,r),$(r,a),c=!0},p(n,i){e=i;var o={};(n.lowresdir||n.stack)&&(o.image=e.lowresdir+"/"+e.image.src),m.$set(o),c&&!n.stack||d===(d=e.image.name)||N(a,d),c&&!n.hiresdir&&!n.stack||l===(l=e.hiresdir+"/"+e.image.src)||(t.href=l)},i(e){c||(m.$$.fragment.i(e),c=!0)},o(e){m.$$.fragment.o(e),c=!1},d(e){e&&v(t),m.$destroy(),s()}}}function be(e){for(var t,n,i,r,a,l,c,s,d,m,u=e.stack,g=[],f=0;f<u.length;f+=1)g[f]=xe(ve(e,u,f));function h(e,t,n){g[e]&&(t&&ee(()=>{g[e].d(t),g[e]=null}),g[e].o(n))}return{c(){t=w("div");for(var o=0;o<g.length;o+=1)g[o].c();n=k(),i=w("span"),r=k(),a=w("span"),l=k(),(c=w("span")).textContent="close",i.className="previous svelte-9wuidh",a.className="next svelte-9wuidh",c.className="close svelte-9wuidh",t.className="hires svelte-9wuidh",m=[C(i,"click",e.showPrevious),C(a,"click",e.showNext),C(c,"click",e.closeGallery)]},m(e,o){p(e,t,o);for(var s=0;s<g.length;s+=1)g[s].m(t,null);$(t,n),$(t,i),$(t,r),$(t,a),$(t,l),$(t,c),d=!0},p(e,i){if(e.current||e.hiresdir||e.stack||e.handleLoadingHiResComplete){u=i.stack;for(var o=0;o<u.length;o+=1){const r=ve(i,u,o);g[o]?(g[o].p(e,r),g[o].i(1)):(g[o]=xe(r),g[o].c(),g[o].i(1),g[o].m(t,n))}for(U();o<g.length;o+=1)h(o,1,1);Z()}},i(e){if(!d){for(var n=0;n<u.length;n+=1)g[n].i();s||K(()=>{(s=te(t,$e,{duration:300})).start()}),d=!0}},o(e){g=g.filter(Boolean);for(let e=0;e<g.length;e+=1)h(e,0);d=!1},d(e){e&&v(t),y(g,e),o(m)}}}function xe(e){var t,n,i=new de({props:{image:e.hiresdir+"/"+e.image.src}});return i.$on("loadingComplete",e.handleLoadingHiResComplete),{c(){t=w("div"),i.$$.fragment.c(),t.className="svelte-9wuidh",L(t,"active",e.current===e.index)},m(e,o){p(e,t,o),ie(i,t,null),n=!0},p(e,n){var o={};(e.hiresdir||e.stack)&&(o.image=n.hiresdir+"/"+n.image.src),i.$set(o),e.current&&L(t,"active",n.current===n.index)},i(e){n||(i.$$.fragment.i(e),n=!0)},o(e){i.$$.fragment.o(e),n=!1},d(e){e&&v(t),i.$destroy()}}}function ke(e){var t,n,i,r,a,l,c=!1,s=()=>{c=!1};K(e.onwindowscroll);for(var d=e.stack,m=[],u=0;u<d.length;u+=1)m[u]=we(ye(e,d,u));function g(e,t,n){m[e]&&(t&&ee(()=>{m[e].d(t),m[e]=null}),m[e].o(n))}var f=e.ready&&be(e);return{c(){n=w("div");for(var o=0;o<m.length;o+=1)m[o].c();i=k(),f&&f.c(),r=E(),n.className="stack gallery svelte-9wuidh",l=[C(window,"keydown",e.handleKeydown),C(window,"scroll",()=>{c=!0,clearTimeout(t),t=setTimeout(s,100),e.onwindowscroll()})]},m(t,o){p(t,n,o);for(var l=0;l<m.length;l+=1)m[l].m(n,null);D(()=>e.div_binding(n,null)),p(t,i,o),f&&f.m(t,o),p(t,r,o),a=!0},p(e,i){if(e.y&&!c&&(c=!0,clearTimeout(t),window.scrollTo(window.pageXOffset,i.y),t=setTimeout(s,100)),e.hiresdir||e.stack||e.lowresdir){d=i.stack;for(var o=0;o<d.length;o+=1){const t=ye(i,d,o);m[o]?(m[o].p(e,t),m[o].i(1)):(m[o]=we(t),m[o].c(),m[o].i(1),m[o].m(n,null))}for(U();o<m.length;o+=1)g(o,1,1);Z()}e.items&&(i.div_binding(null,n),i.div_binding(n,null)),i.ready?f?(f.p(e,i),f.i(1)):((f=be(i)).c(),f.i(1),f.m(r.parentNode,r)):f&&(U(),ee(()=>{f.d(1),f=null}),f.o(1),Z())},i(e){if(!a){for(var t=0;t<d.length;t+=1)m[t].i();f&&f.i(),a=!0}},o(e){m=m.filter(Boolean);for(let e=0;e<m.length;e+=1)g(e,0);f&&f.o(),a=!1},d(t){t&&v(n),y(m,t),e.div_binding(null,n),t&&v(i),f&&f.d(t),t&&v(r),o(l)}}}function Ee(e,t,n){let i,o;l(e,fe,e=>{n("$loadingSecondary",i=e)}),l(e,ue,e=>{n("$destroyingExpandedGallery",o=e)});let r,a,c,s,d,m,u,{stack:g,lowresdir:f,hiresdir:h,originaltarget:$}=t,p=!1,v=!1;const y=e=>new Promise(t=>setTimeout(t,e));let w=0;var b;function x(e,t){n("current",d=t),m=t,e.preventDefault(),function(e){let t=a[e].getElementsByTagName("img")[0],n=a[e].getBoundingClientRect(),i=document.documentElement.clientWidth/2,o=document.documentElement.clientHeight/2;Object.entries(a).forEach(([e,t])=>{t.style.zIndex="1"}),t.classList.remove("notransition"),t.classList.remove("quicktransition"),a[e].style.zIndex="99",t.style.transform=`translateX(${i-n.left-n.width/2}px) translateY(${o-n.top-n.height/2}px) scale(${i*o*2/(n.width*n.height)/3})`}(d),n("ready",p=!0)}function k(){r.classList.add("no-pointer-events"),void 0!==a?(console.log("weren't me guv"),E()):(console.log("object was undefined, hard luck son."),(async()=>{await y(180),Object.entries(a).forEach(([e,t])=>{console.log("trying again"),E()})})())}function E(){let e=$.getBoundingClientRect();Object.entries(a).forEach(([t,n])=>{let i=n.getBoundingClientRect(),r=`translateX(${e.x+4-i.x}px) translateY(${e.y+4-i.y}px) rotate(${4*t}deg)`;0==t&&(r=`translateX(${e.x+4-i.x}px) translateY(${e.y+6-i.y}px) scale(1.08) translateY(5px) rotate(-2deg)`),o?(n.classList.add("quicktransition"),r=`translateX(${e.x-i.x}px) translateY(${e.y-i.y}px) rotate(${2*t}deg)`):n.parentNode.style.zIndex=s-t,n.style.transform=r})}function C(){n("current",d<=0?d=g.length-1:--d)}function _(){d>=g.length-1?n("current",d=0):n("current",++d)}function N(){console.log(`current is ${m}`);a[m].getElementsByTagName("img")[0];let e=a[d].getElementsByTagName("img")[0],t=a[d].getBoundingClientRect(),i=document.documentElement.clientWidth/2,o=document.documentElement.clientHeight/2;Object.entries(c).forEach(([e,t])=>{t.classList.add("notransition"),t.style.transform="translateX(0) translateY(0) scale(1)"}),a[d].style.zIndex="99",e.style.transform=`translateX(${i-t.left-t.width/2}px) translateY(${o-t.top-t.height/2}px) scale(${i*o*2/(t.width*t.height)/2})`,(async()=>{await y(5),e.classList.remove("notransition"),e.classList.add("quicktransition"),e.style.transform="translateX(0) translateY(0) scale(1)"})(),document.documentElement.classList.remove("locked"),n("ready",p=!1)}return T(()=>{a=r.getElementsByClassName("galleryitem"),c=r.getElementsByTagName("img"),s=r.getElementsByClassName("galleryitem").length,k()}),b=(()=>{i||o||v||(r.style.transform=`translateY(${scrollY}px)`,n("secondLevel",r),(async()=>{await y(80),Object.entries(a).forEach(([e,t])=>{t.getBoundingClientRect(),t.classList.add("slowtransition"),t.style.transform="translateX(0px) translateY(0px)"})})(),(async()=>{await y(500),r.classList.remove("no-pointer-events")})(),v=!0),o&&v&&(k(),v=!1)}),R().$$.after_render.push(b),function(e){R().$$.on_destroy.push(e)}(()=>{console.log("being destroyed"),ue.update(e=>!1)}),e.$set=(e=>{"stack"in e&&n("stack",g=e.stack),"lowresdir"in e&&n("lowresdir",f=e.lowresdir),"hiresdir"in e&&n("hiresdir",h=e.hiresdir),"originaltarget"in e&&n("originaltarget",$=e.originaltarget)}),{stack:g,lowresdir:f,hiresdir:h,originaltarget:$,secondLevel:r,ready:p,current:d,y:u,loadLargeImages:x,handleLoadingHiResComplete:function(e){(w+=e.detail.loadingComplete)===g.length&&(w=0,document.documentElement.classList.add("locked"))},showPrevious:C,showNext:_,closeGallery:N,handleKeydown:function(e){console.log("key is downz"),console.log(e),"ArrowRight"==e.code&&_(),"ArrowLeft"==e.code&&C(),"Escape"==e.code&&N()},loadingComplete_handler:function(t){!function(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(e=>e(t))}(e,t)},onwindowscroll:function(){u=window.pageYOffset,n("y",u)},click_handler:function({index:e},t){return x(t,e)},div_binding:function(e,t){n("secondLevel",r=e)}}}class Ce extends ae{constructor(e){super(),re(this,e,Ee,ke,a,["stack","lowresdir","hiresdir","originaltarget"])}}function _e(e,t,n){const i=Object.create(e);return i.image=t[n],i.index=n,i}function Ne(e){var t,n,i,o,r,a,l,c,s,d,m,u,g=e.imagecollection.length;return{c(){t=w("div"),n=w("p"),i=x(e.name),o=k(),r=w("span"),a=x("("),l=x(g),c=x(" images)"),r.className="svelte-djv2qi",n.className="svelte-djv2qi",t.className="breadcrumb svelte-djv2qi",u=C(t,"click",e.resetStacks)},m(e,s){p(e,t,s),$(t,n),$(n,i),$(n,o),$(n,r),$(r,a),$(r,l),$(r,c),m=!0},p(e,t){m&&!e.name||N(i,t.name),m&&!e.imagecollection||g===(g=t.imagecollection.length)||N(l,g)},i(e){m||(K(()=>{d&&d.end(1),s||(s=te(t,pe,{y:-40,duration:400})),s.start()}),m=!0)},o(e){s&&s.invalidate(),e&&(d=ne(t,pe,{y:-40,duration:400})),m=!1},d(e){e&&(v(t),d&&d.end()),u()}}}function Pe(e){var t,n;return{c(){t=b("svg"),_(n=b("circle"),"class","path svelte-djv2qi"),_(n,"cx","25"),_(n,"cy","25"),_(n,"r","20"),_(n,"fill","none"),_(n,"stroke-width","3"),_(t,"class","spinner svelte-djv2qi"),_(t,"viewBox","0 0 50 50")},m(e,i){p(e,t,i),$(t,n)},d(e){e&&v(t)}}}function Le(t){var n;return{c(){(n=w("div")).className="dummyimage svelte-djv2qi",P(n,"transform","rotate("+2*t.index+"deg)"),P(n,"z-index","-"+t.index),P(n,"opacity",1-1/t.imagecollection.length*t.index/1.2)},m(e,t){p(e,n,t)},p(e,t){e.imagecollection&&P(n,"opacity",1-1/t.imagecollection.length*t.index/1.2)},i:e,o:e,d(e){e&&v(n)}}}function Ge(e){var t,n=new de({props:{image:e.lowresdir+"/"+e.image.src}});return{c(){n.$$.fragment.c()},m(e,i){ie(n,e,i),t=!0},p(e,t){var i={};(e.lowresdir||e.imagecollection)&&(i.image=t.lowresdir+"/"+t.image.src),n.$set(i)},i(e){t||(n.$$.fragment.i(e),t=!0)},o(e){n.$$.fragment.o(e),t=!1},d(e){n.$destroy(e)}}}function je(e){var t,n,i,o,r=[Ge,Le],a=[];function l(e){return 0==e.index?0:1}return t=l(e),n=a[t]=r[t](e),{c(){n.c(),i=E()},m(e,n){a[t].m(e,n),p(e,i,n),o=!0},p(e,o){var c=t;(t=l(o))===c?a[t].p(e,o):(U(),ee(()=>{a[c].d(1),a[c]=null}),n.o(1),Z(),(n=a[t])||(n=a[t]=r[t](o)).c(),n.i(1),n.m(i.parentNode,i))},i(e){o||(n&&n.i(),o=!0)},o(e){n&&n.o(),o=!1},d(e){a[t].d(e),e&&v(i)}}}function Se(e){var t,n,i,o;let r={lowresdir:e.lowresdir,hiresdir:e.hiresdir,stack:e.imagecollection,originaltarget:e.collection};var a=new Ce({props:r});return D(()=>e.galleryexpanded_binding(a)),a.$on("loadingComplete",e.handleLoadingComplete),{c(){t=w("div"),a.$$.fragment.c(),t.className=n="loading--"+e.$loadingSecondary+" svelte-djv2qi"},m(e,n){p(e,t,n),ie(a,t,null),o=!0},p(e,i){var r={};e.lowresdir&&(r.lowresdir=i.lowresdir),e.hiresdir&&(r.hiresdir=i.hiresdir),e.imagecollection&&(r.stack=i.imagecollection),e.collection&&(r.originaltarget=i.collection),a.$set(r),o&&!e.$loadingSecondary||n===(n="loading--"+i.$loadingSecondary+" svelte-djv2qi")||(t.className=n)},i(e){o||(a.$$.fragment.i(e),i&&i.end(1),o=!0)},o(e){a.$$.fragment.o(e),e&&(i=ne(t,$e,{duration:500})),o=!1},d(n){n&&v(t),e.galleryexpanded_binding(null),a.$destroy(),n&&i&&i.end()}}}function Je(e){for(var t,n,i,r,a,l,c,s,d,m,u,g,f,h,b,_,P=e.imagecollection.length,G=e.$activeCollection==e.id&&Ne(e),j=e.$activeCollection==e.id&&Pe(),S=e.imagecollection,J=[],B=0;B<S.length;B+=1)J[B]=je(_e(e,S,B));function O(e,t,n){J[e]&&(t&&ee(()=>{J[e].d(t),J[e]=null}),J[e].o(n))}var R=e.attemptingtoLoad&&Se(e);return{c(){G&&G.c(),t=k(),n=w("a"),j&&j.c(),i=k();for(var o=0;o<J.length;o+=1)J[o].c();r=k(),a=w("h2"),l=x(e.name),c=k(),s=w("span"),d=x("("),m=x(P),u=x(" Images)"),f=k(),R&&R.c(),h=E(),s.className="svelte-djv2qi",a.className="svelte-djv2qi",n.href=g=e.hiresdir+"/"+e.imagecollection[0].src,n.className="collection svelte-djv2qi",n.dataset.id=e.id,L(n,"active",e.id===e.$activeCollection&&1==e.$loadingSecondary),L(n,"nonactive",0!==e.$activeCollection&&e.id!==e.$activeCollection),_=[C(n,"mouseenter",e.rotate),C(n,"mouseleave",e.unRotate),C(n,"click",e.showContents)]},m(o,g){G&&G.m(o,g),p(o,t,g),p(o,n,g),j&&j.m(n,null),$(n,i);for(var v=0;v<J.length;v+=1)J[v].m(n,null);$(n,r),$(n,a),$(a,l),$(a,c),$(a,s),$(s,d),$(s,m),$(s,u),D(()=>e.a_binding(n,null)),p(o,f,g),R&&R.m(o,g),p(o,h,g),b=!0},p(e,o){if(o.$activeCollection==o.id?G?(G.p(e,o),G.i(1)):((G=Ne(o)).c(),G.i(1),G.m(t.parentNode,t)):G&&(U(),ee(()=>{G.d(1),G=null}),G.o(1),Z()),o.$activeCollection==o.id?j||((j=Pe()).c(),j.m(n,i)):j&&(j.d(1),j=null),e.lowresdir||e.imagecollection){S=o.imagecollection;for(var a=0;a<S.length;a+=1){const t=_e(o,S,a);J[a]?(J[a].p(e,t),J[a].i(1)):(J[a]=je(t),J[a].c(),J[a].i(1),J[a].m(n,r))}for(U();a<J.length;a+=1)O(a,1,1);Z()}b&&!e.name||N(l,o.name),b&&!e.imagecollection||P===(P=o.imagecollection.length)||N(m,P),e.items&&(o.a_binding(null,n),o.a_binding(n,null)),b&&!e.hiresdir&&!e.imagecollection||g===(g=o.hiresdir+"/"+o.imagecollection[0].src)||(n.href=g),b&&!e.id||(n.dataset.id=o.id),(e.id||e.$activeCollection||e.$loadingSecondary)&&L(n,"active",o.id===o.$activeCollection&&1==o.$loadingSecondary),(e.$activeCollection||e.id)&&L(n,"nonactive",0!==o.$activeCollection&&o.id!==o.$activeCollection),o.attemptingtoLoad?R?(R.p(e,o),R.i(1)):((R=Se(o)).c(),R.i(1),R.m(h.parentNode,h)):R&&(U(),ee(()=>{R.d(1),R=null}),R.o(1),Z())},i(e){if(!b){G&&G.i();for(var t=0;t<S.length;t+=1)J[t].i();R&&R.i(),b=!0}},o(e){G&&G.o(),J=J.filter(Boolean);for(let e=0;e<J.length;e+=1)O(e,0);R&&R.o(),b=!1},d(i){G&&G.d(i),i&&(v(t),v(n)),j&&j.d(),y(J,i),e.a_binding(null,n),i&&v(f),R&&R.d(i),i&&v(h),o(_)}}}const Be=new Set;function Oe(e,t,n){let i,o;l(e,ge,e=>{n("$activeCollection",i=e)}),l(e,fe,e=>{n("$loadingSecondary",o=e)});let{imagecollection:r,lowresdir:a,hiresdir:c,id:s=0,name:d,color:m}=t;const u=e=>new Promise(t=>setTimeout(t,e));let g,f,h,$,p,v=0,y=!1;return T(()=>($=g.getElementsByTagName("div"),p=g.getElementsByTagName("img")[0],Be.add(g),()=>Be.delete(g))),e.$set=(e=>{"imagecollection"in e&&n("imagecollection",r=e.imagecollection),"lowresdir"in e&&n("lowresdir",a=e.lowresdir),"hiresdir"in e&&n("hiresdir",c=e.hiresdir),"id"in e&&n("id",s=e.id),"name"in e&&n("name",d=e.name),"color"in e&&n("color",m=e.color)}),{imagecollection:r,lowresdir:a,hiresdir:c,id:s,name:d,color:m,collection:g,galleryExpanded:h,attemptingtoLoad:y,rotate:function(){Object.entries($).forEach(([e,t])=>{t.style.transform="rotate("+(4*parseInt(e)+5)+"deg)"}),p.style.transform="scale(1.03) translateY(5px) rotate(-1deg)"},unRotate:function(){Object.entries($).forEach(([e,t])=>{t.style.transform="rotate("+2*(parseInt(e)+1)+"deg)"}),p.style.transform="scale(1) rotate(0deg)"},showContents:function(e){if(n("attemptingtoLoad",y=!0),e.preventDefault(),f=getComputedStyle(document.documentElement).getPropertyValue("--bgcolor"),m){let e=m.split(",");document.documentElement.style.setProperty("--bgcolor",`hsla(${e[0]}, ${e[1]}%, ${e[2]}%, 1)`),document.documentElement.style.setProperty("--bgcolortint",`hsla(${e[0]}, ${e[1]}%, ${e[2]}%, 0.6)`),document.documentElement.style.setProperty("--bgcolordarktint",`hsl(${e[0]}, ${e[1]}%, ${e[2]/e[1]*10}%)`)}fe.update(e=>!0),ge.update(e=>s),function(){let e=document.documentElement.clientWidth/2,t=document.documentElement.clientHeight/2;Be.forEach(n=>{var o=n.getBoundingClientRect();n.classList.add("neardeath");let r=parseInt(n.dataset.id);n.classList.add("no-pointer-events"),r!==i&&(n.style.transform=`translateX(${o.left/3-e/3}px) translateY(${o.top/3-t/3}px)`)})}()},resetStacks:function(){console.log("resetting..."),Be.forEach(e=>{e.classList.remove("neardeath")}),document.documentElement.style.setProperty("--bgcolor",f),ue.update(e=>!0),(async()=>{await u(200),ge.update(e=>0),n("attemptingtoLoad",y=!1),Be.forEach(e=>{e.style.transform="translateX(0px) translateY(0px)"})})(),(async()=>{await u(600),Be.forEach(e=>{e.classList.remove("no-pointer-events")})})()},handleLoadingComplete:function(e){(v+=e.detail.loadingComplete)===r.length&&(console.log("Loading complete"),fe.update(e=>!1),v=0)},$activeCollection:i,$loadingSecondary:o,a_binding:function(e,t){n("collection",g=e)},galleryexpanded_binding:function(e){n("galleryExpanded",h=e)}}}class Re extends ae{constructor(e){super(),re(this,e,Oe,Je,a,["imagecollection","lowresdir","hiresdir","id","name","color"])}}function Te(e){var t,n,i,o,r,a,l,c,s,d,m=new Re({props:{width:"",name:"Ongakukai",color:"44, 47, 90",lowresdir:"images/16_ongakukai",hiresdir:"images/16_ongakukai/originals",imagecollection:e.collection0,id:qe++}}),u=new Re({props:{width:"",name:"Painterly",color:"261, 27, 71",lowresdir:"images",hiresdir:"images/originals",imagecollection:e.collection1,id:qe++}}),g=new Re({props:{width:"",name:"Splashes",color:"206, 69, 88",lowresdir:"images",hiresdir:"images/originals",imagecollection:e.collection2,id:qe++}}),f=new Re({props:{width:"",name:"Citizens of Science",color:"182, 37, 73",lowresdir:"images",hiresdir:"images/originals",imagecollection:e.collection3,id:qe++}}),h=new Re({props:{width:"",name:"Travelling",color:"209, 25, 24",lowresdir:"images",hiresdir:"images/originals",imagecollection:e.collection4,id:qe++}}),y=new Re({props:{width:"",name:"Angry at kids",color:"13, 92, 87",lowresdir:"images",hiresdir:"images/originals",imagecollection:e.collection5,id:qe++}}),b=new Re({props:{width:"",name:"Sketches",color:"109, 0, 76",lowresdir:"images",hiresdir:"images/originals",imagecollection:e.collection6,id:qe++}});return{c(){t=w("div"),m.$$.fragment.c(),n=k(),u.$$.fragment.c(),i=k(),g.$$.fragment.c(),o=k(),f.$$.fragment.c(),r=k(),h.$$.fragment.c(),a=k(),y.$$.fragment.c(),l=k(),b.$$.fragment.c(),c=k(),(s=w("p")).innerHTML='<a href="https://github.com/cssandstuff/portfolio-scaffold" class="svelte-17oglvp">See on Github</a>',t.className="container svelte-17oglvp",s.className="svelte-17oglvp"},m(e,v){p(e,t,v),ie(m,t,null),$(t,n),ie(u,t,null),$(t,i),ie(g,t,null),$(t,o),ie(f,t,null),$(t,r),ie(h,t,null),$(t,a),ie(y,t,null),$(t,l),ie(b,t,null),p(e,c,v),p(e,s,v),d=!0},p(e,t){var n={};e.collection0&&(n.imagecollection=t.collection0),e.uid&&(n.id=qe++),m.$set(n);var i={};e.collection1&&(i.imagecollection=t.collection1),e.uid&&(i.id=qe++),u.$set(i);var o={};e.collection2&&(o.imagecollection=t.collection2),e.uid&&(o.id=qe++),g.$set(o);var r={};e.collection3&&(r.imagecollection=t.collection3),e.uid&&(r.id=qe++),f.$set(r);var a={};e.collection4&&(a.imagecollection=t.collection4),e.uid&&(a.id=qe++),h.$set(a);var l={};e.collection5&&(l.imagecollection=t.collection5),e.uid&&(l.id=qe++),y.$set(l);var c={};e.collection6&&(c.imagecollection=t.collection6),e.uid&&(c.id=qe++),b.$set(c)},i(e){d||(m.$$.fragment.i(e),u.$$.fragment.i(e),g.$$.fragment.i(e),f.$$.fragment.i(e),h.$$.fragment.i(e),y.$$.fragment.i(e),b.$$.fragment.i(e),d=!0)},o(e){m.$$.fragment.o(e),u.$$.fragment.o(e),g.$$.fragment.o(e),f.$$.fragment.o(e),h.$$.fragment.o(e),y.$$.fragment.o(e),b.$$.fragment.o(e),d=!1},d(e){e&&v(t),m.$destroy(),u.$destroy(),g.$destroy(),f.$destroy(),h.$destroy(),y.$destroy(),b.$destroy(),e&&(v(c),v(s))}}}let qe=1;function Ye(e,t,n){let{name:i}=t;return e.$set=(e=>{"name"in e&&n("name",i=e.name)}),{name:i,collection0:[{src:"01_front_cover.jpg",name:"Noa"},{src:"02_back_cover.jpg",name:"Dog"},{src:"racoon_together.jpg",name:"Glass"}],collection1:[{src:"Noa.JPG",name:"Noa"},{src:"dog.JPG",name:"Dog"},{src:"glass.JPG",name:"Glass"}],collection4:[{src:"atami.JPG",name:"Atami at night"},{src:"kenodo.JPG",name:"Konodo Highway"},{src:"kenodo2.JPG",name:"Tunnels"}],collection6:[{src:"boring.JPG",name:"Everything is boring"},{src:"hownotto.JPG",name:"How not to draw"},{src:"isometric.JPG",name:"Isometric"},{src:"notes.JPG",name:"Notes"},{src:"glass-b+w.JPG",name:"Glass"}],collection2:[{src:"cash.JPG",name:"Cash Suitcase"},{src:"robo.JPG",name:"Robot"},{src:"tako.JPG",name:"Octopus"}],collection5:[{src:"angrykid2.JPG",name:"Angry 1"},{src:"angrykid1.JPG",name:"Angry 2"},{src:"angrykid3.JPG",name:"Angry 3"},{src:"angrykid4.JPG",name:"Angry 4"},{src:"angrykid5.JPG",name:"Angry 5"}],collection3:[{src:"citizens.JPG",name:"Citizens of Science"},{src:"screwit.JPG",name:"Screw It"},{src:"boltit.JPG",name:"Boltman"},{src:"kumo.JPG",name:"Spiderdeath"}]}}return new class extends ae{constructor(e){super(),re(this,e,Ye,Te,a,["name"])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
