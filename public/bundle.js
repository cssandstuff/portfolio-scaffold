var app=function(){"use strict";function e(){}const t=e=>e;function n(e){return e()}function o(){return Object.create(null)}function i(e){e.forEach(n)}function r(e){return"function"==typeof e}function l(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function a(e,t,n){const o=t.subscribe(n);e.$$.on_destroy.push(o.unsubscribe?()=>o.unsubscribe():o)}const c="undefined"!=typeof window;let s=c?()=>window.performance.now():()=>Date.now(),d=c?requestAnimationFrame:e;const m=new Set;let g,u=!1;function f(){m.forEach(e=>{e[0](s())||(m.delete(e),e[1]())}),(u=m.size>0)&&d(f)}function $(e){let t;return u||(u=!0,d(f)),{promise:new Promise(n=>{m.add(t=[e,n])}),abort(){m.delete(t)}}}function h(e,t){e.appendChild(t)}function p(e,t,n){e.insertBefore(t,n||null)}function y(e){e.parentNode.removeChild(e)}function v(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function w(e){return document.createElement(e)}function b(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function x(e){return document.createTextNode(e)}function k(){return x(" ")}function E(){return x("")}function C(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function _(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function N(e,t){t=""+t,e.data!==t&&(e.data=t)}function P(e,t,n){e.style.setProperty(t,n)}function L(e,t,n){e.classList[n?"add":"remove"](t)}let G,S=0,j={};function J(e,t,n,o,i,r,l,a=0){const c=16.666/o;let s="{\n";for(let e=0;e<=1;e+=c){const o=t+(n-t)*r(e);s+=100*e+`%{${l(o,1-o)}}\n`}const d=s+`100% {${l(n,1-n)}}\n}`,m=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(d)}_${a}`;if(!j[m]){if(!g){const e=w("style");document.head.appendChild(e),g=e.sheet}j[m]=!0,g.insertRule(`@keyframes ${m} ${d}`,g.cssRules.length)}const u=e.style.animation||"";return e.style.animation=`${u?`${u}, `:""}${m} ${o}ms linear ${i}ms 1 both`,S+=1,m}function O(e,t){e.style.animation=(e.style.animation||"").split(", ").filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")).join(", "),t&&!--S&&d(()=>{if(S)return;let e=g.cssRules.length;for(;e--;)g.deleteRule(e);j={}})}function z(e){G=e}function B(){if(!G)throw new Error("Function called outside component initialization");return G}function T(e){B().$$.on_mount.push(e)}function Y(){const e=G;return(t,n)=>{const o=e.$$.callbacks[t];if(o){const i=function(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}(t,n);o.slice().forEach(t=>{t.call(e,i)})}}}const R=[],q=Promise.resolve();let A=!1;const I=[],X=[],H=[];function D(e){I.push(e)}function K(e){X.push(e)}function W(){const e=new Set;do{for(;R.length;){const e=R.shift();z(e),F(e.$$)}for(;I.length;)I.shift()();for(;X.length;){const t=X.pop();e.has(t)||(t(),e.add(t))}}while(R.length);for(;H.length;)H.pop()();A=!1}function F(e){e.fragment&&(e.update(e.dirty),i(e.before_render),e.fragment.p(e.dirty,e.ctx),e.dirty=null,e.after_render.forEach(K))}let M,V;function Q(){return M||(M=Promise.resolve()).then(()=>{M=null}),M}function U(){V={remaining:0,callbacks:[]}}function Z(){V.remaining||i(V.callbacks)}function ee(e){V.callbacks.push(e)}function te(n,o,i){let r,l,a=o(n,i),c=!1,d=0;function m(){r&&O(n,r)}function g(){const{delay:o=0,duration:i=300,easing:g=t,tick:u=e,css:f}=a;f&&(r=J(n,0,1,i,o,g,f,d++)),u(0,1);const h=s()+o,p=h+i;l&&l.abort(),c=!0,l=$(e=>{if(c){if(e>=p)return u(1,0),m(),c=!1;if(e>=h){const t=g((e-h)/i);u(t,1-t)}}return c})}let u=!1;return{start(){u||(O(n),"function"==typeof a?(a=a(),Q().then(g)):g())},invalidate(){u=!1},end(){c&&(m(),c=!1)}}}function ne(n,o,r){let l,a=o(n,r),c=!0;const d=V;function m(){const{delay:o=0,duration:r=300,easing:m=t,tick:g=e,css:u}=a;u&&(l=J(n,1,0,r,o,m,u));const f=s()+o,h=f+r;$(e=>{if(c){if(e>=h)return g(0,1),--d.remaining||i(d.callbacks),!1;if(e>=f){const t=m((e-f)/r);g(1-t,t)}}return c})}return d.remaining+=1,"function"==typeof a?Q().then(()=>{a=a(),m()}):m(),{end(e){e&&a.tick&&a.tick(1,0),c&&(l&&O(n,l),c=!1)}}}function oe(e,t,o){const{fragment:l,on_mount:a,on_destroy:c,after_render:s}=e.$$;l.m(t,o),K(()=>{const t=a.map(n).filter(r);c?c.push(...t):i(t),e.$$.on_mount=[]}),s.forEach(K)}function ie(e,t){e.$$.dirty||(R.push(e),A||(A=!0,q.then(W)),e.$$.dirty=o()),e.$$.dirty[t]=!0}function re(t,n,r,l,a,c){const s=G;z(t);const d=n.props||{},m=t.$$={fragment:null,ctx:null,props:c,update:e,not_equal:a,bound:o(),on_mount:[],on_destroy:[],before_render:[],after_render:[],context:new Map(s?s.$$.context:[]),callbacks:o(),dirty:null};let g=!1;var u;m.ctx=r?r(t,d,(e,n)=>{m.ctx&&a(m.ctx[e],m.ctx[e]=n)&&(m.bound[e]&&m.bound[e](n),g&&ie(t,e))}):d,m.update(),g=!0,i(m.before_render),m.fragment=l(m.ctx),n.target&&(n.hydrate?m.fragment.l((u=n.target,Array.from(u.childNodes))):m.fragment.c(),n.intro&&t.$$.fragment.i&&t.$$.fragment.i(),oe(t,n.target,n.anchor),W()),z(s)}class le{$destroy(){var t,n;n=!0,(t=this).$$&&(i(t.$$.on_destroy),t.$$.fragment.d(n),t.$$.on_destroy=t.$$.fragment=null,t.$$.ctx={}),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}}function ae(e){var t;return{c(){(t=w("div")).className="loader svelte-m5fr7l",P(t,"background","#ccc")},m(e,n){p(e,t,n)},d(e){e&&y(t)}}}function ce(t){var n,o,i,r,l=!t.visible&&ae();return{c(){n=w("img"),i=k(),l&&l.c(),r=E(),n.src=t.image,n.alt="",n.className=o=(t.visible?"":"opacity--0")+" svelte-m5fr7l"},m(e,t){p(e,n,t),p(e,i,t),l&&l.m(e,t),p(e,r,t)},p(e,t){e.image&&(n.src=t.image),e.visible&&o!==(o=(t.visible?"":"opacity--0")+" svelte-m5fr7l")&&(n.className=o),t.visible?l&&(l.d(1),l=null):l||((l=ae()).c(),l.m(r.parentNode,r))},i:e,o:e,d(e){e&&(y(n),y(i)),l&&l.d(e),e&&y(r)}}}function se(e,t,n){let{image:o,visible:i=0}=t;const r=Y();return T(async()=>{const e=await fetch(o);if(200===e.status){n("image",o=e.url);const t=new Image;t.onload=(()=>{n("visible",i=!0),r("loadingComplete",{loadingComplete:1})}),t.src=o}else n("visible",i=!1)}),e.$set=(e=>{"image"in e&&n("image",o=e.image),"visible"in e&&n("visible",i=e.visible)}),{image:o,visible:i}}class de extends le{constructor(e){super(),re(this,e,se,ce,l,["image","visible"])}}function me(t,n=e){let o;const i=[];function r(e){if(l(t,e)){if(t=e,!o)return;i.forEach(e=>e[1]()),i.forEach(e=>e[0](t))}}return{set:r,update:function(e){r(e(t))},subscribe:function(l,a=e){const c=[l,a];return i.push(c),1===i.length&&(o=n(r)||e),l(t),()=>{const e=i.indexOf(c);-1!==e&&i.splice(e,1),0===i.length&&o()}}}}const ge=me(!1),ue=me(0),fe=me(!1);function $e(e){const t=e-1;return t*t*t+1}function he(e,{delay:t=0,duration:n=400}){const o=+getComputedStyle(e).opacity;return{delay:t,duration:n,css:e=>`opacity: ${e*o}`}}function pe(e,{delay:t=0,duration:n=400,easing:o=$e,x:i=0,y:r=0,opacity:l=0}){const a=getComputedStyle(e),c=+a.opacity,s="none"===a.transform?"":a.transform,d=c*(1-l);return{delay:t,duration:n,easing:o,css:(e,t)=>`\n\t\t\ttransform: ${s} translate(${(1-e)*i}px, ${(1-e)*r}px);\n\t\t\topacity: ${c-d*t}`}}function ye(e,t,n){const o=Object.create(e);return o.image=t[n],o.index=n,o}function ve(e,t,n){const o=Object.create(e);return o.image=t[n],o.index=n,o}function we(e){var t,n,o,i,r,l,a,c,s,d=e.image.name,m=new de({props:{image:e.lowresdir+"/"+e.image.src}});function g(...t){return e.click_handler(e,...t)}return m.$on("loadingComplete",e.loadingComplete_handler),{c(){t=w("a"),m.$$.fragment.c(),n=k(),o=w("span"),i=k(),r=w("h2"),l=x(d),o.className="magnify svelte-zyhbbi",r.className="svelte-zyhbbi",L(r,"out",!0===e.$destroyingExpandedGallery),L(r,"in",!1===e.$loadingSecondary),t.className="galleryitem svelte-zyhbbi",t.href=a=e.hiresdir+"/"+e.image.src,s=C(t,"click",g)},m(e,a){p(e,t,a),oe(m,t,null),h(t,n),h(t,o),h(t,i),h(t,r),h(r,l),c=!0},p(n,o){e=o;var i={};(n.lowresdir||n.stack)&&(i.image=e.lowresdir+"/"+e.image.src),m.$set(i),c&&!n.stack||d===(d=e.image.name)||N(l,d),n.$destroyingExpandedGallery&&L(r,"out",!0===e.$destroyingExpandedGallery),n.$loadingSecondary&&L(r,"in",!1===e.$loadingSecondary),c&&!n.hiresdir&&!n.stack||a===(a=e.hiresdir+"/"+e.image.src)||(t.href=a)},i(e){c||(m.$$.fragment.i(e),c=!0)},o(e){m.$$.fragment.o(e),c=!1},d(e){e&&y(t),m.$destroy(),s()}}}function be(e){for(var t,n,o,r,l,a,c,s,d,m,g=e.stack,u=[],f=0;f<g.length;f+=1)u[f]=xe(ye(e,g,f));function $(e,t,n){u[e]&&(t&&ee(()=>{u[e].d(t),u[e]=null}),u[e].o(n))}return{c(){t=w("div");for(var i=0;i<u.length;i+=1)u[i].c();n=k(),o=w("span"),r=k(),l=w("span"),a=k(),(c=w("span")).textContent="close",o.className="previous svelte-zyhbbi",l.className="next svelte-zyhbbi",c.className="close svelte-zyhbbi",t.className="hires svelte-zyhbbi",m=[C(o,"click",e.showPrevious),C(l,"click",e.showNext),C(c,"click",e.closeGallery)]},m(e,i){p(e,t,i);for(var s=0;s<u.length;s+=1)u[s].m(t,null);h(t,n),h(t,o),h(t,r),h(t,l),h(t,a),h(t,c),d=!0},p(e,o){if(e.current||e.hiresdir||e.stack||e.handleLoadingHiResComplete){g=o.stack;for(var i=0;i<g.length;i+=1){const r=ye(o,g,i);u[i]?(u[i].p(e,r),u[i].i(1)):(u[i]=xe(r),u[i].c(),u[i].i(1),u[i].m(t,n))}for(U();i<u.length;i+=1)$(i,1,1);Z()}},i(e){if(!d){for(var n=0;n<g.length;n+=1)u[n].i();s||K(()=>{(s=te(t,he,{duration:300})).start()}),d=!0}},o(e){u=u.filter(Boolean);for(let e=0;e<u.length;e+=1)$(e,0);d=!1},d(e){e&&y(t),v(u,e),i(m)}}}function xe(e){var t,n,o=new de({props:{image:e.hiresdir+"/"+e.image.src}});return o.$on("loadingComplete",e.handleLoadingHiResComplete),{c(){t=w("div"),o.$$.fragment.c(),t.className="svelte-zyhbbi",L(t,"active",e.current===e.index)},m(e,i){p(e,t,i),oe(o,t,null),n=!0},p(e,n){var i={};(e.hiresdir||e.stack)&&(i.image=n.hiresdir+"/"+n.image.src),o.$set(i),e.current&&L(t,"active",n.current===n.index)},i(e){n||(o.$$.fragment.i(e),n=!0)},o(e){o.$$.fragment.o(e),n=!1},d(e){e&&y(t),o.$destroy()}}}function ke(e){var t,n,o,r,l,a,c=!1,s=()=>{c=!1};K(e.onwindowscroll);for(var d=e.stack,m=[],g=0;g<d.length;g+=1)m[g]=we(ve(e,d,g));function u(e,t,n){m[e]&&(t&&ee(()=>{m[e].d(t),m[e]=null}),m[e].o(n))}var f=e.ready&&be(e);return{c(){n=w("div");for(var i=0;i<m.length;i+=1)m[i].c();o=k(),f&&f.c(),r=E(),n.className="stack gallery svelte-zyhbbi",a=[C(window,"keydown",e.handleKeydown),C(window,"scroll",()=>{c=!0,clearTimeout(t),t=setTimeout(s,100),e.onwindowscroll()})]},m(t,i){p(t,n,i);for(var a=0;a<m.length;a+=1)m[a].m(n,null);D(()=>e.div_binding(n,null)),p(t,o,i),f&&f.m(t,i),p(t,r,i),l=!0},p(e,o){if(e.y&&!c&&(c=!0,clearTimeout(t),window.scrollTo(window.pageXOffset,o.y),t=setTimeout(s,100)),e.hiresdir||e.stack||e.$destroyingExpandedGallery||e.$loadingSecondary||e.lowresdir){d=o.stack;for(var i=0;i<d.length;i+=1){const t=ve(o,d,i);m[i]?(m[i].p(e,t),m[i].i(1)):(m[i]=we(t),m[i].c(),m[i].i(1),m[i].m(n,null))}for(U();i<m.length;i+=1)u(i,1,1);Z()}e.items&&(o.div_binding(null,n),o.div_binding(n,null)),o.ready?f?(f.p(e,o),f.i(1)):((f=be(o)).c(),f.i(1),f.m(r.parentNode,r)):f&&(U(),ee(()=>{f.d(1),f=null}),f.o(1),Z())},i(e){if(!l){for(var t=0;t<d.length;t+=1)m[t].i();f&&f.i(),l=!0}},o(e){m=m.filter(Boolean);for(let e=0;e<m.length;e+=1)u(e,0);f&&f.o(),l=!1},d(t){t&&y(n),v(m,t),e.div_binding(null,n),t&&y(o),f&&f.d(t),t&&y(r),i(a)}}}function Ee(e,t,n){let o,i;a(e,fe,e=>{n("$loadingSecondary",o=e)}),a(e,ge,e=>{n("$destroyingExpandedGallery",i=e)});let r,l,c,s,d,m,g,u,{stack:f,lowresdir:$,hiresdir:h,originaltarget:p}=t,y=!1,v=!1;const w=e=>new Promise(t=>setTimeout(t,e));let b=0;var x;function k(e,t){n("current",d=t),m=t,e.preventDefault(),function(e){let t=l[e].getElementsByTagName("img")[0],n=l[e].getBoundingClientRect(),o=document.documentElement.clientWidth/2,i=document.documentElement.clientHeight/2,r=o+2*i,a=n.width+n.height;Object.entries(l).forEach(([e,t])=>{t.style.zIndex="1"}),t.classList.remove("notransition"),t.classList.remove("quicktransition"),l[e].style.zIndex="99",t.style.transform=`translateX(${o-n.left-n.width/2}px) translateY(${i-n.top-n.height/2}px) scale(${r/a})`,(async()=>{await w(400),document.documentElement.classList.add("locked")})()}(d),n("ready",y=!0)}function E(){r.classList.add("no-pointer-events"),void 0!==l?(console.log("weren't me guv"),C()):(console.log("object was undefined, hard luck son."),(async()=>{await w(180),Object.entries(l).forEach(([e,t])=>{console.log("trying again"),C()})})())}function C(){let e=p.getBoundingClientRect();Object.entries(l).forEach(([t,o])=>{let l=o.getBoundingClientRect(),a=`translateX(${e.x+4-l.x}px) translateY(${e.y+4-l.y}px) rotate(${4*t}deg)`;0==t&&(a=`translateX(${e.x+4-l.x}px) translateY(${e.y+6-l.y}px) scale(1.08) translateY(5px) rotate(-2deg)`),o.style.zIndex=s-t,i?(console.log(`destroying originalScrollPos = ${u}`),window.scrollTo(0,u),r.style.transform="translateY(0px)",n("secondLevel",r),a=`translateX(${e.x-l.x}px) translateY(${e.y-l.y}px) rotate(${2*t}deg)`,o.classList.add("quicktransition"),o.style.transform=a):o.style.transform=a})}function _(){n("current",d<=0?d=f.length-1:--d)}function N(){d>=f.length-1?n("current",d=0):n("current",++d)}function P(){console.log(`current is ${m}`);l[m].getElementsByTagName("img")[0];let e=l[d].getElementsByTagName("img")[0],t=l[d].getBoundingClientRect();document.documentElement.clientWidth,document.documentElement.clientHeight;console.log(`scrollOffset = ${scrollY}`),console.log(`rect top is ${t.top}`),console.log(`scrollOffset = ${scrollY}`),Object.entries(c).forEach(([e,t])=>{t.classList.add("notransition"),t.style.transform=`translateX(0) translateY(${u}) scale(1)`}),l[d].style.zIndex="99",e.classList.remove("notransition"),e.classList.add("hitransition"),document.documentElement.classList.remove("locked"),window.scrollTo(0,u),(async()=>{await w(10),e.style.transform="translateX(0) translateY(0) scale(1)"})(),n("ready",y=!1)}return T(()=>{l=r.getElementsByClassName("galleryitem"),c=r.getElementsByTagName("img"),s=r.getElementsByClassName("galleryitem").length,E()}),x=(()=>{o||i||v||(console.log(`scrollOffset = ${scrollY}`),u=scrollY,window.scrollTo(0,0),r.style.transform=`translateY(-${u}px)`,n("secondLevel",r),(async()=>{await w(80),Object.entries(l).forEach(([e,t])=>{t.getBoundingClientRect(),t.classList.add("slowtransition"),t.style.transform=`translateX(0px) translateY(${u}px)`})})(),(async()=>{await w(500),r.classList.remove("no-pointer-events")})(),v=!0,console.log("wtf")),i&&v&&(console.log("boom"),E(),v=!1)}),B().$$.after_render.push(x),function(e){B().$$.on_destroy.push(e)}(()=>{console.log("being destroyed"),ge.update(e=>!1)}),e.$set=(e=>{"stack"in e&&n("stack",f=e.stack),"lowresdir"in e&&n("lowresdir",$=e.lowresdir),"hiresdir"in e&&n("hiresdir",h=e.hiresdir),"originaltarget"in e&&n("originaltarget",p=e.originaltarget)}),{stack:f,lowresdir:$,hiresdir:h,originaltarget:p,secondLevel:r,ready:y,current:d,y:g,loadLargeImages:k,handleLoadingHiResComplete:function(e){(b+=e.detail.loadingComplete)===f.length&&(b=0,u=scrollY)},showPrevious:_,showNext:N,closeGallery:P,handleKeydown:function(e){console.log("key is downz"),console.log(e),"ArrowRight"==e.code&&N(),"ArrowLeft"==e.code&&_(),"Escape"==e.code&&P()},$loadingSecondary:o,$destroyingExpandedGallery:i,loadingComplete_handler:function(t){!function(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(e=>e(t))}(e,t)},onwindowscroll:function(){g=window.pageYOffset,n("y",g)},click_handler:function({index:e},t){return k(t,e)},div_binding:function(e,t){n("secondLevel",r=e)}}}class Ce extends le{constructor(e){super(),re(this,e,Ee,ke,l,["stack","lowresdir","hiresdir","originaltarget"])}}function _e(e,t,n){const o=Object.create(e);return o.image=t[n],o.index=n,o}function Ne(e){var t,n,o,i,r,l,a,c,s,d,m,g,u=e.imagecollection.length;return{c(){t=w("div"),n=w("p"),o=x(e.name),i=k(),r=w("span"),l=x("("),a=x(u),c=x(" images)"),r.className="svelte-djv2qi",n.className="svelte-djv2qi",t.className="breadcrumb svelte-djv2qi",g=C(t,"click",e.resetStacks)},m(e,s){p(e,t,s),h(t,n),h(n,o),h(n,i),h(n,r),h(r,l),h(r,a),h(r,c),m=!0},p(e,t){m&&!e.name||N(o,t.name),m&&!e.imagecollection||u===(u=t.imagecollection.length)||N(a,u)},i(e){m||(K(()=>{d&&d.end(1),s||(s=te(t,pe,{y:-40,duration:400})),s.start()}),m=!0)},o(e){s&&s.invalidate(),e&&(d=ne(t,pe,{y:-40,duration:400})),m=!1},d(e){e&&(y(t),d&&d.end()),g()}}}function Pe(e){var t,n;return{c(){t=b("svg"),_(n=b("circle"),"class","path svelte-djv2qi"),_(n,"cx","25"),_(n,"cy","25"),_(n,"r","20"),_(n,"fill","none"),_(n,"stroke-width","3"),_(t,"class","spinner svelte-djv2qi"),_(t,"viewBox","0 0 50 50")},m(e,o){p(e,t,o),h(t,n)},d(e){e&&y(t)}}}function Le(t){var n;return{c(){(n=w("div")).className="dummyimage svelte-djv2qi",P(n,"transform","rotate("+2*t.index+"deg)"),P(n,"z-index","-"+t.index),P(n,"opacity",1-1/t.imagecollection.length*t.index/1.2)},m(e,t){p(e,n,t)},p(e,t){e.imagecollection&&P(n,"opacity",1-1/t.imagecollection.length*t.index/1.2)},i:e,o:e,d(e){e&&y(n)}}}function Ge(e){var t,n=new de({props:{image:e.lowresdir+"/"+e.image.src}});return{c(){n.$$.fragment.c()},m(e,o){oe(n,e,o),t=!0},p(e,t){var o={};(e.lowresdir||e.imagecollection)&&(o.image=t.lowresdir+"/"+t.image.src),n.$set(o)},i(e){t||(n.$$.fragment.i(e),t=!0)},o(e){n.$$.fragment.o(e),t=!1},d(e){n.$destroy(e)}}}function Se(e){var t,n,o,i,r=[Ge,Le],l=[];function a(e){return 0==e.index?0:1}return t=a(e),n=l[t]=r[t](e),{c(){n.c(),o=E()},m(e,n){l[t].m(e,n),p(e,o,n),i=!0},p(e,i){var c=t;(t=a(i))===c?l[t].p(e,i):(U(),ee(()=>{l[c].d(1),l[c]=null}),n.o(1),Z(),(n=l[t])||(n=l[t]=r[t](i)).c(),n.i(1),n.m(o.parentNode,o))},i(e){i||(n&&n.i(),i=!0)},o(e){n&&n.o(),i=!1},d(e){l[t].d(e),e&&y(o)}}}function je(e){var t,n,o,i;let r={lowresdir:e.lowresdir,hiresdir:e.hiresdir,stack:e.imagecollection,originaltarget:e.collection};var l=new Ce({props:r});return D(()=>e.galleryexpanded_binding(l)),l.$on("loadingComplete",e.handleLoadingComplete),{c(){t=w("div"),l.$$.fragment.c(),t.className=n="loading--"+e.$loadingSecondary+" svelte-djv2qi"},m(e,n){p(e,t,n),oe(l,t,null),i=!0},p(e,o){var r={};e.lowresdir&&(r.lowresdir=o.lowresdir),e.hiresdir&&(r.hiresdir=o.hiresdir),e.imagecollection&&(r.stack=o.imagecollection),e.collection&&(r.originaltarget=o.collection),l.$set(r),i&&!e.$loadingSecondary||n===(n="loading--"+o.$loadingSecondary+" svelte-djv2qi")||(t.className=n)},i(e){i||(l.$$.fragment.i(e),o&&o.end(1),i=!0)},o(e){l.$$.fragment.o(e),e&&(o=ne(t,he,{duration:500})),i=!1},d(n){n&&y(t),e.galleryexpanded_binding(null),l.$destroy(),n&&o&&o.end()}}}function Je(e){for(var t,n,o,r,l,a,c,s,d,m,g,u,f,$,b,_,P=e.imagecollection.length,G=e.$activeCollection==e.id&&Ne(e),S=e.$activeCollection==e.id&&Pe(),j=e.imagecollection,J=[],O=0;O<j.length;O+=1)J[O]=Se(_e(e,j,O));function z(e,t,n){J[e]&&(t&&ee(()=>{J[e].d(t),J[e]=null}),J[e].o(n))}var B=e.attemptingtoLoad&&je(e);return{c(){G&&G.c(),t=k(),n=w("a"),S&&S.c(),o=k();for(var i=0;i<J.length;i+=1)J[i].c();r=k(),l=w("h2"),a=x(e.name),c=k(),s=w("span"),d=x("("),m=x(P),g=x(" Images)"),f=k(),B&&B.c(),$=E(),s.className="svelte-djv2qi",l.className="svelte-djv2qi",n.href=u=e.hiresdir+"/"+e.imagecollection[0].src,n.className="collection svelte-djv2qi",n.dataset.id=e.id,L(n,"active",e.id===e.$activeCollection&&1==e.$loadingSecondary),L(n,"nonactive",0!==e.$activeCollection&&e.id!==e.$activeCollection),_=[C(n,"mouseenter",e.rotate),C(n,"mouseleave",e.unRotate),C(n,"click",e.showContents)]},m(i,u){G&&G.m(i,u),p(i,t,u),p(i,n,u),S&&S.m(n,null),h(n,o);for(var y=0;y<J.length;y+=1)J[y].m(n,null);h(n,r),h(n,l),h(l,a),h(l,c),h(l,s),h(s,d),h(s,m),h(s,g),D(()=>e.a_binding(n,null)),p(i,f,u),B&&B.m(i,u),p(i,$,u),b=!0},p(e,i){if(i.$activeCollection==i.id?G?(G.p(e,i),G.i(1)):((G=Ne(i)).c(),G.i(1),G.m(t.parentNode,t)):G&&(U(),ee(()=>{G.d(1),G=null}),G.o(1),Z()),i.$activeCollection==i.id?S||((S=Pe()).c(),S.m(n,o)):S&&(S.d(1),S=null),e.lowresdir||e.imagecollection){j=i.imagecollection;for(var l=0;l<j.length;l+=1){const t=_e(i,j,l);J[l]?(J[l].p(e,t),J[l].i(1)):(J[l]=Se(t),J[l].c(),J[l].i(1),J[l].m(n,r))}for(U();l<J.length;l+=1)z(l,1,1);Z()}b&&!e.name||N(a,i.name),b&&!e.imagecollection||P===(P=i.imagecollection.length)||N(m,P),e.items&&(i.a_binding(null,n),i.a_binding(n,null)),b&&!e.hiresdir&&!e.imagecollection||u===(u=i.hiresdir+"/"+i.imagecollection[0].src)||(n.href=u),b&&!e.id||(n.dataset.id=i.id),(e.id||e.$activeCollection||e.$loadingSecondary)&&L(n,"active",i.id===i.$activeCollection&&1==i.$loadingSecondary),(e.$activeCollection||e.id)&&L(n,"nonactive",0!==i.$activeCollection&&i.id!==i.$activeCollection),i.attemptingtoLoad?B?(B.p(e,i),B.i(1)):((B=je(i)).c(),B.i(1),B.m($.parentNode,$)):B&&(U(),ee(()=>{B.d(1),B=null}),B.o(1),Z())},i(e){if(!b){G&&G.i();for(var t=0;t<j.length;t+=1)J[t].i();B&&B.i(),b=!0}},o(e){G&&G.o(),J=J.filter(Boolean);for(let e=0;e<J.length;e+=1)z(e,0);B&&B.o(),b=!1},d(o){G&&G.d(o),o&&(y(t),y(n)),S&&S.d(),v(J,o),e.a_binding(null,n),o&&y(f),B&&B.d(o),o&&y($),i(_)}}}const Oe=new Set;function ze(e,t,n){let o,i;a(e,ue,e=>{n("$activeCollection",o=e)}),a(e,fe,e=>{n("$loadingSecondary",i=e)});let{imagecollection:r,lowresdir:l,hiresdir:c,id:s=0,name:d,color:m}=t;const g=e=>new Promise(t=>setTimeout(t,e));let u,f,$,h,p,y=0,v=!1;return T(()=>(h=u.getElementsByTagName("div"),p=u.getElementsByTagName("img")[0],Oe.add(u),()=>Oe.delete(u))),e.$set=(e=>{"imagecollection"in e&&n("imagecollection",r=e.imagecollection),"lowresdir"in e&&n("lowresdir",l=e.lowresdir),"hiresdir"in e&&n("hiresdir",c=e.hiresdir),"id"in e&&n("id",s=e.id),"name"in e&&n("name",d=e.name),"color"in e&&n("color",m=e.color)}),{imagecollection:r,lowresdir:l,hiresdir:c,id:s,name:d,color:m,collection:u,galleryExpanded:$,attemptingtoLoad:v,rotate:function(){Object.entries(h).forEach(([e,t])=>{t.style.transform="rotate("+(4*parseInt(e)+5)+"deg)"}),p.style.transform="scale(1.03) translateY(5px) rotate(-1deg)"},unRotate:function(){Object.entries(h).forEach(([e,t])=>{t.style.transform="rotate("+2*(parseInt(e)+1)+"deg)"}),p.style.transform="scale(1) rotate(0deg)"},showContents:function(e){if(n("attemptingtoLoad",v=!0),e.preventDefault(),f=getComputedStyle(document.documentElement).getPropertyValue("--bgcolor"),m){let e=m.split(",");document.documentElement.style.setProperty("--bgcolor",`hsla(${e[0]}, ${e[1]}%, ${e[2]}%, 1)`),document.documentElement.style.setProperty("--bgcolortint",`hsla(${e[0]}, ${e[1]}%, ${e[2]}%, 0.6)`),document.documentElement.style.setProperty("--bgcolordarktint",`hsl(${e[0]}, ${e[1]}%, ${e[2]/e[1]*10}%)`)}fe.update(e=>!0),ue.update(e=>s),function(){let e=document.documentElement.clientWidth/2,t=document.documentElement.clientHeight/2;Oe.forEach(n=>{var i=n.getBoundingClientRect();n.classList.add("neardeath");let r=parseInt(n.dataset.id);n.classList.add("no-pointer-events"),r!==o&&(n.style.transform=`translateX(${i.left/3-e/3}px) translateY(${i.top/3-t/3}px)`)})}()},resetStacks:function(){console.log("resetting..."),document.documentElement.style.setProperty("--bgcolor",f),ge.update(e=>!0),(async()=>{await g(200),ue.update(e=>0),n("attemptingtoLoad",v=!1),Oe.forEach(e=>{e.style.transform="translateX(0px) translateY(0px)",e.classList.remove("neardeath")})})(),(async()=>{await g(600),Oe.forEach(e=>{e.classList.remove("no-pointer-events")})})()},handleLoadingComplete:function(e){(y+=e.detail.loadingComplete)===r.length&&(console.log("Loading complete"),fe.update(e=>!1),y=0)},$activeCollection:o,$loadingSecondary:i,a_binding:function(e,t){n("collection",u=e)},galleryexpanded_binding:function(e){n("galleryExpanded",$=e)}}}class Be extends le{constructor(e){super(),re(this,e,ze,Je,l,["imagecollection","lowresdir","hiresdir","id","name","color"])}}function Te(e){var t,n,o,i,r,l,a,c,s,d,m=new Be({props:{width:"",name:"Ongakukai",color:"44, 47, 90",lowresdir:"images/16_ongakukai",hiresdir:"images/16_ongakukai/originals",imagecollection:e.collection0,id:Ye++}}),g=new Be({props:{width:"",name:"Painterly",color:"261, 27, 71",lowresdir:"images",hiresdir:"images/originals",imagecollection:e.collection1,id:Ye++}}),u=new Be({props:{width:"",name:"Splashes",color:"206, 69, 88",lowresdir:"images",hiresdir:"images/originals",imagecollection:e.collection2,id:Ye++}}),f=new Be({props:{width:"",name:"Citizens of Science",color:"182, 37, 73",lowresdir:"images",hiresdir:"images/originals",imagecollection:e.collection3,id:Ye++}}),$=new Be({props:{width:"",name:"Travelling",color:"209, 25, 24",lowresdir:"images",hiresdir:"images/originals",imagecollection:e.collection4,id:Ye++}}),v=new Be({props:{width:"",name:"Angry at kids",color:"13, 92, 87",lowresdir:"images",hiresdir:"images/originals",imagecollection:e.collection5,id:Ye++}}),b=new Be({props:{width:"",name:"Sketches",color:"109, 0, 76",lowresdir:"images",hiresdir:"images/originals",imagecollection:e.collection6,id:Ye++}});return{c(){t=w("div"),m.$$.fragment.c(),n=k(),g.$$.fragment.c(),o=k(),u.$$.fragment.c(),i=k(),f.$$.fragment.c(),r=k(),$.$$.fragment.c(),l=k(),v.$$.fragment.c(),a=k(),b.$$.fragment.c(),c=k(),(s=w("p")).innerHTML='<a href="https://github.com/cssandstuff/portfolio-scaffold" class="svelte-17oglvp">See on Github</a>',t.className="container svelte-17oglvp",s.className="svelte-17oglvp"},m(e,y){p(e,t,y),oe(m,t,null),h(t,n),oe(g,t,null),h(t,o),oe(u,t,null),h(t,i),oe(f,t,null),h(t,r),oe($,t,null),h(t,l),oe(v,t,null),h(t,a),oe(b,t,null),p(e,c,y),p(e,s,y),d=!0},p(e,t){var n={};e.collection0&&(n.imagecollection=t.collection0),e.uid&&(n.id=Ye++),m.$set(n);var o={};e.collection1&&(o.imagecollection=t.collection1),e.uid&&(o.id=Ye++),g.$set(o);var i={};e.collection2&&(i.imagecollection=t.collection2),e.uid&&(i.id=Ye++),u.$set(i);var r={};e.collection3&&(r.imagecollection=t.collection3),e.uid&&(r.id=Ye++),f.$set(r);var l={};e.collection4&&(l.imagecollection=t.collection4),e.uid&&(l.id=Ye++),$.$set(l);var a={};e.collection5&&(a.imagecollection=t.collection5),e.uid&&(a.id=Ye++),v.$set(a);var c={};e.collection6&&(c.imagecollection=t.collection6),e.uid&&(c.id=Ye++),b.$set(c)},i(e){d||(m.$$.fragment.i(e),g.$$.fragment.i(e),u.$$.fragment.i(e),f.$$.fragment.i(e),$.$$.fragment.i(e),v.$$.fragment.i(e),b.$$.fragment.i(e),d=!0)},o(e){m.$$.fragment.o(e),g.$$.fragment.o(e),u.$$.fragment.o(e),f.$$.fragment.o(e),$.$$.fragment.o(e),v.$$.fragment.o(e),b.$$.fragment.o(e),d=!1},d(e){e&&y(t),m.$destroy(),g.$destroy(),u.$destroy(),f.$destroy(),$.$destroy(),v.$destroy(),b.$destroy(),e&&(y(c),y(s))}}}let Ye=1;function Re(e,t,n){let{name:o}=t;return e.$set=(e=>{"name"in e&&n("name",o=e.name)}),{name:o,collection0:[{src:"01_front_cover.jpg",name:"Noa"},{src:"02_back_cover.jpg",name:"Dog"},{src:"racoon_together.jpg",name:"Glass"}],collection1:[{src:"Noa.JPG",name:"Noa"},{src:"dog.JPG",name:"Dog"},{src:"glass.JPG",name:"Glass"}],collection4:[{src:"atami.JPG",name:"Atami at night"},{src:"kenodo.JPG",name:"Konodo Highway"},{src:"kenodo2.JPG",name:"Tunnels"}],collection6:[{src:"boring.JPG",name:"Everything is boring"},{src:"hownotto.JPG",name:"How not to draw"},{src:"isometric.JPG",name:"Isometric"},{src:"notes.JPG",name:"Notes"},{src:"glass-b+w.JPG",name:"Glass"}],collection2:[{src:"cash.JPG",name:"Cash Suitcase"},{src:"robo.JPG",name:"Robot"},{src:"tako.JPG",name:"Octopus"}],collection5:[{src:"angrykid2.JPG",name:"Angry 1"},{src:"angrykid1.JPG",name:"Angry 2"},{src:"angrykid3.JPG",name:"Angry 3"},{src:"angrykid4.JPG",name:"Angry 4"},{src:"angrykid5.JPG",name:"Angry 5"}],collection3:[{src:"citizens.JPG",name:"Citizens of Science"},{src:"screwit.JPG",name:"Screw It"},{src:"boltit.JPG",name:"Boltman"},{src:"kumo.JPG",name:"Spiderdeath"}]}}return new class extends le{constructor(e){super(),re(this,e,Re,Te,l,["name"])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
