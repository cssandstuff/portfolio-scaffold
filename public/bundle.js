var app=function(){"use strict";function e(){}const t=e=>e;function n(e){return e()}function i(){return Object.create(null)}function o(e){e.forEach(n)}function r(e){return"function"==typeof e}function a(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function l(e,t,n){const i=t.subscribe(n);e.$$.on_destroy.push(i.unsubscribe?()=>i.unsubscribe():i)}const s="undefined"!=typeof window;let c=s?()=>window.performance.now():()=>Date.now(),d=s?requestAnimationFrame:e;const m=new Set;let g,u=!1;function f(){m.forEach(e=>{e[0](c())||(m.delete(e),e[1]())}),(u=m.size>0)&&d(f)}function h(e){let t;return u||(u=!0,d(f)),{promise:new Promise(n=>{m.add(t=[e,n])}),abort(){m.delete(t)}}}function $(e,t){e.appendChild(t)}function p(e,t,n){e.insertBefore(t,n||null)}function y(e){e.parentNode.removeChild(e)}function v(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function w(e){return document.createElement(e)}function x(e){return document.createTextNode(e)}function b(){return x(" ")}function k(){return x("")}function E(e,t,n,i){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)}function _(e,t){t=""+t,e.data!==t&&(e.data=t)}function C(e,t,n){e.style.setProperty(t,n)}function T(e,t,n){e.classList[n?"add":"remove"](t)}let N,L=0,G={};function P(e,t,n,i,o,r,a,l=0){const s=16.666/i;let c="{\n";for(let e=0;e<=1;e+=s){const i=t+(n-t)*r(e);c+=100*e+`%{${a(i,1-i)}}\n`}const d=c+`100% {${a(n,1-n)}}\n}`,m=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(d)}_${l}`;if(!G[m]){if(!g){const e=w("style");document.head.appendChild(e),g=e.sheet}G[m]=!0,g.insertRule(`@keyframes ${m} ${d}`,g.cssRules.length)}const u=e.style.animation||"";return e.style.animation=`${u?`${u}, `:""}${m} ${i}ms linear ${o}ms 1 both`,L+=1,m}function S(e,t){e.style.animation=(e.style.animation||"").split(", ").filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")).join(", "),t&&!--L&&d(()=>{if(L)return;let e=g.cssRules.length;for(;e--;)g.deleteRule(e);G={}})}function B(e){N=e}function q(){if(!N)throw new Error("Function called outside component initialization");return N}function J(e){q().$$.on_mount.push(e)}function z(){const e=N;return(t,n)=>{const i=e.$$.callbacks[t];if(i){const o=function(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}(t,n);i.slice().forEach(t=>{t.call(e,o)})}}}const O=[],X=Promise.resolve();let j=!1;const R=[],Y=[],I=[];function A(e){R.push(e)}function H(e){Y.push(e)}function D(){const e=new Set;do{for(;O.length;){const e=O.shift();B(e),M(e.$$)}for(;R.length;)R.shift()();for(;Y.length;){const t=Y.pop();e.has(t)||(t(),e.add(t))}}while(O.length);for(;I.length;)I.pop()();j=!1}function M(e){e.fragment&&(e.update(e.dirty),o(e.before_render),e.fragment.p(e.dirty,e.ctx),e.dirty=null,e.after_render.forEach(H))}let K,W;function F(){return K||(K=Promise.resolve()).then(()=>{K=null}),K}function V(){W={remaining:0,callbacks:[]}}function Q(){W.remaining||o(W.callbacks)}function U(e){W.callbacks.push(e)}function Z(n,i,r){let a,l=i(n,r),s=!0;const d=W;function m(){const{delay:i=0,duration:r=300,easing:m=t,tick:g=e,css:u}=l;u&&(a=P(n,1,0,r,i,m,u));const f=c()+i,$=f+r;h(e=>{if(s){if(e>=$)return g(0,1),--d.remaining||o(d.callbacks),!1;if(e>=f){const t=m((e-f)/r);g(1-t,t)}}return s})}return d.remaining+=1,"function"==typeof l?F().then(()=>{l=l(),m()}):m(),{end(e){e&&l.tick&&l.tick(1,0),s&&(a&&S(n,a),s=!1)}}}function ee(e,t,i){const{fragment:a,on_mount:l,on_destroy:s,after_render:c}=e.$$;a.m(t,i),H(()=>{const t=l.map(n).filter(r);s?s.push(...t):o(t),e.$$.on_mount=[]}),c.forEach(H)}function te(e,t){e.$$.dirty||(O.push(e),j||(j=!0,X.then(D)),e.$$.dirty=i()),e.$$.dirty[t]=!0}function ne(t,n,r,a,l,s){const c=N;B(t);const d=n.props||{},m=t.$$={fragment:null,ctx:null,props:s,update:e,not_equal:l,bound:i(),on_mount:[],on_destroy:[],before_render:[],after_render:[],context:new Map(c?c.$$.context:[]),callbacks:i(),dirty:null};let g=!1;var u;m.ctx=r?r(t,d,(e,n)=>{m.ctx&&l(m.ctx[e],m.ctx[e]=n)&&(m.bound[e]&&m.bound[e](n),g&&te(t,e))}):d,m.update(),g=!0,o(m.before_render),m.fragment=a(m.ctx),n.target&&(n.hydrate?m.fragment.l((u=n.target,Array.from(u.childNodes))):m.fragment.c(),n.intro&&t.$$.fragment.i&&t.$$.fragment.i(),ee(t,n.target,n.anchor),D()),B(c)}class ie{$destroy(){var t,n;n=!0,(t=this).$$&&(o(t.$$.on_destroy),t.$$.fragment.d(n),t.$$.on_destroy=t.$$.fragment=null,t.$$.ctx={}),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}}function oe(e){var t;return{c(){(t=w("div")).innerHTML='<div class="inner svelte-vtevxo"></div>',t.className="loader svelte-vtevxo"},m(e,n){p(e,t,n)},d(e){e&&y(t)}}}function re(t){var n,i,o,r,a=!t.visible&&oe();return{c(){n=w("img"),o=b(),a&&a.c(),r=k(),n.src=t.image,n.alt="",n.className=i=(t.visible?"":"opacity--0")+" svelte-vtevxo"},m(e,t){p(e,n,t),p(e,o,t),a&&a.m(e,t),p(e,r,t)},p(e,t){e.image&&(n.src=t.image),e.visible&&i!==(i=(t.visible?"":"opacity--0")+" svelte-vtevxo")&&(n.className=i),t.visible?a&&(a.d(1),a=null):a||((a=oe()).c(),a.m(r.parentNode,r))},i:e,o:e,d(e){e&&(y(n),y(o)),a&&a.d(e),e&&y(r)}}}function ae(e,t,n){let{image:i,visible:o=0}=t;const r=z();return J(async()=>{const e=await fetch(i);if(200===e.status){n("image",i=e.url);const t=new Image;t.onload=(()=>{n("visible",o=!0),r("loadingComplete",{loadingComplete:1})}),t.src=i}else n("visible",o=!1)}),e.$set=(e=>{"image"in e&&n("image",i=e.image),"visible"in e&&n("visible",o=e.visible)}),{image:i,visible:o}}class le extends ie{constructor(e){super(),ne(this,e,ae,re,a,["image","visible"])}}function se(t){var n;return{c(){(n=w("div")).innerHTML='<div class="inner svelte-148bgtc"></div>',n.className="spinner svelte-148bgtc"},m(e,t){p(e,n,t)},p:e,i:e,o:e,d(e){e&&y(n)}}}class ce extends ie{constructor(e){super(),ne(this,e,null,se,a,[])}}function de(t,n=e){let i;const o=[];function r(e){if(a(t,e)){if(t=e,!i)return;o.forEach(e=>e[1]()),o.forEach(e=>e[0](t))}}return{set:r,update:function(e){r(e(t))},subscribe:function(a,l=e){const s=[a,l];return o.push(s),1===o.length&&(i=n(r)||e),a(t),()=>{const e=o.indexOf(s);-1!==e&&o.splice(e,1),0===o.length&&i()}}}}const me=de(!1),ge=de(0),ue=de(!1);function fe(e){const t=e-1;return t*t*t+1}function he(e,{delay:t=0,duration:n=400}){const i=+getComputedStyle(e).opacity;return{delay:t,duration:n,css:e=>`opacity: ${e*i}`}}function $e(e,{delay:t=0,duration:n=400,easing:i=fe,x:o=0,y:r=0,opacity:a=0}){const l=getComputedStyle(e),s=+l.opacity,c="none"===l.transform?"":l.transform,d=s*(1-a);return{delay:t,duration:n,easing:i,css:(e,t)=>`\n\t\t\ttransform: ${c} translate(${(1-e)*o}px, ${(1-e)*r}px);\n\t\t\topacity: ${s-d*t}`}}function pe(e,t,n){const i=Object.create(e);return i.image=t[n],i.index=n,i}function ye(e,t,n){const i=Object.create(e);return i.image=t[n],i.index=n,i}function ve(e){var t,n,i,o,r,a,l,s,c,d=e.image.name,m=new le({props:{image:e.lowresdir+"/"+e.image.src}});function g(...t){return e.click_handler(e,...t)}return m.$on("loadingComplete",e.loadingComplete_handler),{c(){t=w("a"),m.$$.fragment.c(),n=b(),i=w("span"),o=b(),r=w("h2"),a=x(d),i.className="magnify svelte-1tf03iq",T(i,"out",!1===e.showTitles),r.className="svelte-1tf03iq",T(r,"out",!0===e.$destroyingExpandedGallery||!1===e.showTitles),T(r,"in",!1===e.$loadingSecondary&&!1!==e.showTitles&&!e.$destroyingExpandedGallery),t.className="galleryitem svelte-1tf03iq",t.href=l=e.hiresdir+"/"+e.image.src,T(t,"transitioning",!0===e.transitioning),c=E(t,"click",g)},m(e,l){p(e,t,l),ee(m,t,null),$(t,n),$(t,i),$(t,o),$(t,r),$(r,a),s=!0},p(n,o){e=o;var c={};(n.lowresdir||n.stack)&&(c.image=e.lowresdir+"/"+e.image.src),m.$set(c),n.showTitles&&T(i,"out",!1===e.showTitles),s&&!n.stack||d===(d=e.image.name)||_(a,d),(n.$destroyingExpandedGallery||n.showTitles)&&T(r,"out",!0===e.$destroyingExpandedGallery||!1===e.showTitles),(n.$loadingSecondary||n.showTitles||n.$destroyingExpandedGallery)&&T(r,"in",!1===e.$loadingSecondary&&!1!==e.showTitles&&!e.$destroyingExpandedGallery),s&&!n.hiresdir&&!n.stack||l===(l=e.hiresdir+"/"+e.image.src)||(t.href=l),n.transitioning&&T(t,"transitioning",!0===e.transitioning)},i(e){s||(m.$$.fragment.i(e),s=!0)},o(e){m.$$.fragment.o(e),s=!1},d(e){e&&y(t),m.$destroy(),c()}}}function we(e){for(var t,n,i,r,a,l,s,c,d,m,g,u,f=!e.hiresLoaded&&xe(e),h=e.stack,k=[],C=0;C<h.length;C+=1)k[C]=be(pe(e,h,C));function N(e,t,n){k[e]&&(t&&U(()=>{k[e].d(t),k[e]=null}),k[e].o(n))}return{c(){f&&f.c(),t=b(),n=w("div");for(var o=0;o<k.length;o+=1)k[o].c();i=b(),r=w("span"),a=b(),l=w("span"),s=b(),c=w("span"),d=x(e.currentTitle),r.className="previous svelte-1tf03iq",l.className="next svelte-1tf03iq",c.className="close svelte-1tf03iq",n.className="hires svelte-1tf03iq",T(n,"ready",!0===e.hiresLoaded),u=[E(r,"click",e.showPrevious),E(l,"click",e.showNext),E(c,"click",e.closeGallery)]},m(o,m){f&&f.m(o,m),p(o,t,m),p(o,n,m);for(var u=0;u<k.length;u+=1)k[u].m(n,null);$(n,i),$(n,r),$(n,a),$(n,l),$(n,s),$(n,c),$(c,d),A(()=>e.div_binding_1(n,null)),g=!0},p(e,o){if(o.hiresLoaded?f&&(V(),U(()=>{f.d(1),f=null}),f.o(1),Q()):f?f.i(1):((f=xe(o)).c(),f.i(1),f.m(t.parentNode,t)),e.current||e.hiresdir||e.stack||e.handleLoadingHiResComplete){h=o.stack;for(var r=0;r<h.length;r+=1){const t=pe(o,h,r);k[r]?(k[r].p(e,t),k[r].i(1)):(k[r]=be(t),k[r].c(),k[r].i(1),k[r].m(n,i))}for(V();r<k.length;r+=1)N(r,1,1);Q()}g&&!e.currentTitle||_(d,o.currentTitle),e.items&&(o.div_binding_1(null,n),o.div_binding_1(n,null)),e.hiresLoaded&&T(n,"ready",!0===o.hiresLoaded)},i(e){if(!g){f&&f.i();for(var t=0;t<h.length;t+=1)k[t].i();m&&m.end(1),g=!0}},o(e){f&&f.o(),k=k.filter(Boolean);for(let e=0;e<k.length;e+=1)N(e,0);e&&(m=Z(n,he,{duration:100})),g=!1},d(i){f&&f.d(i),i&&(y(t),y(n)),v(k,i),e.div_binding_1(null,n),i&&m&&m.end(),o(u)}}}function xe(e){var t,n=new ce({});return{c(){n.$$.fragment.c()},m(e,i){ee(n,e,i),t=!0},i(e){t||(n.$$.fragment.i(e),t=!0)},o(e){n.$$.fragment.o(e),t=!1},d(e){n.$destroy(e)}}}function be(e){var t,n,i=new le({props:{image:e.hiresdir+"/"+e.image.src}});return i.$on("loadingComplete",e.handleLoadingHiResComplete),{c(){t=w("div"),i.$$.fragment.c(),t.className="hi-image svelte-1tf03iq",T(t,"active",e.current===e.index)},m(e,o){p(e,t,o),ee(i,t,null),n=!0},p(e,n){var o={};(e.hiresdir||e.stack)&&(o.image=n.hiresdir+"/"+n.image.src),i.$set(o),e.current&&T(t,"active",n.current===n.index)},i(e){n||(i.$$.fragment.i(e),n=!0)},o(e){i.$$.fragment.o(e),n=!1},d(e){e&&y(t),i.$destroy()}}}function ke(e){var t,n,i,r,a,l,s=!1,c=()=>{s=!1};H(e.onwindowscroll);for(var d=e.stack,m=[],g=0;g<d.length;g+=1)m[g]=ve(ye(e,d,g));function u(e,t,n){m[e]&&(t&&U(()=>{m[e].d(t),m[e]=null}),m[e].o(n))}var f=e.ready&&we(e);return{c(){n=w("div");for(var o=0;o<m.length;o+=1)m[o].c();i=b(),f&&f.c(),r=k(),n.className="stack gallery svelte-1tf03iq",l=[E(window,"keydown",e.handleKeydown),E(window,"scroll",()=>{s=!0,clearTimeout(t),t=setTimeout(c,100),e.onwindowscroll()})]},m(t,o){p(t,n,o);for(var l=0;l<m.length;l+=1)m[l].m(n,null);A(()=>e.div_binding(n,null)),p(t,i,o),f&&f.m(t,o),p(t,r,o),a=!0},p(e,i){if(e.y&&!s&&(s=!0,clearTimeout(t),window.scrollTo(window.pageXOffset,i.y),t=setTimeout(c,100)),e.hiresdir||e.stack||e.transitioning||e.$destroyingExpandedGallery||e.showTitles||e.$loadingSecondary||e.lowresdir){d=i.stack;for(var o=0;o<d.length;o+=1){const t=ye(i,d,o);m[o]?(m[o].p(e,t),m[o].i(1)):(m[o]=ve(t),m[o].c(),m[o].i(1),m[o].m(n,null))}for(V();o<m.length;o+=1)u(o,1,1);Q()}e.items&&(i.div_binding(null,n),i.div_binding(n,null)),i.ready?f?(f.p(e,i),f.i(1)):((f=we(i)).c(),f.i(1),f.m(r.parentNode,r)):f&&(V(),U(()=>{f.d(1),f=null}),f.o(1),Q())},i(e){if(!a){for(var t=0;t<d.length;t+=1)m[t].i();f&&f.i(),a=!0}},o(e){m=m.filter(Boolean);for(let e=0;e<m.length;e+=1)u(e,0);f&&f.o(),a=!1},d(t){t&&y(n),v(m,t),e.div_binding(null,n),t&&y(i),f&&f.d(t),t&&y(r),o(l)}}}function Ee(e,t,n){let i,o;l(e,ue,e=>{n("$loadingSecondary",i=e)}),l(e,me,e=>{n("$destroyingExpandedGallery",o=e)});let r,a,s,c,d,m,g,u,f,h,{stack:$,lowresdir:p,hiresdir:y,originaltarget:v}=t,w=0,x=!0,b=!1,k=!1,E=!1,_=!1,C=!1;const T=e=>new Promise(t=>setTimeout(t,e));var N;function L(e,t){n("current",m=t),e.preventDefault(),function(e){let t=s[e].getElementsByTagName("img")[0],i=s[e].getBoundingClientRect(),o=document.documentElement.clientWidth/2,r=document.documentElement.clientHeight/2,a=o+2*r,l=i.width+i.height;n("showTitles",x=!1),n("currentTitle",d=s[e].getElementsByTagName("h2")[0].innerText),Object.entries(s).forEach(([e,t])=>{t.style.zIndex="1"}),t.classList.remove("notransition"),t.classList.remove("quicktransition"),s[e].style.zIndex="99",f=scrollY,(async()=>{await T(10),t.style.transform=`translateX(${o-i.left-i.width/2}px) translateY(${r-i.top-i.height/2}px) scale(${a/l})`,t.addEventListener("transitionend",h=(()=>{console.log("Transition ended"),document.getElementsByTagName("body")[0].classList.add("locked")}))})(),C=!1}(m),n("ready",k=!0)}function G(){r.classList.add("no-pointer-events"),void 0!==s?(console.log("weren't me guv, everything normal..."),P()):(console.log("object was undefined, hard luck son."),(async()=>{await T(180),Object.entries(s).forEach(([e,t])=>{console.log("trying again..."),P()})})())}function P(){let e=v.getBoundingClientRect();Object.entries(s).forEach(([t,i])=>{let a=i.getBoundingClientRect(),l=`translateX(${e.x+4-a.x}px) translateY(${e.y+4-a.y}px) rotate(${4*t}deg)`;0==t&&(l=`translateX(${e.x+4-a.x}px) translateY(${e.y+6-a.y}px) scale(1.08) translateY(5px) rotate(-2deg)`),i.style.zIndex=s.length-t,o?(window.scrollTo(0,u),r.style.transform="translateY(0px)",n("activeCollection",r),l=`translateX(${e.x-a.x}px) translateY(${e.y-a.y}px) rotate(${2*t}deg)`,i.classList.add("quicktransition"),i.style.transform=l):i.style.transform=l})}function S(){m<=0?(c[0].style.transform="translateX(25px)",c[$.length-1].style.transform="translateX(-25px)",(async()=>{await T(200),n("current",m=$.length-1),z(m),n("currentTitle",d=s[m].getElementsByTagName("h2")[0].innerText)})()):(c[m].style.transform="translateX(25px)",c[m-1].style.transform="translateX(-25px)",(async()=>{await T(200),n("current",--m),z(m),n("currentTitle",d=s[m].getElementsByTagName("h2")[0].innerText)})())}function B(){m>=$.length-1?(c[0].style.transform="translateX(25px)",c[$.length-1].style.transform="translateX(-25px)",(async()=>{await T(200),n("current",m=0),z(m),n("currentTitle",d=s[m].getElementsByTagName("h2")[0].innerText)})()):(c[m].style.transform="translateX(-25px)",c[m+1].style.transform="translateX(25px)",(async()=>{await T(200),n("current",++m),z(m),n("currentTitle",d=s[m].getElementsByTagName("h2")[0].innerText)})())}function z(e){let t=s[e].getBoundingClientRect(),n=document.documentElement.clientWidth/2,i=document.documentElement.clientHeight/2,o=n+2*i,r=t.width+t.height,a=s[e].getElementsByTagName("img")[0];Object.entries(s).forEach(([e,t])=>{t.style.zIndex="1",t.firstChild.classList.add("notransition"),t.firstChild.classList.remove("hitransition"),t.firstChild.style.transform="translateX(0) translateY(0px) scale(1)"}),s[e].style.zIndex="99",a.style.transform=`translateX(${n-t.left-t.width/2}px) translateY(${i-t.top-t.height/2}px) scale(${o/r})`}function O(){let e=s[m].getElementsByTagName("img")[0];e.style;e.removeEventListener("transitionend",h,!1),window.scrollTo(0,f),document.getElementsByTagName("body")[0].classList.remove("locked"),e.classList.remove("notransition"),e.classList.add("hitransition"),(async()=>{await T(200),e.style.transform="translateX(0) translateY(0) scale(1)",n("ready",k=!1),n("hiresLoaded",b=!1),n("showTitles",x=!0)})(),C=!0}return J(()=>{s=r.getElementsByClassName("galleryitem"),G()}),N=(()=>{i||o||E||(u=scrollY,window.scrollTo(0,0),r.style.transform=`translateY(-${u}px)`,n("activeCollection",r),(async()=>{await T(80),Object.entries(s).forEach(([e,t])=>{t.getBoundingClientRect(),n("transitioning",_=!0),t.classList.add("slowtransition"),t.style.transform=`translateX(0px) translateY(${u}px)`})})(),(async()=>{await T(500),r.classList.remove("no-pointer-events"),n("transitioning",_=!1)})(),E=!0),o&&E&&(G(),E=!1)}),q().$$.after_render.push(N),function(e){q().$$.on_destroy.push(e)}(()=>{console.log("being destroyed... laters"),me.update(e=>!1)}),e.$set=(e=>{"stack"in e&&n("stack",$=e.stack),"lowresdir"in e&&n("lowresdir",p=e.lowresdir),"hiresdir"in e&&n("hiresdir",y=e.hiresdir),"originaltarget"in e&&n("originaltarget",v=e.originaltarget)}),{stack:$,lowresdir:p,hiresdir:y,originaltarget:v,activeCollection:r,thirdLevel:a,currentTitle:d,current:m,y:g,showTitles:x,hiresLoaded:b,ready:k,transitioning:_,handleLoadingHiResComplete:function(e){(w+=e.detail.loadingComplete)===$.length&&(w=0,n("hiresLoaded",b=!0)),c=a.getElementsByClassName("hi-image")},handleKeydown:function(e){"ArrowRight"==e.code&&B(),"ArrowLeft"==e.code&&S(),"Escape"==e.code&&(C?document.getElementById("breadcrumb").click():O())},loadLargeImages:L,showPrevious:S,showNext:B,closeGallery:O,$loadingSecondary:i,$destroyingExpandedGallery:o,loadingComplete_handler:function(t){!function(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(e=>e(t))}(e,t)},onwindowscroll:function(){g=window.pageYOffset,n("y",g)},click_handler:function({index:e},t){return L(t,e)},div_binding:function(e,t){n("activeCollection",r=e)},div_binding_1:function(e,t){n("thirdLevel",a=e)}}}class _e extends ie{constructor(e){super(),ne(this,e,Ee,ke,a,["stack","lowresdir","hiresdir","originaltarget"])}}function Ce(e,t,n){const i=Object.create(e);return i.image=t[n],i.index=n,i}function Te(n){var i,o,r,a,l,s,d;return{c(){i=w("div"),o=w("p"),r=x(n.name),o.className="svelte-nzscmq",i.id="breadcrumb",i.className="breadcrumb svelte-nzscmq",d=E(i,"click",n.resetStacks)},m(e,t){p(e,i,t),$(i,o),$(o,r),s=!0},p(e,t){s&&!e.name||_(r,t.name)},i(n){s||(H(()=>{l&&l.end(1),a||(a=function(n,i,o){let r,a,l=i(n,o),s=!1,d=0;function m(){r&&S(n,r)}function g(){const{delay:i=0,duration:o=300,easing:g=t,tick:u=e,css:f}=l;f&&(r=P(n,0,1,o,i,g,f,d++)),u(0,1);const $=c()+i,p=$+o;a&&a.abort(),s=!0,a=h(e=>{if(s){if(e>=p)return u(1,0),m(),s=!1;if(e>=$){const t=g((e-$)/o);u(t,1-t)}}return s})}let u=!1;return{start(){u||(S(n),"function"==typeof l?(l=l(),F().then(g)):g())},invalidate(){u=!1},end(){s&&(m(),s=!1)}}}(i,$e,{y:-40,duration:400})),a.start()}),s=!0)},o(e){a&&a.invalidate(),e&&(l=Z(i,$e,{y:-40,duration:400})),s=!1},d(e){e&&(y(i),l&&l.end()),d()}}}function Ne(e){var t,n=new ce({});return{c(){n.$$.fragment.c()},m(e,i){ee(n,e,i),t=!0},i(e){t||(n.$$.fragment.i(e),t=!0)},o(e){n.$$.fragment.o(e),t=!1},d(e){n.$destroy(e)}}}function Le(t){var n;return{c(){(n=w("div")).className="dummyimage svelte-nzscmq",C(n,"transform","rotate("+2*t.index+"deg)"),C(n,"z-index","-"+t.index),C(n,"opacity",1-1/t.imagecollection.length*t.index/1.2)},m(e,t){p(e,n,t)},p(e,t){e.imagecollection&&C(n,"opacity",1-1/t.imagecollection.length*t.index/1.2)},i:e,o:e,d(e){e&&y(n)}}}function Ge(e){var t,n=new le({props:{image:e.lowresdir+"/"+e.image.src}});return{c(){n.$$.fragment.c()},m(e,i){ee(n,e,i),t=!0},p(e,t){var i={};(e.lowresdir||e.imagecollection)&&(i.image=t.lowresdir+"/"+t.image.src),n.$set(i)},i(e){t||(n.$$.fragment.i(e),t=!0)},o(e){n.$$.fragment.o(e),t=!1},d(e){n.$destroy(e)}}}function Pe(e){var t,n,i,o,r=[Ge,Le],a=[];function l(e){return 0==e.index?0:1}return t=l(e),n=a[t]=r[t](e),{c(){n.c(),i=k()},m(e,n){a[t].m(e,n),p(e,i,n),o=!0},p(e,o){var s=t;(t=l(o))===s?a[t].p(e,o):(V(),U(()=>{a[s].d(1),a[s]=null}),n.o(1),Q(),(n=a[t])||(n=a[t]=r[t](o)).c(),n.i(1),n.m(i.parentNode,i))},i(e){o||(n&&n.i(),o=!0)},o(e){n&&n.o(),o=!1},d(e){a[t].d(e),e&&y(i)}}}function Se(e){var t,n,i;let o={lowresdir:e.lowresdir,hiresdir:e.hiresdir,stack:e.imagecollection,originaltarget:e.collection};var r=new _e({props:o});return A(()=>e.galleryexpanded_binding(r)),r.$on("loadingComplete",e.handleLoadingComplete),{c(){t=w("div"),r.$$.fragment.c(),t.className=n="loading--"+e.$loadingSecondary+" svelte-nzscmq"},m(e,n){p(e,t,n),ee(r,t,null),i=!0},p(e,o){var a={};e.lowresdir&&(a.lowresdir=o.lowresdir),e.hiresdir&&(a.hiresdir=o.hiresdir),e.imagecollection&&(a.stack=o.imagecollection),e.collection&&(a.originaltarget=o.collection),r.$set(a),i&&!e.$loadingSecondary||n===(n="loading--"+o.$loadingSecondary+" svelte-nzscmq")||(t.className=n)},i(e){i||(r.$$.fragment.i(e),i=!0)},o(e){r.$$.fragment.o(e),i=!1},d(n){n&&y(t),e.galleryexpanded_binding(null),r.$destroy()}}}function Be(e){for(var t,n,i,r,a,l,s,c,d,m,g,u,f,h,C,N,L=e.imagecollection.length,G=e.$activeCollection==e.id&&Te(e),P=e.$activeCollection==e.id&&Ne(),S=e.imagecollection,B=[],q=0;q<S.length;q+=1)B[q]=Pe(Ce(e,S,q));function J(e,t,n){B[e]&&(t&&U(()=>{B[e].d(t),B[e]=null}),B[e].o(n))}var z=e.attemptingtoLoad&&Se(e);return{c(){G&&G.c(),t=b(),n=w("a"),P&&P.c(),i=b();for(var o=0;o<B.length;o+=1)B[o].c();r=b(),a=w("h2"),l=x(e.name),s=b(),c=w("span"),d=x("("),m=x(L),g=x(" Images)"),f=b(),z&&z.c(),h=k(),c.className="svelte-nzscmq",a.className="svelte-nzscmq",n.href=u=e.hiresdir+"/"+e.imagecollection[0].src,n.className="collection svelte-nzscmq",n.dataset.id=e.id,T(n,"active",e.id===e.$activeCollection&&1==e.$loadingSecondary),T(n,"nonactive",0!==e.$activeCollection&&e.id!==e.$activeCollection),N=[E(n,"mouseenter",e.rotate),E(n,"mouseleave",e.unRotate),E(n,"click",e.showContents)]},m(o,u){G&&G.m(o,u),p(o,t,u),p(o,n,u),P&&P.m(n,null),$(n,i);for(var y=0;y<B.length;y+=1)B[y].m(n,null);$(n,r),$(n,a),$(a,l),$(a,s),$(a,c),$(c,d),$(c,m),$(c,g),A(()=>e.a_binding(n,null)),p(o,f,u),z&&z.m(o,u),p(o,h,u),C=!0},p(e,o){if(o.$activeCollection==o.id?G?(G.p(e,o),G.i(1)):((G=Te(o)).c(),G.i(1),G.m(t.parentNode,t)):G&&(V(),U(()=>{G.d(1),G=null}),G.o(1),Q()),o.$activeCollection==o.id?P?P.i(1):((P=Ne()).c(),P.i(1),P.m(n,i)):P&&(V(),U(()=>{P.d(1),P=null}),P.o(1),Q()),e.lowresdir||e.imagecollection){S=o.imagecollection;for(var a=0;a<S.length;a+=1){const t=Ce(o,S,a);B[a]?(B[a].p(e,t),B[a].i(1)):(B[a]=Pe(t),B[a].c(),B[a].i(1),B[a].m(n,r))}for(V();a<B.length;a+=1)J(a,1,1);Q()}C&&!e.name||_(l,o.name),C&&!e.imagecollection||L===(L=o.imagecollection.length)||_(m,L),e.items&&(o.a_binding(null,n),o.a_binding(n,null)),C&&!e.hiresdir&&!e.imagecollection||u===(u=o.hiresdir+"/"+o.imagecollection[0].src)||(n.href=u),C&&!e.id||(n.dataset.id=o.id),(e.id||e.$activeCollection||e.$loadingSecondary)&&T(n,"active",o.id===o.$activeCollection&&1==o.$loadingSecondary),(e.$activeCollection||e.id)&&T(n,"nonactive",0!==o.$activeCollection&&o.id!==o.$activeCollection),o.attemptingtoLoad?z?(z.p(e,o),z.i(1)):((z=Se(o)).c(),z.i(1),z.m(h.parentNode,h)):z&&(V(),U(()=>{z.d(1),z=null}),z.o(1),Q())},i(e){if(!C){G&&G.i(),P&&P.i();for(var t=0;t<S.length;t+=1)B[t].i();z&&z.i(),C=!0}},o(e){G&&G.o(),P&&P.o(),B=B.filter(Boolean);for(let e=0;e<B.length;e+=1)J(e,0);z&&z.o(),C=!1},d(i){G&&G.d(i),i&&(y(t),y(n)),P&&P.d(),v(B,i),e.a_binding(null,n),i&&y(f),z&&z.d(i),i&&y(h),o(N)}}}const qe=new Set;function Je(e,t,n){let i,o;l(e,ge,e=>{n("$activeCollection",i=e)}),l(e,ue,e=>{n("$loadingSecondary",o=e)});let{imagecollection:r,lowresdir:a,hiresdir:s,id:c=0,name:d,color:m}=t;const g=e=>new Promise(t=>setTimeout(t,e));let u,f,h,$,p,y=0,v=!1;return J(()=>(h=u.getElementsByTagName("div"),$=u.getElementsByTagName("img")[0],qe.add(u),()=>qe.delete(u))),e.$set=(e=>{"imagecollection"in e&&n("imagecollection",r=e.imagecollection),"lowresdir"in e&&n("lowresdir",a=e.lowresdir),"hiresdir"in e&&n("hiresdir",s=e.hiresdir),"id"in e&&n("id",c=e.id),"name"in e&&n("name",d=e.name),"color"in e&&n("color",m=e.color)}),{imagecollection:r,lowresdir:a,hiresdir:s,id:c,name:d,color:m,collection:u,galleryExpanded:f,attemptingtoLoad:v,rotate:function(){Object.entries(h).forEach(([e,t])=>{t.style.transform="rotate("+(4*parseInt(e)+5)+"deg)"}),$.style.transform="scale(1.03) translateY(5px) rotate(-1deg)"},unRotate:function(){Object.entries(h).forEach(([e,t])=>{t.style.transform="rotate("+2*(parseInt(e)+1)+"deg)"}),$.style.transform="scale(1) rotate(0deg)"},showContents:function(e){if(n("attemptingtoLoad",v=!0),e.preventDefault(),p=getComputedStyle(document.documentElement).getPropertyValue("--bgcolor"),m){let e=m.split(",");document.documentElement.style.setProperty("--bgcolor",`hsla(${e[0]}, ${e[1]}%, ${e[2]}%, 1)`),document.documentElement.style.setProperty("--bgcolortint",`hsla(${e[0]}, ${e[1]}%, ${e[2]}%, 0.6)`),document.documentElement.style.setProperty("--bgcolordarktint",`hsl(${e[0]}, ${e[1]}%, ${e[2]/e[1]*10}%)`)}ue.update(e=>!0),ge.update(e=>c),function(){let e=document.documentElement.clientWidth/2,t=document.documentElement.clientHeight/2;qe.forEach(n=>{var o=n.getBoundingClientRect();n.classList.add("neardeath");let r=parseInt(n.dataset.id);n.classList.add("no-pointer-events"),r!==i&&(n.style.transform=`translateX(${o.left/3-e/3}px) translateY(${o.top/3-t/3}px)`)})}()},resetStacks:function(){console.log("resetting..."),document.documentElement.style.setProperty("--bgcolor",p),me.update(e=>!0),qe.forEach(e=>{e.classList.remove("neardeath")}),(async()=>{await g(200),ge.update(e=>0),n("attemptingtoLoad",v=!1),qe.forEach(e=>{e.style.transform="translateX(0px) translateY(0px)"})})(),(async()=>{await g(600),qe.forEach(e=>{e.classList.remove("no-pointer-events")})})()},handleLoadingComplete:function(e){(y+=e.detail.loadingComplete)===r.length&&(console.log("Loading complete"),ue.update(e=>!1),y=0)},$activeCollection:i,$loadingSecondary:o,a_binding:function(e,t){n("collection",u=e)},galleryexpanded_binding:function(e){n("galleryExpanded",f=e)}}}class ze extends ie{constructor(e){super(),ne(this,e,Je,Be,a,["imagecollection","lowresdir","hiresdir","id","name","color"])}}function Oe(e){var t,n,i,o,r,a,l,s,c,d,m=new ze({props:{width:"",name:"Ongakukai",color:"44, 47, 90",lowresdir:"images/16_ongakukai",hiresdir:"images/16_ongakukai/originals",imagecollection:e.collection0,id:Xe++}}),g=new ze({props:{width:"",name:"Painterly",color:"261, 27, 71",lowresdir:"images",hiresdir:"images/originals",imagecollection:e.collection1,id:Xe++}}),u=new ze({props:{width:"",name:"Splashes",color:"206, 69, 88",lowresdir:"images",hiresdir:"images/originals",imagecollection:e.collection2,id:Xe++}}),f=new ze({props:{width:"",name:"Citizens of Science",color:"182, 37, 73",lowresdir:"images",hiresdir:"images/originals",imagecollection:e.collection3,id:Xe++}}),h=new ze({props:{width:"",name:"Travelling",color:"209, 25, 24",lowresdir:"images",hiresdir:"images/originals",imagecollection:e.collection4,id:Xe++}}),v=new ze({props:{width:"",name:"Angry at kids",color:"13, 92, 87",lowresdir:"images",hiresdir:"images/originals",imagecollection:e.collection5,id:Xe++}}),x=new ze({props:{width:"",name:"Sketches",color:"109, 0, 76",lowresdir:"images",hiresdir:"images/originals",imagecollection:e.collection6,id:Xe++}});return{c(){t=w("div"),m.$$.fragment.c(),n=b(),g.$$.fragment.c(),i=b(),u.$$.fragment.c(),o=b(),f.$$.fragment.c(),r=b(),h.$$.fragment.c(),a=b(),v.$$.fragment.c(),l=b(),x.$$.fragment.c(),s=b(),(c=w("p")).innerHTML='<a href="https://github.com/cssandstuff/portfolio-scaffold" class="svelte-lq41rl">View on Github</a>',t.className="container svelte-lq41rl",c.className="svelte-lq41rl"},m(e,y){p(e,t,y),ee(m,t,null),$(t,n),ee(g,t,null),$(t,i),ee(u,t,null),$(t,o),ee(f,t,null),$(t,r),ee(h,t,null),$(t,a),ee(v,t,null),$(t,l),ee(x,t,null),p(e,s,y),p(e,c,y),d=!0},p(e,t){var n={};e.collection0&&(n.imagecollection=t.collection0),e.uid&&(n.id=Xe++),m.$set(n);var i={};e.collection1&&(i.imagecollection=t.collection1),e.uid&&(i.id=Xe++),g.$set(i);var o={};e.collection2&&(o.imagecollection=t.collection2),e.uid&&(o.id=Xe++),u.$set(o);var r={};e.collection3&&(r.imagecollection=t.collection3),e.uid&&(r.id=Xe++),f.$set(r);var a={};e.collection4&&(a.imagecollection=t.collection4),e.uid&&(a.id=Xe++),h.$set(a);var l={};e.collection5&&(l.imagecollection=t.collection5),e.uid&&(l.id=Xe++),v.$set(l);var s={};e.collection6&&(s.imagecollection=t.collection6),e.uid&&(s.id=Xe++),x.$set(s)},i(e){d||(m.$$.fragment.i(e),g.$$.fragment.i(e),u.$$.fragment.i(e),f.$$.fragment.i(e),h.$$.fragment.i(e),v.$$.fragment.i(e),x.$$.fragment.i(e),d=!0)},o(e){m.$$.fragment.o(e),g.$$.fragment.o(e),u.$$.fragment.o(e),f.$$.fragment.o(e),h.$$.fragment.o(e),v.$$.fragment.o(e),x.$$.fragment.o(e),d=!1},d(e){e&&y(t),m.$destroy(),g.$destroy(),u.$destroy(),f.$destroy(),h.$destroy(),v.$destroy(),x.$destroy(),e&&(y(s),y(c))}}}let Xe=1;function je(e,t,n){let{name:i}=t;return e.$set=(e=>{"name"in e&&n("name",i=e.name)}),{name:i,collection0:[{src:"01_front_cover.jpg",name:"Noa"},{src:"02_back_cover.jpg",name:"Dog"},{src:"racoon_together.jpg",name:"Glass"}],collection1:[{src:"Noa.JPG",name:"Noa"},{src:"dog.JPG",name:"Dog"},{src:"glass.JPG",name:"Glass"}],collection4:[{src:"atami.JPG",name:"Atami at night"},{src:"kenodo.JPG",name:"Konodo Highway"},{src:"kenodo2.JPG",name:"Tunnels"}],collection6:[{src:"boring.JPG",name:"Everything is boring"},{src:"hownotto.JPG",name:"How not to draw"},{src:"isometric.JPG",name:"Isometric"},{src:"notes.JPG",name:"Notes"},{src:"glass-b+w.JPG",name:"Glass"}],collection2:[{src:"cash.JPG",name:"Cash Suitcase"},{src:"robo.JPG",name:"Robot"},{src:"tako.JPG",name:"Octopus"}],collection5:[{src:"angrykid2.JPG",name:"Angry 1"},{src:"angrykid1.JPG",name:"Angry 2"},{src:"angrykid3.JPG",name:"Angry 3"},{src:"angrykid4.JPG",name:"Angry 4"},{src:"angrykid5.JPG",name:"Angry 5"}],collection3:[{src:"citizens.JPG",name:"Citizens of Science"},{src:"screwit.JPG",name:"Screw It"},{src:"boltit.JPG",name:"Boltman"},{src:"kumo.JPG",name:"Spiderdeath"}]}}return new class extends ie{constructor(e){super(),ne(this,e,je,Oe,a,["name"])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
