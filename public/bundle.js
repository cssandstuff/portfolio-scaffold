var app=function(){"use strict";function e(){}const n=e=>e;function t(e){return e()}function i(){return Object.create(null)}function o(e){e.forEach(t)}function r(e){return"function"==typeof e}function l(e,n){return e!=e?n==n:e!==n||e&&"object"==typeof e||"function"==typeof e}function a(e,n,t){const i=n.subscribe(t);e.$$.on_destroy.push(i.unsubscribe?()=>i.unsubscribe():i)}let c="undefined"!=typeof window?()=>window.performance.now():()=>Date.now();const s=new Set;let d,m=!1;function u(){s.forEach(e=>{e[0](c())||(s.delete(e),e[1]())}),(m=s.size>0)&&requestAnimationFrame(u)}function g(e){let n;return m||(m=!0,requestAnimationFrame(u)),{promise:new Promise(t=>{s.add(n=[e,t])}),abort(){s.delete(n)}}}function f(e,n){e.appendChild(n)}function p(e,n,t){e.insertBefore(n,t||null)}function $(e){e.parentNode.removeChild(e)}function h(e,n){for(let t=0;t<e.length;t+=1)e[t]&&e[t].d(n)}function v(e){return document.createElement(e)}function y(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function w(e){return document.createTextNode(e)}function b(){return w(" ")}function x(){return w("")}function k(e,n,t,i){return e.addEventListener(n,t,i),()=>e.removeEventListener(n,t,i)}function _(e,n,t){null==t?e.removeAttribute(n):e.setAttribute(n,t)}function C(e,n){n=""+n,e.data!==n&&(e.data=n)}function E(e,n,t){e.style.setProperty(n,t)}function P(e,n,t){e.classList[t?"add":"remove"](n)}let N,L=0,G={};function J(e,n,t,i,o,r,l,a=0){const c=16.666/i;let s="{\n";for(let e=0;e<=1;e+=c){const i=n+(t-n)*r(e);s+=100*e+`%{${l(i,1-i)}}\n`}const m=s+`100% {${l(t,1-t)}}\n}`,u=`__svelte_${function(e){let n=5381,t=e.length;for(;t--;)n=(n<<5)-n^e.charCodeAt(t);return n>>>0}(m)}_${a}`;if(!G[u]){if(!d){const e=v("style");document.head.appendChild(e),d=e.sheet}G[u]=!0,d.insertRule(`@keyframes ${u} ${m}`,d.cssRules.length)}const g=e.style.animation||"";return e.style.animation=`${g?`${g}, `:""}${u} ${i}ms linear ${o}ms 1 both`,L+=1,u}function S(e,n){e.style.animation=(e.style.animation||"").split(", ").filter(n?e=>e.indexOf(n)<0:e=>-1===e.indexOf("__svelte")).join(", "),n&&!--L&&requestAnimationFrame(()=>{if(L)return;let e=d.cssRules.length;for(;e--;)d.deleteRule(e);G={}})}function O(e){N=e}function T(){if(!N)throw new Error("Function called outside component initialization");return N}function j(e){T().$$.on_mount.push(e)}function B(){const e=N;return(n,t)=>{const i=e.$$.callbacks[n];if(i){const o=function(e,n){const t=document.createEvent("CustomEvent");return t.initCustomEvent(e,!1,!1,n),t}(n,t);i.slice().forEach(n=>{n.call(e,o)})}}}const R=[],Y=Promise.resolve();let I=!1;const A=[],X=[],z=[];function q(e){A.push(e)}function H(e){X.push(e)}function F(){const e=new Set;do{for(;R.length;){const e=R.shift();O(e),D(e.$$)}for(;A.length;)A.shift()();for(;X.length;){const n=X.pop();e.has(n)||(n(),e.add(n))}}while(R.length);for(;z.length;)z.pop()();I=!1}function D(e){e.fragment&&(e.update(e.dirty),o(e.before_render),e.fragment.p(e.dirty,e.ctx),e.dirty=null,e.after_render.forEach(H))}let M,V;function W(){return M||(M=Promise.resolve()).then(()=>{M=null}),M}function K(){V={remaining:0,callbacks:[]}}function Q(){V.remaining||o(V.callbacks)}function U(e){V.callbacks.push(e)}function Z(t,i,r){let l,a=i(t,r),s=!0;const d=V;function m(){const{delay:i=0,duration:r=300,easing:m=n,tick:u=e,css:f}=a;f&&(l=J(t,1,0,r,i,m,f));const p=c()+i,$=p+r;g(e=>{if(s){if(e>=$)return u(0,1),--d.remaining||o(d.callbacks),!1;if(e>=p){const n=m((e-p)/r);u(1-n,n)}}return s})}return d.remaining+=1,"function"==typeof a?W().then(()=>{a=a(),m()}):m(),{end(e){e&&a.tick&&a.tick(1,0),s&&(l&&S(t,l),s=!1)}}}function ee(e,n,i){const{fragment:l,on_mount:a,on_destroy:c,after_render:s}=e.$$;l.m(n,i),H(()=>{const n=a.map(t).filter(r);c?c.push(...n):o(n),e.$$.on_mount=[]}),s.forEach(H)}function ne(e,n){e.$$.dirty||(R.push(e),I||(I=!0,Y.then(F)),e.$$.dirty=i()),e.$$.dirty[n]=!0}function te(n,t,r,l,a,c){const s=N;O(n);const d=t.props||{},m=n.$$={fragment:null,ctx:null,props:c,update:e,not_equal:a,bound:i(),on_mount:[],on_destroy:[],before_render:[],after_render:[],context:new Map(s?s.$$.context:[]),callbacks:i(),dirty:null};let u=!1;var g;m.ctx=r?r(n,d,(e,t)=>{m.ctx&&a(m.ctx[e],m.ctx[e]=t)&&(m.bound[e]&&m.bound[e](t),u&&ne(n,e))}):d,m.update(),u=!0,o(m.before_render),m.fragment=l(m.ctx),t.target&&(t.hydrate?m.fragment.l((g=t.target,Array.from(g.childNodes))):m.fragment.c(),t.intro&&n.$$.fragment.i&&n.$$.fragment.i(),ee(n,t.target,t.anchor),F()),O(s)}class ie{$destroy(){var n,t;t=!0,(n=this).$$&&(o(n.$$.on_destroy),n.$$.fragment.d(t),n.$$.on_destroy=n.$$.fragment=null,n.$$.ctx={}),this.$destroy=e}$on(e,n){const t=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return t.push(n),()=>{const e=t.indexOf(n);-1!==e&&t.splice(e,1)}}$set(){}}function oe(e){var n;return{c(){(n=v("div")).className="loader svelte-m5fr7l",E(n,"background","#ccc")},m(e,t){p(e,n,t)},d(e){e&&$(n)}}}function re(n){var t,i,o,r,l=!n.visible&&oe();return{c(){t=v("img"),o=b(),l&&l.c(),r=x(),t.src=n.image,t.alt="",t.className=i=(n.visible?"":"opacity--0")+" svelte-m5fr7l"},m(e,n){p(e,t,n),p(e,o,n),l&&l.m(e,n),p(e,r,n)},p(e,n){e.image&&(t.src=n.image),e.visible&&i!==(i=(n.visible?"":"opacity--0")+" svelte-m5fr7l")&&(t.className=i),n.visible?l&&(l.d(1),l=null):l||((l=oe()).c(),l.m(r.parentNode,r))},i:e,o:e,d(e){e&&($(t),$(o)),l&&l.d(e),e&&$(r)}}}function le(e,n,t){let{image:i,visible:o=0}=n;const r=B();return j(async()=>{const e=await fetch(i);if(200===e.status){t("image",i=e.url);const n=new Image;n.onload=(()=>{t("visible",o=!0),r("loadingComplete",{loadingComplete:1})}),n.src=i}else t("visible",o=!1)}),e.$set=(e=>{"image"in e&&t("image",i=e.image),"visible"in e&&t("visible",o=e.visible)}),{image:i,visible:o}}class ae extends ie{constructor(e){super(),te(this,e,le,re,l,["image","visible"])}}function ce(){}function se(e,n=ce){let t;const i=[];function o(n){if(r=n,(o=e)!=o?r==r:o!==r||o&&"object"==typeof o||"function"==typeof o){if(e=n,!t)return;i.forEach(e=>e[1]()),i.forEach(n=>n[0](e))}var o,r}return{set:o,update:function(n){o(n(e))},subscribe:function(r,l=ce){const a=[r,l];return i.push(a),1===i.length&&(t=n(o)||ce),r(e),()=>{const e=i.indexOf(a);-1!==e&&i.splice(e,1),0===i.length&&t()}}}}const de=se(!1),me=se(0),ue=se(!1);function ge(e,n,t){const i=Object.create(e);return i.image=n[t],i.index=t,i}function fe(e,n,t){const i=Object.create(e);return i.image=n[t],i.index=t,i}function pe(e){var n,t,i,o,r,l,a=new ae({props:{image:e.lowresdir+"/"+e.image.src}});function c(...n){return e.click_handler(e,...n)}return a.$on("loadingComplete",e.loadingComplete_handler),{c(){n=v("a"),a.$$.fragment.c(),t=b(),(i=v("span")).className="magnify svelte-1nom5pn",n.href=o=e.hiresdir+"/"+e.image.src,n.className="svelte-1nom5pn",l=k(n,"click",c)},m(e,o){p(e,n,o),ee(a,n,null),f(n,t),f(n,i),r=!0},p(t,i){e=i;var l={};(t.lowresdir||t.stack)&&(l.image=e.lowresdir+"/"+e.image.src),a.$set(l),r&&!t.hiresdir&&!t.stack||o===(o=e.hiresdir+"/"+e.image.src)||(n.href=o)},i(e){r||(a.$$.fragment.i(e),r=!0)},o(e){a.$$.fragment.o(e),r=!1},d(e){e&&$(n),a.$destroy(),l()}}}function $e(e){for(var n,t,i,r,l,a,c,s,d,m=e.stack,u=[],g=0;g<m.length;g+=1)u[g]=he(ge(e,m,g));function y(e,n,t){u[e]&&(n&&U(()=>{u[e].d(n),u[e]=null}),u[e].o(t))}return{c(){n=v("div");for(var o=0;o<u.length;o+=1)u[o].c();t=b(),i=v("span"),r=b(),l=v("span"),a=b(),(c=v("span")).textContent="close",i.className="previous svelte-1nom5pn",l.className="next svelte-1nom5pn",c.className="close svelte-1nom5pn",n.className="hires svelte-1nom5pn",d=[k(i,"click",e.showPrevious),k(l,"click",e.showNext),k(c,"click",e.closeGallery)]},m(o,d){p(o,n,d);for(var m=0;m<u.length;m+=1)u[m].m(n,null);f(n,t),f(n,i),f(n,r),f(n,l),f(n,a),f(n,c),q(()=>e.div_binding_1(n,null)),s=!0},p(e,i){if(e.current||e.hiresdir||e.stack||e.handleLoadingHiResComplete){m=i.stack;for(var o=0;o<m.length;o+=1){const r=ge(i,m,o);u[o]?(u[o].p(e,r),u[o].i(1)):(u[o]=he(r),u[o].c(),u[o].i(1),u[o].m(n,t))}for(K();o<u.length;o+=1)y(o,1,1);Q()}e.items&&(i.div_binding_1(null,n),i.div_binding_1(n,null))},i(e){if(!s){for(var n=0;n<m.length;n+=1)u[n].i();s=!0}},o(e){u=u.filter(Boolean);for(let e=0;e<u.length;e+=1)y(e,0);s=!1},d(t){t&&$(n),h(u,t),e.div_binding_1(null,n),o(d)}}}function he(e){var n,t,i=new ae({props:{image:e.hiresdir+"/"+e.image.src}});return i.$on("loadingComplete",e.handleLoadingHiResComplete),{c(){n=v("div"),i.$$.fragment.c(),n.className="svelte-1nom5pn",P(n,"active",e.current===e.index)},m(e,o){p(e,n,o),ee(i,n,null),t=!0},p(e,t){var o={};(e.hiresdir||e.stack)&&(o.image=t.hiresdir+"/"+t.image.src),i.$set(o),e.current&&P(n,"active",t.current===t.index)},i(e){t||(i.$$.fragment.i(e),t=!0)},o(e){i.$$.fragment.o(e),t=!1},d(e){e&&$(n),i.$destroy()}}}function ve(e){var n,t,i,o,r,l,a=!1,c=()=>{a=!1};H(e.onwindowscroll);for(var s=e.stack,d=[],m=0;m<s.length;m+=1)d[m]=pe(fe(e,s,m));function u(e,n,t){d[e]&&(n&&U(()=>{d[e].d(n),d[e]=null}),d[e].o(t))}var g=e.ready&&$e(e);return{c(){t=v("div");for(var r=0;r<d.length;r+=1)d[r].c();i=b(),g&&g.c(),o=x(),t.className="stack gallery svelte-1nom5pn",l=k(window,"scroll",()=>{a=!0,clearTimeout(n),n=setTimeout(c,100),e.onwindowscroll()})},m(n,l){p(n,t,l);for(var a=0;a<d.length;a+=1)d[a].m(t,null);q(()=>e.div_binding(t,null)),p(n,i,l),g&&g.m(n,l),p(n,o,l),r=!0},p(e,i){if(e.y&&!a&&(a=!0,clearTimeout(n),window.scrollTo(window.pageXOffset,i.y),n=setTimeout(c,100)),e.hiresdir||e.stack||e.lowresdir){s=i.stack;for(var r=0;r<s.length;r+=1){const n=fe(i,s,r);d[r]?(d[r].p(e,n),d[r].i(1)):(d[r]=pe(n),d[r].c(),d[r].i(1),d[r].m(t,null))}for(K();r<d.length;r+=1)u(r,1,1);Q()}e.items&&(i.div_binding(null,t),i.div_binding(t,null)),i.ready?g?(g.p(e,i),g.i(1)):((g=$e(i)).c(),g.i(1),g.m(o.parentNode,o)):g&&(K(),U(()=>{g.d(1),g=null}),g.o(1),Q())},i(e){if(!r){for(var n=0;n<s.length;n+=1)d[n].i();g&&g.i(),r=!0}},o(e){d=d.filter(Boolean);for(let e=0;e<d.length;e+=1)u(e,0);g&&g.o(),r=!1},d(n){n&&$(t),h(d,n),e.div_binding(null,t),n&&$(i),g&&g.d(n),n&&$(o),l()}}}function ye(e,n,t){let i,o;a(e,de,e=>{t("$destroyingExpandedGallery",i=e)}),a(e,ue,e=>{t("$loadingSecondary",o=e)});let r,l,c,s,d,m,u,{stack:g,lowresdir:f,hiresdir:p,originaltarget:$}=n,h=!1;const v=e=>new Promise(n=>setTimeout(n,e));let y=0;function w(){let e=$.getBoundingClientRect();Object.entries(c).forEach(([n,t])=>{let o=t.getBoundingClientRect(),r=`translateX(${e.x+4-o.x}px) translateY(${e.y+4-o.y}px) rotate(${4*n}deg)`;0==n&&(r=`translateX(${e.x+4-o.x}px) translateY(${e.y+6-o.y}px) scale(1.08) translateY(5px) rotate(-2deg)`),i?(t.classList.add("quicktransition"),r=`translateX(${e.x-o.x}px) translateY(${e.y-o.y}px) rotate(${2*n}deg)`):t.parentNode.style.zIndex=s-n,t.style.transform=r})}function b(){r.classList.add("no-pointer-events"),void 0!==c?(console.log("weren't me guv"),w()):(console.log("object was undefined, hard luck son."),(async()=>{await v(180),Object.entries(c).forEach(([e,n])=>{console.log("trying again"),w()})})())}var x;function k(e,n){t("current",m=n),e.preventDefault(),t("ready",d=!0)}return j(()=>{t("images",c=r.getElementsByTagName("img")),t("imageCount",s=r.getElementsByTagName("img").length),b()}),x=(()=>{o||i||h||(r.style.transform=`translateY(${scrollY}px)`,t("secondLevel",r),(async()=>{await v(80),Object.entries(c).forEach(([e,n])=>{n.getBoundingClientRect(),n.classList.add("slowtransition"),n.style.transform="translateX(0px) translateY(0px)"})})(),(async()=>{await v(500),r.classList.remove("no-pointer-events")})(),t("expandedOnce",h=!0)),i&&h&&(b(),t("expandedOnce",h=!1))}),T().$$.after_render.push(x),function(e){T().$$.on_destroy.push(e)}(()=>{console.log("being destroyed"),de.update(e=>!1)}),e.$set=(e=>{"stack"in e&&t("stack",g=e.stack),"lowresdir"in e&&t("lowresdir",f=e.lowresdir),"hiresdir"in e&&t("hiresdir",p=e.hiresdir),"originaltarget"in e&&t("originaltarget",$=e.originaltarget)}),{stack:g,lowresdir:f,hiresdir:p,originaltarget:$,secondLevel:r,thirdLevel:l,ready:d,current:m,y:u,loadLargeImages:k,handleLoadingHiResComplete:function(e){t("count",y+=e.detail.loadingComplete),y===g.length&&(t("count",y=0),document.documentElement.classList.add("locked"))},showPrevious:function(){t("current",m<=0?m=g.length-1:--m)},showNext:function(){m>=g.length-1?t("current",m=0):t("current",++m)},closeGallery:function(){t("ready",d=!1),document.documentElement.classList.remove("locked")},loadingComplete_handler:function(n){!function(e,n){const t=e.$$.callbacks[n.type];t&&t.slice().forEach(e=>e(n))}(e,n)},onwindowscroll:function(){u=window.pageYOffset,t("y",u)},click_handler:function({index:e},n){return k(n,e)},div_binding:function(e,n){t("secondLevel",r=e)},div_binding_1:function(e,n){t("thirdLevel",l=e)}}}class we extends ie{constructor(e){super(),te(this,e,ye,ve,l,["stack","lowresdir","hiresdir","originaltarget"])}}function be(e){const n=e-1;return n*n*n+1}function xe(e,{delay:n=0,duration:t=400}){const i=+getComputedStyle(e).opacity;return{delay:n,duration:t,css:e=>`opacity: ${e*i}`}}function ke(e,{delay:n=0,duration:t=400,easing:i=be,x:o=0,y:r=0,opacity:l=0}){const a=getComputedStyle(e),c=+a.opacity,s="none"===a.transform?"":a.transform,d=c*(1-l);return{delay:n,duration:t,easing:i,css:(e,n)=>`\n\t\t\ttransform: ${s} translate(${(1-e)*o}px, ${(1-e)*r}px);\n\t\t\topacity: ${c-d*n}`}}function _e(e,n,t){const i=Object.create(e);return i.image=n[t],i.index=t,i}function Ce(t){var i,o,r,l,a,s,d,m,u,h,y,x,_=t.imagecollection.length;return{c(){i=v("div"),o=v("p"),r=w(t.name),l=b(),a=v("span"),s=w("("),d=w(_),m=w(" images)"),a.className="svelte-mlrgp9",o.className="svelte-mlrgp9",i.className="breadcrumb svelte-mlrgp9",x=k(i,"click",t.resetStacks)},m(e,n){p(e,i,n),f(i,o),f(o,r),f(o,l),f(o,a),f(a,s),f(a,d),f(a,m),y=!0},p(e,n){y&&!e.name||C(r,n.name),y&&!e.imagecollection||_===(_=n.imagecollection.length)||C(d,_)},i(t){y||(H(()=>{h&&h.end(1),u||(u=function(t,i,o){let r,l,a=i(t,o),s=!1,d=0;function m(){r&&S(t,r)}function u(){const{delay:i=0,duration:o=300,easing:u=n,tick:f=e,css:p}=a;p&&(r=J(t,0,1,o,i,u,p,d++)),f(0,1);const $=c()+i,h=$+o;l&&l.abort(),s=!0,l=g(e=>{if(s){if(e>=h)return f(1,0),m(),s=!1;if(e>=$){const n=u((e-$)/o);f(n,1-n)}}return s})}let f=!1;return{start(){f||(S(t),"function"==typeof a?(a=a(),W().then(u)):u())},invalidate(){f=!1},end(){s&&(m(),s=!1)}}}(i,ke,{y:-40,duration:400})),u.start()}),y=!0)},o(e){u&&u.invalidate(),e&&(h=Z(i,ke,{y:-40,duration:400})),y=!1},d(e){e&&($(i),h&&h.end()),x()}}}function Ee(e){var n,t;return{c(){n=y("svg"),_(t=y("circle"),"class","path svelte-mlrgp9"),_(t,"cx","25"),_(t,"cy","25"),_(t,"r","20"),_(t,"fill","none"),_(t,"stroke-width","3"),_(n,"class","spinner svelte-mlrgp9"),_(n,"viewBox","0 0 50 50")},m(e,i){p(e,n,i),f(n,t)},d(e){e&&$(n)}}}function Pe(n){var t;return{c(){(t=v("span")).className="dummyimage svelte-mlrgp9",E(t,"transform","rotate("+2*n.index+"deg)"),E(t,"z-index","-"+n.index),E(t,"opacity",1-1/n.imagecollection.length*n.index/1.2)},m(e,n){p(e,t,n)},p(e,n){e.imagecollection&&E(t,"opacity",1-1/n.imagecollection.length*n.index/1.2)},i:e,o:e,d(e){e&&$(t)}}}function Ne(e){var n,t=new ae({props:{image:e.lowresdir+"/"+e.image.src}});return{c(){t.$$.fragment.c()},m(e,i){ee(t,e,i),n=!0},p(e,n){var i={};(e.lowresdir||e.imagecollection)&&(i.image=n.lowresdir+"/"+n.image.src),t.$set(i)},i(e){n||(t.$$.fragment.i(e),n=!0)},o(e){t.$$.fragment.o(e),n=!1},d(e){t.$destroy(e)}}}function Le(e){var n,t,i,o,r=[Ne,Pe],l=[];function a(e){return 0==e.index?0:1}return n=a(e),t=l[n]=r[n](e),{c(){t.c(),i=x()},m(e,t){l[n].m(e,t),p(e,i,t),o=!0},p(e,o){var c=n;(n=a(o))===c?l[n].p(e,o):(K(),U(()=>{l[c].d(1),l[c]=null}),t.o(1),Q(),(t=l[n])||(t=l[n]=r[n](o)).c(),t.i(1),t.m(i.parentNode,i))},i(e){o||(t&&t.i(),o=!0)},o(e){t&&t.o(),o=!1},d(e){l[n].d(e),e&&$(i)}}}function Ge(e){var n,t,i,o;let r={lowresdir:e.lowresdir,hiresdir:e.hiresdir,stack:e.imagecollection,originaltarget:e.collection};var l=new we({props:r});return q(()=>e.galleryexpanded_binding(l)),l.$on("loadingComplete",e.handleLoadingComplete),{c(){n=v("div"),l.$$.fragment.c(),n.className=t="loading--"+e.$loadingSecondary+" svelte-mlrgp9"},m(e,t){p(e,n,t),ee(l,n,null),o=!0},p(e,i){var r={};e.lowresdir&&(r.lowresdir=i.lowresdir),e.hiresdir&&(r.hiresdir=i.hiresdir),e.imagecollection&&(r.stack=i.imagecollection),e.collection&&(r.originaltarget=i.collection),l.$set(r),o&&!e.$loadingSecondary||t===(t="loading--"+i.$loadingSecondary+" svelte-mlrgp9")||(n.className=t)},i(e){o||(l.$$.fragment.i(e),i&&i.end(1),o=!0)},o(e){l.$$.fragment.o(e),e&&(i=Z(n,xe,{duration:500})),o=!1},d(t){t&&$(n),e.galleryexpanded_binding(null),l.$destroy(),t&&i&&i.end()}}}function Je(e){for(var n,t,i,r,l,a,c,s=e.$activeCollection==e.id&&Ce(e),d=e.$activeCollection==e.id&&Ee(),m=e.imagecollection,u=[],g=0;g<m.length;g+=1)u[g]=Le(_e(e,m,g));function y(e,n,t){u[e]&&(n&&U(()=>{u[e].d(n),u[e]=null}),u[e].o(t))}var w=e.attemptingtoLoad&&Ge(e);return{c(){s&&s.c(),n=b(),t=v("div"),d&&d.c(),i=b();for(var o=0;o<u.length;o+=1)u[o].c();r=b(),w&&w.c(),l=x(),t.className="collection svelte-mlrgp9",t.dataset.id=e.id,P(t,"active",e.id===e.$activeCollection&&1==e.$loadingSecondary),P(t,"nonactive",0!==e.$activeCollection&&e.id!==e.$activeCollection),c=[k(t,"mouseenter",e.rotate),k(t,"mouseleave",e.unRotate),k(t,"click",e.showContents)]},m(o,c){s&&s.m(o,c),p(o,n,c),p(o,t,c),d&&d.m(t,null),f(t,i);for(var m=0;m<u.length;m+=1)u[m].m(t,null);q(()=>e.div_binding(t,null)),p(o,r,c),w&&w.m(o,c),p(o,l,c),a=!0},p(e,o){if(o.$activeCollection==o.id?s?(s.p(e,o),s.i(1)):((s=Ce(o)).c(),s.i(1),s.m(n.parentNode,n)):s&&(K(),U(()=>{s.d(1),s=null}),s.o(1),Q()),o.$activeCollection==o.id?d||((d=Ee()).c(),d.m(t,i)):d&&(d.d(1),d=null),e.lowresdir||e.imagecollection){m=o.imagecollection;for(var r=0;r<m.length;r+=1){const n=_e(o,m,r);u[r]?(u[r].p(e,n),u[r].i(1)):(u[r]=Le(n),u[r].c(),u[r].i(1),u[r].m(t,null))}for(K();r<u.length;r+=1)y(r,1,1);Q()}e.items&&(o.div_binding(null,t),o.div_binding(t,null)),a&&!e.id||(t.dataset.id=o.id),(e.id||e.$activeCollection||e.$loadingSecondary)&&P(t,"active",o.id===o.$activeCollection&&1==o.$loadingSecondary),(e.$activeCollection||e.id)&&P(t,"nonactive",0!==o.$activeCollection&&o.id!==o.$activeCollection),o.attemptingtoLoad?w?(w.p(e,o),w.i(1)):((w=Ge(o)).c(),w.i(1),w.m(l.parentNode,l)):w&&(K(),U(()=>{w.d(1),w=null}),w.o(1),Q())},i(e){if(!a){s&&s.i();for(var n=0;n<m.length;n+=1)u[n].i();w&&w.i(),a=!0}},o(e){s&&s.o(),u=u.filter(Boolean);for(let e=0;e<u.length;e+=1)y(e,0);w&&w.o(),a=!1},d(i){s&&s.d(i),i&&($(n),$(t)),d&&d.d(),h(u,i),e.div_binding(null,t),i&&$(r),w&&w.d(i),i&&$(l),o(c)}}}const Se=new Set;function Oe(e,n,t){let i,o;a(e,me,e=>{t("$activeCollection",i=e)}),a(e,ue,e=>{t("$loadingSecondary",o=e)});let{imagecollection:r,lowresdir:l,hiresdir:c,id:s=0,name:d,color:m}=n;const u=e=>new Promise(n=>setTimeout(n,e));let g,f,p,$,h,v=0,y=!1;return j(()=>(t("fakeImages",$=g.getElementsByTagName("span")),t("firstImage",h=g.getElementsByTagName("img")[0]),Se.add(g),()=>Se.delete(g))),e.$set=(e=>{"imagecollection"in e&&t("imagecollection",r=e.imagecollection),"lowresdir"in e&&t("lowresdir",l=e.lowresdir),"hiresdir"in e&&t("hiresdir",c=e.hiresdir),"id"in e&&t("id",s=e.id),"name"in e&&t("name",d=e.name),"color"in e&&t("color",m=e.color)}),{imagecollection:r,lowresdir:l,hiresdir:c,id:s,name:d,color:m,collection:g,galleryExpanded:p,attemptingtoLoad:y,rotate:function(){g.style.transform="rotate(-1.5deg)",t("collection",g),Object.entries($).forEach(([e,n])=>{n.style.transform="rotate("+(4*parseInt(e)+5)+"deg)"}),h.style.transform="scale(1.08) translateY(10px)",t("firstImage",h)},unRotate:function(){g.style.transform="rotate(0deg)",t("collection",g),Object.entries($).forEach(([e,n])=>{n.style.transform="rotate("+2*(parseInt(e)+1)+"deg)"}),h.style.transform="scale(1)",t("firstImage",h)},showContents:function(){if(t("attemptingtoLoad",y=!0),t("originalbgcolor",f=getComputedStyle(document.documentElement).getPropertyValue("--bgcolor")),m){let e=m.split(",");document.documentElement.style.setProperty("--bgcolor",`hsla(${e[0]}, ${e[1]}%, ${e[2]}%, 1)`),document.documentElement.style.setProperty("--bgcolortint",`hsla(${e[0]}, ${e[1]}%, ${e[2]}%, 0.6)`),document.documentElement.style.setProperty("--bgcolordarktint",`hsl(${e[0]}, ${e[1]}%, ${e[2]/e[1]*10}%)`)}ue.update(e=>!0),me.update(e=>s),function(){let e=document.documentElement.clientWidth/2,n=document.documentElement.clientHeight/2;Se.forEach(t=>{var o=t.getBoundingClientRect();t.classList.add("notransition");let r=parseInt(t.dataset.id);t.classList.add("no-pointer-events"),r!==i&&(t.style.transform=`translateX(${o.left/3-e/3}px) translateY(${o.top/3-n/3}px)`)})}()},resetStacks:function(){console.log("resetting..."),Se.forEach(e=>{e.classList.remove("notransition")}),document.documentElement.style.setProperty("--bgcolor",f),de.update(e=>!0),(async()=>{await u(200),me.update(e=>0),t("attemptingtoLoad",y=!1),Se.forEach(e=>{e.style.transform="translateX(0px) translateY(0px)"})})(),(async()=>{await u(600),Se.forEach(e=>{e.classList.remove("no-pointer-events")})})()},handleLoadingComplete:function(e){t("count",v+=e.detail.loadingComplete),v===r.length&&(console.log("Loading complete"),ue.update(e=>!1),t("count",v=0))},$activeCollection:i,$loadingSecondary:o,div_binding:function(e,n){t("collection",g=e)},galleryexpanded_binding:function(e){t("galleryExpanded",p=e)}}}class Te extends ie{constructor(e){super(),te(this,e,Oe,Je,l,["imagecollection","lowresdir","hiresdir","id","name","color"])}}function je(e){var n,t,i,o,r,l,a,c,s,d=new Te({props:{name:"Painterly",color:"261, 27, 71",lowresdir:"images",hiresdir:"images/originals",imagecollection:e.collection1,id:Be++}}),m=new Te({props:{name:"Splashes",color:"206, 69, 88",lowresdir:"images",hiresdir:"images/originals",imagecollection:e.collection2,id:Be++}}),u=new Te({props:{name:"Citizens of Science",lowresdir:"images",hiresdir:"images/originals",imagecollection:e.collection3,id:Be++}}),g=new Te({props:{name:"Travelling",lowresdir:"images",hiresdir:"images/originals",imagecollection:e.collection4,id:Be++}}),h=new Te({props:{name:"Angry at kids",lowresdir:"images",hiresdir:"images/originals",imagecollection:e.collection5,id:Be++}}),y=new Te({props:{name:"Sketches",lowresdir:"images",hiresdir:"images/originals",imagecollection:e.collection6,id:Be++}});return{c(){n=v("div"),d.$$.fragment.c(),t=b(),m.$$.fragment.c(),i=b(),u.$$.fragment.c(),o=b(),g.$$.fragment.c(),r=b(),h.$$.fragment.c(),l=b(),y.$$.fragment.c(),a=b(),(c=v("p")).innerHTML='<a href="https://github.com/cssandstuff/portfolio-scaffold">See on Github</a>',n.className="container svelte-tvpk2f"},m(e,$){p(e,n,$),ee(d,n,null),f(n,t),ee(m,n,null),f(n,i),ee(u,n,null),f(n,o),ee(g,n,null),f(n,r),ee(h,n,null),f(n,l),ee(y,n,null),p(e,a,$),p(e,c,$),s=!0},p(e,n){var t={};e.collection1&&(t.imagecollection=n.collection1),e.uid&&(t.id=Be++),d.$set(t);var i={};e.collection2&&(i.imagecollection=n.collection2),e.uid&&(i.id=Be++),m.$set(i);var o={};e.collection3&&(o.imagecollection=n.collection3),e.uid&&(o.id=Be++),u.$set(o);var r={};e.collection4&&(r.imagecollection=n.collection4),e.uid&&(r.id=Be++),g.$set(r);var l={};e.collection5&&(l.imagecollection=n.collection5),e.uid&&(l.id=Be++),h.$set(l);var a={};e.collection6&&(a.imagecollection=n.collection6),e.uid&&(a.id=Be++),y.$set(a)},i(e){s||(d.$$.fragment.i(e),m.$$.fragment.i(e),u.$$.fragment.i(e),g.$$.fragment.i(e),h.$$.fragment.i(e),y.$$.fragment.i(e),s=!0)},o(e){d.$$.fragment.o(e),m.$$.fragment.o(e),u.$$.fragment.o(e),g.$$.fragment.o(e),h.$$.fragment.o(e),y.$$.fragment.o(e),s=!1},d(e){e&&$(n),d.$destroy(),m.$destroy(),u.$destroy(),g.$destroy(),h.$destroy(),y.$destroy(),e&&($(a),$(c))}}}let Be=1;function Re(e,n,t){let{name:i}=n;return e.$set=(e=>{"name"in e&&t("name",i=e.name)}),{name:i,collection1:[{src:"Noa.JPG"},{src:"dog.JPG"},{src:"glass.JPG"}],collection4:[{src:"atami.JPG"},{src:"kenodo.JPG"},{src:"kenodo2.JPG"}],collection6:[{src:"boring.JPG"},{src:"hownotto.JPG"},{src:"isometric.JPG"},{src:"notes.JPG"},{src:"glass-b+w.JPG"}],collection2:[{src:"cash.JPG"},{src:"robo.JPG"},{src:"tako.JPG"}],collection5:[{src:"angrykid2.JPG"},{src:"angrykid1.JPG"},{src:"angrykid3.JPG"},{src:"angrykid4.JPG"},{src:"angrykid5.JPG"}],collection3:[{src:"citizens.JPG"},{src:"screwit.JPG"},{src:"boltit.JPG"},{src:"kumo.JPG"}]}}return new class extends ie{constructor(e){super(),te(this,e,Re,je,l,["name"])}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
