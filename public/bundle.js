var app=function(){"use strict";function e(){}const t=e=>e;function n(e){return e()}function o(){return Object.create(null)}function i(e){e.forEach(n)}function r(e){return"function"==typeof e}function a(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function l(e,t,n){const o=t.subscribe(n);e.$$.on_destroy.push(o.unsubscribe?()=>o.unsubscribe():o)}const s="undefined"!=typeof window;let c=s?()=>window.performance.now():()=>Date.now(),d=s?requestAnimationFrame:e;const m=new Set;let g,u=!1;function f(){m.forEach(e=>{e[0](c())||(m.delete(e),e[1]())}),(u=m.size>0)&&d(f)}function $(e){let t;return u||(u=!0,d(f)),{promise:new Promise(n=>{m.add(t=[e,n])}),abort(){m.delete(t)}}}function h(e,t){e.appendChild(t)}function p(e,t,n){e.insertBefore(t,n||null)}function y(e){e.parentNode.removeChild(e)}function v(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function w(e){return document.createElement(e)}function b(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function x(e){return document.createTextNode(e)}function k(){return x(" ")}function E(){return x("")}function _(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function C(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function N(e,t){t=""+t,e.data!==t&&(e.data=t)}function L(e,t,n){e.style.setProperty(t,n)}function P(e,t,n){e.classList[n?"add":"remove"](t)}let G,S=0,B={};function J(e,t,n,o,i,r,a,l=0){const s=16.666/o;let c="{\n";for(let e=0;e<=1;e+=s){const o=t+(n-t)*r(e);c+=100*e+`%{${a(o,1-o)}}\n`}const d=c+`100% {${a(n,1-n)}}\n}`,m=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(d)}_${l}`;if(!B[m]){if(!g){const e=w("style");document.head.appendChild(e),g=e.sheet}B[m]=!0,g.insertRule(`@keyframes ${m} ${d}`,g.cssRules.length)}const u=e.style.animation||"";return e.style.animation=`${u?`${u}, `:""}${m} ${o}ms linear ${i}ms 1 both`,S+=1,m}function T(e,t){e.style.animation=(e.style.animation||"").split(", ").filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")).join(", "),t&&!--S&&d(()=>{if(S)return;let e=g.cssRules.length;for(;e--;)g.deleteRule(e);B={}})}function O(e){G=e}function X(){if(!G)throw new Error("Function called outside component initialization");return G}function Y(e){X().$$.on_mount.push(e)}function R(){const e=G;return(t,n)=>{const o=e.$$.callbacks[t];if(o){const i=function(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}(t,n);o.slice().forEach(t=>{t.call(e,i)})}}}const j=[],A=Promise.resolve();let I=!1;const z=[],H=[],q=[];function D(e){z.push(e)}function K(e){H.push(e)}function W(){const e=new Set;do{for(;j.length;){const e=j.shift();O(e),F(e.$$)}for(;z.length;)z.shift()();for(;H.length;){const t=H.pop();e.has(t)||(t(),e.add(t))}}while(j.length);for(;q.length;)q.pop()();I=!1}function F(e){e.fragment&&(e.update(e.dirty),i(e.before_render),e.fragment.p(e.dirty,e.ctx),e.dirty=null,e.after_render.forEach(K))}let M,V;function Q(){return M||(M=Promise.resolve()).then(()=>{M=null}),M}function U(){V={remaining:0,callbacks:[]}}function Z(){V.remaining||i(V.callbacks)}function ee(e){V.callbacks.push(e)}function te(n,o,r){let a,l=o(n,r),s=!0;const d=V;function m(){const{delay:o=0,duration:r=300,easing:m=t,tick:g=e,css:u}=l;u&&(a=J(n,1,0,r,o,m,u));const f=c()+o,h=f+r;$(e=>{if(s){if(e>=h)return g(0,1),--d.remaining||i(d.callbacks),!1;if(e>=f){const t=m((e-f)/r);g(1-t,t)}}return s})}return d.remaining+=1,"function"==typeof l?Q().then(()=>{l=l(),m()}):m(),{end(e){e&&l.tick&&l.tick(1,0),s&&(a&&T(n,a),s=!1)}}}function ne(e,t,o){const{fragment:a,on_mount:l,on_destroy:s,after_render:c}=e.$$;a.m(t,o),K(()=>{const t=l.map(n).filter(r);s?s.push(...t):i(t),e.$$.on_mount=[]}),c.forEach(K)}function oe(e,t){e.$$.dirty||(j.push(e),I||(I=!0,A.then(W)),e.$$.dirty=o()),e.$$.dirty[t]=!0}function ie(t,n,r,a,l,s){const c=G;O(t);const d=n.props||{},m=t.$$={fragment:null,ctx:null,props:s,update:e,not_equal:l,bound:o(),on_mount:[],on_destroy:[],before_render:[],after_render:[],context:new Map(c?c.$$.context:[]),callbacks:o(),dirty:null};let g=!1;var u;m.ctx=r?r(t,d,(e,n)=>{m.ctx&&l(m.ctx[e],m.ctx[e]=n)&&(m.bound[e]&&m.bound[e](n),g&&oe(t,e))}):d,m.update(),g=!0,i(m.before_render),m.fragment=a(m.ctx),n.target&&(n.hydrate?m.fragment.l((u=n.target,Array.from(u.childNodes))):m.fragment.c(),n.intro&&t.$$.fragment.i&&t.$$.fragment.i(),ne(t,n.target,n.anchor),W()),O(c)}class re{$destroy(){var t,n;n=!0,(t=this).$$&&(i(t.$$.on_destroy),t.$$.fragment.d(n),t.$$.on_destroy=t.$$.fragment=null,t.$$.ctx={}),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}}function ae(e){var t;return{c(){(t=w("div")).className="loader svelte-m5fr7l",L(t,"background","#ccc")},m(e,n){p(e,t,n)},d(e){e&&y(t)}}}function le(t){var n,o,i,r,a=!t.visible&&ae();return{c(){n=w("img"),i=k(),a&&a.c(),r=E(),n.src=t.image,n.alt="",n.className=o=(t.visible?"":"opacity--0")+" svelte-m5fr7l"},m(e,t){p(e,n,t),p(e,i,t),a&&a.m(e,t),p(e,r,t)},p(e,t){e.image&&(n.src=t.image),e.visible&&o!==(o=(t.visible?"":"opacity--0")+" svelte-m5fr7l")&&(n.className=o),t.visible?a&&(a.d(1),a=null):a||((a=ae()).c(),a.m(r.parentNode,r))},i:e,o:e,d(e){e&&(y(n),y(i)),a&&a.d(e),e&&y(r)}}}function se(e,t,n){let{image:o,visible:i=0}=t;const r=R();return Y(async()=>{const e=await fetch(o);if(200===e.status){n("image",o=e.url);const t=new Image;t.onload=(()=>{n("visible",i=!0),r("loadingComplete",{loadingComplete:1})}),t.src=o}else n("visible",i=!1)}),e.$set=(e=>{"image"in e&&n("image",o=e.image),"visible"in e&&n("visible",i=e.visible)}),{image:o,visible:i}}class ce extends re{constructor(e){super(),ie(this,e,se,le,a,["image","visible"])}}function de(t){var n,o;return{c(){n=b("svg"),C(o=b("rect"),"class","path svelte-frq9bn"),C(o,"id","Rectangle"),C(o,"fill","none"),C(o,"x","0.5"),C(o,"y","0.5"),C(o,"width","50"),C(o,"height","50"),C(n,"class","spinner svelte-frq9bn"),C(n,"viewBox","0 0 50 50")},m(e,t){p(e,n,t),h(n,o)},p:e,i:e,o:e,d(e){e&&y(n)}}}class me extends re{constructor(e){super(),ie(this,e,null,de,a,[])}}function ge(t,n=e){let o;const i=[];function r(e){if(a(t,e)){if(t=e,!o)return;i.forEach(e=>e[1]()),i.forEach(e=>e[0](t))}}return{set:r,update:function(e){r(e(t))},subscribe:function(a,l=e){const s=[a,l];return i.push(s),1===i.length&&(o=n(r)||e),a(t),()=>{const e=i.indexOf(s);-1!==e&&i.splice(e,1),0===i.length&&o()}}}}const ue=ge(!1),fe=ge(0),$e=ge(!1);function he(e){const t=e-1;return t*t*t+1}function pe(e,{delay:t=0,duration:n=400}){const o=+getComputedStyle(e).opacity;return{delay:t,duration:n,css:e=>`opacity: ${e*o}`}}function ye(e,{delay:t=0,duration:n=400,easing:o=he,x:i=0,y:r=0,opacity:a=0}){const l=getComputedStyle(e),s=+l.opacity,c="none"===l.transform?"":l.transform,d=s*(1-a);return{delay:t,duration:n,easing:o,css:(e,t)=>`\n\t\t\ttransform: ${c} translate(${(1-e)*i}px, ${(1-e)*r}px);\n\t\t\topacity: ${s-d*t}`}}function ve(e,t,n){const o=Object.create(e);return o.image=t[n],o.index=n,o}function we(e,t,n){const o=Object.create(e);return o.image=t[n],o.index=n,o}function be(e){var t,n,o,i,r,a,l,s,c,d=e.image.name,m=new ce({props:{image:e.lowresdir+"/"+e.image.src}});function g(...t){return e.click_handler(e,...t)}return m.$on("loadingComplete",e.loadingComplete_handler),{c(){t=w("a"),m.$$.fragment.c(),n=k(),o=w("span"),i=k(),r=w("h2"),a=x(d),o.className="magnify svelte-2gbk8m",r.className="svelte-2gbk8m",P(r,"out",!0===e.$destroyingExpandedGallery),P(r,"in",!1===e.$loadingSecondary),t.className="galleryitem svelte-2gbk8m",t.href=l=e.hiresdir+"/"+e.image.src,c=_(t,"click",g)},m(e,l){p(e,t,l),ne(m,t,null),h(t,n),h(t,o),h(t,i),h(t,r),h(r,a),s=!0},p(n,o){e=o;var i={};(n.lowresdir||n.stack)&&(i.image=e.lowresdir+"/"+e.image.src),m.$set(i),s&&!n.stack||d===(d=e.image.name)||N(a,d),n.$destroyingExpandedGallery&&P(r,"out",!0===e.$destroyingExpandedGallery),n.$loadingSecondary&&P(r,"in",!1===e.$loadingSecondary),s&&!n.hiresdir&&!n.stack||l===(l=e.hiresdir+"/"+e.image.src)||(t.href=l)},i(e){s||(m.$$.fragment.i(e),s=!0)},o(e){m.$$.fragment.o(e),s=!1},d(e){e&&y(t),m.$destroy(),c()}}}function xe(e){for(var t,n,o,r,a,l,s,c,d,m,g,u=!e.hiresLoaded&&ke(e),f=e.stack,$=[],b=0;b<f.length;b+=1)$[b]=Ee(ve(e,f,b));function x(e,t,n){$[e]&&(t&&ee(()=>{$[e].d(t),$[e]=null}),$[e].o(n))}return{c(){u&&u.c(),t=k(),n=w("div");for(var i=0;i<$.length;i+=1)$[i].c();o=k(),r=w("span"),a=k(),l=w("span"),s=k(),(c=w("span")).textContent="close",r.className="previous svelte-2gbk8m",l.className="next svelte-2gbk8m",c.className="close svelte-2gbk8m",n.className="hires svelte-2gbk8m",P(n,"ready",!0===e.hiresLoaded),g=[_(r,"click",e.showPrevious),_(l,"click",e.showNext),_(c,"click",e.closeGallery)]},m(i,d){u&&u.m(i,d),p(i,t,d),p(i,n,d);for(var g=0;g<$.length;g+=1)$[g].m(n,null);h(n,o),h(n,r),h(n,a),h(n,l),h(n,s),h(n,c),D(()=>e.div_binding_1(n,null)),m=!0},p(e,i){if(i.hiresLoaded?u&&(U(),ee(()=>{u.d(1),u=null}),u.o(1),Z()):u?u.i(1):((u=ke(i)).c(),u.i(1),u.m(t.parentNode,t)),e.current||e.hiresdir||e.stack||e.handleLoadingHiResComplete){f=i.stack;for(var r=0;r<f.length;r+=1){const t=ve(i,f,r);$[r]?($[r].p(e,t),$[r].i(1)):($[r]=Ee(t),$[r].c(),$[r].i(1),$[r].m(n,o))}for(U();r<$.length;r+=1)x(r,1,1);Z()}e.items&&(i.div_binding_1(null,n),i.div_binding_1(n,null)),e.hiresLoaded&&P(n,"ready",!0===i.hiresLoaded)},i(e){if(!m){u&&u.i();for(var t=0;t<f.length;t+=1)$[t].i();d&&d.end(1),m=!0}},o(e){u&&u.o(),$=$.filter(Boolean);for(let e=0;e<$.length;e+=1)x(e,0);e&&(d=te(n,pe,{duration:100})),m=!1},d(o){u&&u.d(o),o&&(y(t),y(n)),v($,o),e.div_binding_1(null,n),o&&d&&d.end(),i(g)}}}function ke(e){var t,n=new me({});return{c(){n.$$.fragment.c()},m(e,o){ne(n,e,o),t=!0},i(e){t||(n.$$.fragment.i(e),t=!0)},o(e){n.$$.fragment.o(e),t=!1},d(e){n.$destroy(e)}}}function Ee(e){var t,n,o=new ce({props:{image:e.hiresdir+"/"+e.image.src}});return o.$on("loadingComplete",e.handleLoadingHiResComplete),{c(){t=w("div"),o.$$.fragment.c(),t.className="hi-image svelte-2gbk8m",P(t,"active",e.current===e.index)},m(e,i){p(e,t,i),ne(o,t,null),n=!0},p(e,n){var i={};(e.hiresdir||e.stack)&&(i.image=n.hiresdir+"/"+n.image.src),o.$set(i),e.current&&P(t,"active",n.current===n.index)},i(e){n||(o.$$.fragment.i(e),n=!0)},o(e){o.$$.fragment.o(e),n=!1},d(e){e&&y(t),o.$destroy()}}}function _e(e){var t,n,o,r,a,l,s=!1,c=()=>{s=!1};K(e.onwindowscroll);for(var d=e.stack,m=[],g=0;g<d.length;g+=1)m[g]=be(we(e,d,g));function u(e,t,n){m[e]&&(t&&ee(()=>{m[e].d(t),m[e]=null}),m[e].o(n))}var f=e.ready&&xe(e);return{c(){n=w("div");for(var i=0;i<m.length;i+=1)m[i].c();o=k(),f&&f.c(),r=E(),n.className="stack gallery svelte-2gbk8m",l=[_(window,"keydown",e.handleKeydown),_(window,"scroll",()=>{s=!0,clearTimeout(t),t=setTimeout(c,100),e.onwindowscroll()})]},m(t,i){p(t,n,i);for(var l=0;l<m.length;l+=1)m[l].m(n,null);D(()=>e.div_binding(n,null)),p(t,o,i),f&&f.m(t,i),p(t,r,i),a=!0},p(e,o){if(e.y&&!s&&(s=!0,clearTimeout(t),window.scrollTo(window.pageXOffset,o.y),t=setTimeout(c,100)),e.hiresdir||e.stack||e.$destroyingExpandedGallery||e.$loadingSecondary||e.lowresdir){d=o.stack;for(var i=0;i<d.length;i+=1){const t=we(o,d,i);m[i]?(m[i].p(e,t),m[i].i(1)):(m[i]=be(t),m[i].c(),m[i].i(1),m[i].m(n,null))}for(U();i<m.length;i+=1)u(i,1,1);Z()}e.items&&(o.div_binding(null,n),o.div_binding(n,null)),o.ready?f?(f.p(e,o),f.i(1)):((f=xe(o)).c(),f.i(1),f.m(r.parentNode,r)):f&&(U(),ee(()=>{f.d(1),f=null}),f.o(1),Z())},i(e){if(!a){for(var t=0;t<d.length;t+=1)m[t].i();f&&f.i(),a=!0}},o(e){m=m.filter(Boolean);for(let e=0;e<m.length;e+=1)u(e,0);f&&f.o(),a=!1},d(t){t&&y(n),v(m,t),e.div_binding(null,n),t&&y(o),f&&f.d(t),t&&y(r),i(l)}}}function Ce(e,t,n){let o,i;l(e,$e,e=>{n("$loadingSecondary",o=e)}),l(e,ue,e=>{n("$destroyingExpandedGallery",i=e)});let r,a,s,c,d,m,g,u,f,$,h,{stack:p,lowresdir:y,hiresdir:v,originaltarget:w}=t,b=!1,x=!1,k=!1;const E=e=>new Promise(t=>setTimeout(t,e));let _=0;var C;function N(e,t){n("current",m=t),g=t,e.preventDefault(),function(e){let t=s[e].getElementsByTagName("img")[0],n=s[e].getBoundingClientRect(),o=document.documentElement.clientWidth/2,i=document.documentElement.clientHeight/2,r=o+2*i,a=n.width+n.height;Object.entries(s).forEach(([e,t])=>{t.style.zIndex="1"}),t.classList.remove("notransition"),t.classList.remove("quicktransition"),s[e].style.zIndex="99",$=scrollY,(async()=>{await E(10),t.style.transform=`translateX(${o-n.left-n.width/2}px) translateY(${i-n.top-n.height/2}px) scale(${r/a})`,t.addEventListener("transitionend",h=(()=>{console.log("Transition ended"),document.getElementsByTagName("body")[0].classList.add("locked")}))})()}(m),n("ready",x=!0)}function L(){r.classList.add("no-pointer-events"),void 0!==s?(console.log("weren't me guv"),P()):(console.log("object was undefined, hard luck son."),(async()=>{await E(180),Object.entries(s).forEach(([e,t])=>{console.log("trying again"),P()})})())}function P(){let e=w.getBoundingClientRect();Object.entries(s).forEach(([t,o])=>{let a=o.getBoundingClientRect(),l=`translateX(${e.x+4-a.x}px) translateY(${e.y+4-a.y}px) rotate(${4*t}deg)`;0==t&&(l=`translateX(${e.x+4-a.x}px) translateY(${e.y+6-a.y}px) scale(1.08) translateY(5px) rotate(-2deg)`),o.style.zIndex=d-t,i?(console.log(`destroying originalScrollPos = ${f}`),window.scrollTo(0,f),r.style.transform="translateY(0px)",n("secondLevel",r),l=`translateX(${e.x-a.x}px) translateY(${e.y-a.y}px) rotate(${2*t}deg)`,o.classList.add("quicktransition"),o.style.transform=l):o.style.transform=l})}function G(){m<=0?(c[0].style.transform="translateX(25px)",c[p.length-1].style.transform="translateX(-25px)",(async()=>{await E(200),n("current",m=p.length-1),B(m)})()):(c[m].style.transform="translateX(25px)",c[m-1].style.transform="translateX(-25px)",(async()=>{await E(200),n("current",--m),B(m)})())}function S(){m>=p.length-1?(c[0].style.transform="translateX(25px)",c[p.length-1].style.transform="translateX(-25px)",(async()=>{await E(200),n("current",m=0),B(m)})()):(c[m].style.transform="translateX(-25px)",c[m+1].style.transform="translateX(25px)",(async()=>{await E(200),n("current",++m),B(m)})())}function B(e){let t=s[e].getBoundingClientRect(),n=document.documentElement.clientWidth/2,o=document.documentElement.clientHeight/2,i=n+2*o,r=t.width+t.height,a=s[e].getElementsByTagName("img")[0];s[g].getElementsByTagName("img")[0];Object.entries(s).forEach(([e,t])=>{t.style.zIndex="1",t.firstChild.classList.add("notransition"),t.firstChild.classList.remove("hitransition"),t.firstChild.style.transform="translateX(0) translateY(0px) scale(1)"}),s[e].style.zIndex="99",a.style.transform=`translateX(${n-t.left-t.width/2}px) translateY(${o-t.top-t.height/2}px) scale(${i/r})`}function J(){let e=s[m].getElementsByTagName("img")[0];e.style;e.removeEventListener("transitionend",h,!1),console.log(f),window.scrollTo(0,$),document.getElementsByTagName("body")[0].classList.remove("locked"),console.log(scrollY),e.classList.remove("notransition"),e.classList.add("hitransition"),(async()=>{await E(200),e.style.transform="translateX(0) translateY(0) scale(1)",n("ready",x=!1)})()}return Y(()=>{s=r.getElementsByClassName("galleryitem"),d=r.getElementsByClassName("galleryitem").length,L()}),C=(()=>{o||i||k||(console.log(`scrollOffset = ${scrollY}`),f=scrollY,window.scrollTo(0,0),r.style.transform=`translateY(-${f}px)`,n("secondLevel",r),(async()=>{await E(80),Object.entries(s).forEach(([e,t])=>{t.getBoundingClientRect(),t.classList.add("slowtransition"),t.style.transform=`translateX(0px) translateY(${f}px)`})})(),(async()=>{await E(500),r.classList.remove("no-pointer-events")})(),k=!0,console.log("wtf")),i&&k&&(console.log("boom"),L(),k=!1)}),X().$$.after_render.push(C),function(e){X().$$.on_destroy.push(e)}(()=>{console.log("being destroyed"),ue.update(e=>!1)}),e.$set=(e=>{"stack"in e&&n("stack",p=e.stack),"lowresdir"in e&&n("lowresdir",y=e.lowresdir),"hiresdir"in e&&n("hiresdir",v=e.hiresdir),"originaltarget"in e&&n("originaltarget",w=e.originaltarget)}),{stack:p,lowresdir:y,hiresdir:v,originaltarget:w,secondLevel:r,thirdLevel:a,hiresLoaded:b,ready:x,current:m,y:u,loadLargeImages:N,handleLoadingHiResComplete:function(e){(_+=e.detail.loadingComplete)===p.length&&(_=0,n("hiresLoaded",b=!0)),c=a.getElementsByClassName("hi-image")},showPrevious:G,showNext:S,closeGallery:J,handleKeydown:function(e){"ArrowRight"==e.code&&S(),"ArrowLeft"==e.code&&G(),"Escape"==e.code&&J()},$loadingSecondary:o,$destroyingExpandedGallery:i,loadingComplete_handler:function(t){!function(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(e=>e(t))}(e,t)},onwindowscroll:function(){u=window.pageYOffset,n("y",u)},click_handler:function({index:e},t){return N(t,e)},div_binding:function(e,t){n("secondLevel",r=e)},div_binding_1:function(e,t){n("thirdLevel",a=e)}}}class Ne extends re{constructor(e){super(),ie(this,e,Ce,_e,a,["stack","lowresdir","hiresdir","originaltarget"])}}function Le(e,t,n){const o=Object.create(e);return o.image=t[n],o.index=n,o}function Pe(n){var o,i,r,a,l,s,d,m,g,u,f,v,b=n.imagecollection.length;return{c(){o=w("div"),i=w("p"),r=x(n.name),a=k(),l=w("span"),s=x("("),d=x(b),m=x(" images)"),l.className="svelte-rk69gu",i.className="svelte-rk69gu",o.className="breadcrumb svelte-rk69gu",v=_(o,"click",n.resetStacks)},m(e,t){p(e,o,t),h(o,i),h(i,r),h(i,a),h(i,l),h(l,s),h(l,d),h(l,m),f=!0},p(e,t){f&&!e.name||N(r,t.name),f&&!e.imagecollection||b===(b=t.imagecollection.length)||N(d,b)},i(n){f||(K(()=>{u&&u.end(1),g||(g=function(n,o,i){let r,a,l=o(n,i),s=!1,d=0;function m(){r&&T(n,r)}function g(){const{delay:o=0,duration:i=300,easing:g=t,tick:u=e,css:f}=l;f&&(r=J(n,0,1,i,o,g,f,d++)),u(0,1);const h=c()+o,p=h+i;a&&a.abort(),s=!0,a=$(e=>{if(s){if(e>=p)return u(1,0),m(),s=!1;if(e>=h){const t=g((e-h)/i);u(t,1-t)}}return s})}let u=!1;return{start(){u||(T(n),"function"==typeof l?(l=l(),Q().then(g)):g())},invalidate(){u=!1},end(){s&&(m(),s=!1)}}}(o,ye,{y:-40,duration:400})),g.start()}),f=!0)},o(e){g&&g.invalidate(),e&&(u=te(o,ye,{y:-40,duration:400})),f=!1},d(e){e&&(y(o),u&&u.end()),v()}}}function Ge(e){var t,n=new me({});return{c(){n.$$.fragment.c()},m(e,o){ne(n,e,o),t=!0},i(e){t||(n.$$.fragment.i(e),t=!0)},o(e){n.$$.fragment.o(e),t=!1},d(e){n.$destroy(e)}}}function Se(t){var n;return{c(){(n=w("div")).className="dummyimage svelte-rk69gu",L(n,"transform","rotate("+2*t.index+"deg)"),L(n,"z-index","-"+t.index),L(n,"opacity",1-1/t.imagecollection.length*t.index/1.2)},m(e,t){p(e,n,t)},p(e,t){e.imagecollection&&L(n,"opacity",1-1/t.imagecollection.length*t.index/1.2)},i:e,o:e,d(e){e&&y(n)}}}function Be(e){var t,n=new ce({props:{image:e.lowresdir+"/"+e.image.src}});return{c(){n.$$.fragment.c()},m(e,o){ne(n,e,o),t=!0},p(e,t){var o={};(e.lowresdir||e.imagecollection)&&(o.image=t.lowresdir+"/"+t.image.src),n.$set(o)},i(e){t||(n.$$.fragment.i(e),t=!0)},o(e){n.$$.fragment.o(e),t=!1},d(e){n.$destroy(e)}}}function Je(e){var t,n,o,i,r=[Be,Se],a=[];function l(e){return 0==e.index?0:1}return t=l(e),n=a[t]=r[t](e),{c(){n.c(),o=E()},m(e,n){a[t].m(e,n),p(e,o,n),i=!0},p(e,i){var s=t;(t=l(i))===s?a[t].p(e,i):(U(),ee(()=>{a[s].d(1),a[s]=null}),n.o(1),Z(),(n=a[t])||(n=a[t]=r[t](i)).c(),n.i(1),n.m(o.parentNode,o))},i(e){i||(n&&n.i(),i=!0)},o(e){n&&n.o(),i=!1},d(e){a[t].d(e),e&&y(o)}}}function Te(e){var t,n,o;let i={lowresdir:e.lowresdir,hiresdir:e.hiresdir,stack:e.imagecollection,originaltarget:e.collection};var r=new Ne({props:i});return D(()=>e.galleryexpanded_binding(r)),r.$on("loadingComplete",e.handleLoadingComplete),{c(){t=w("div"),r.$$.fragment.c(),t.className=n="loading--"+e.$loadingSecondary+" svelte-rk69gu"},m(e,n){p(e,t,n),ne(r,t,null),o=!0},p(e,i){var a={};e.lowresdir&&(a.lowresdir=i.lowresdir),e.hiresdir&&(a.hiresdir=i.hiresdir),e.imagecollection&&(a.stack=i.imagecollection),e.collection&&(a.originaltarget=i.collection),r.$set(a),o&&!e.$loadingSecondary||n===(n="loading--"+i.$loadingSecondary+" svelte-rk69gu")||(t.className=n)},i(e){o||(r.$$.fragment.i(e),o=!0)},o(e){r.$$.fragment.o(e),o=!1},d(n){n&&y(t),e.galleryexpanded_binding(null),r.$destroy()}}}function Oe(e){for(var t,n,o,r,a,l,s,c,d,m,g,u,f,$,b,C,L=e.imagecollection.length,G=e.$activeCollection==e.id&&Pe(e),S=e.$activeCollection==e.id&&Ge(),B=e.imagecollection,J=[],T=0;T<B.length;T+=1)J[T]=Je(Le(e,B,T));function O(e,t,n){J[e]&&(t&&ee(()=>{J[e].d(t),J[e]=null}),J[e].o(n))}var X=e.attemptingtoLoad&&Te(e);return{c(){G&&G.c(),t=k(),n=w("a"),S&&S.c(),o=k();for(var i=0;i<J.length;i+=1)J[i].c();r=k(),a=w("h2"),l=x(e.name),s=k(),c=w("span"),d=x("("),m=x(L),g=x(" Images)"),f=k(),X&&X.c(),$=E(),c.className="svelte-rk69gu",a.className="svelte-rk69gu",n.href=u=e.hiresdir+"/"+e.imagecollection[0].src,n.className="collection svelte-rk69gu",n.dataset.id=e.id,P(n,"active",e.id===e.$activeCollection&&1==e.$loadingSecondary),P(n,"nonactive",0!==e.$activeCollection&&e.id!==e.$activeCollection),C=[_(n,"mouseenter",e.rotate),_(n,"mouseleave",e.unRotate),_(n,"click",e.showContents)]},m(i,u){G&&G.m(i,u),p(i,t,u),p(i,n,u),S&&S.m(n,null),h(n,o);for(var y=0;y<J.length;y+=1)J[y].m(n,null);h(n,r),h(n,a),h(a,l),h(a,s),h(a,c),h(c,d),h(c,m),h(c,g),D(()=>e.a_binding(n,null)),p(i,f,u),X&&X.m(i,u),p(i,$,u),b=!0},p(e,i){if(i.$activeCollection==i.id?G?(G.p(e,i),G.i(1)):((G=Pe(i)).c(),G.i(1),G.m(t.parentNode,t)):G&&(U(),ee(()=>{G.d(1),G=null}),G.o(1),Z()),i.$activeCollection==i.id?S?S.i(1):((S=Ge()).c(),S.i(1),S.m(n,o)):S&&(U(),ee(()=>{S.d(1),S=null}),S.o(1),Z()),e.lowresdir||e.imagecollection){B=i.imagecollection;for(var a=0;a<B.length;a+=1){const t=Le(i,B,a);J[a]?(J[a].p(e,t),J[a].i(1)):(J[a]=Je(t),J[a].c(),J[a].i(1),J[a].m(n,r))}for(U();a<J.length;a+=1)O(a,1,1);Z()}b&&!e.name||N(l,i.name),b&&!e.imagecollection||L===(L=i.imagecollection.length)||N(m,L),e.items&&(i.a_binding(null,n),i.a_binding(n,null)),b&&!e.hiresdir&&!e.imagecollection||u===(u=i.hiresdir+"/"+i.imagecollection[0].src)||(n.href=u),b&&!e.id||(n.dataset.id=i.id),(e.id||e.$activeCollection||e.$loadingSecondary)&&P(n,"active",i.id===i.$activeCollection&&1==i.$loadingSecondary),(e.$activeCollection||e.id)&&P(n,"nonactive",0!==i.$activeCollection&&i.id!==i.$activeCollection),i.attemptingtoLoad?X?(X.p(e,i),X.i(1)):((X=Te(i)).c(),X.i(1),X.m($.parentNode,$)):X&&(U(),ee(()=>{X.d(1),X=null}),X.o(1),Z())},i(e){if(!b){G&&G.i(),S&&S.i();for(var t=0;t<B.length;t+=1)J[t].i();X&&X.i(),b=!0}},o(e){G&&G.o(),S&&S.o(),J=J.filter(Boolean);for(let e=0;e<J.length;e+=1)O(e,0);X&&X.o(),b=!1},d(o){G&&G.d(o),o&&(y(t),y(n)),S&&S.d(),v(J,o),e.a_binding(null,n),o&&y(f),X&&X.d(o),o&&y($),i(C)}}}const Xe=new Set;function Ye(e,t,n){let o,i;l(e,fe,e=>{n("$activeCollection",o=e)}),l(e,$e,e=>{n("$loadingSecondary",i=e)});let{imagecollection:r,lowresdir:a,hiresdir:s,id:c=0,name:d,color:m}=t;const g=e=>new Promise(t=>setTimeout(t,e));let u,f,$,h,p,y=0,v=!1;return Y(()=>(h=u.getElementsByTagName("div"),p=u.getElementsByTagName("img")[0],Xe.add(u),()=>Xe.delete(u))),e.$set=(e=>{"imagecollection"in e&&n("imagecollection",r=e.imagecollection),"lowresdir"in e&&n("lowresdir",a=e.lowresdir),"hiresdir"in e&&n("hiresdir",s=e.hiresdir),"id"in e&&n("id",c=e.id),"name"in e&&n("name",d=e.name),"color"in e&&n("color",m=e.color)}),{imagecollection:r,lowresdir:a,hiresdir:s,id:c,name:d,color:m,collection:u,galleryExpanded:$,attemptingtoLoad:v,rotate:function(){Object.entries(h).forEach(([e,t])=>{t.style.transform="rotate("+(4*parseInt(e)+5)+"deg)"}),p.style.transform="scale(1.03) translateY(5px) rotate(-1deg)"},unRotate:function(){Object.entries(h).forEach(([e,t])=>{t.style.transform="rotate("+2*(parseInt(e)+1)+"deg)"}),p.style.transform="scale(1) rotate(0deg)"},showContents:function(e){if(n("attemptingtoLoad",v=!0),e.preventDefault(),f=getComputedStyle(document.documentElement).getPropertyValue("--bgcolor"),m){let e=m.split(",");document.documentElement.style.setProperty("--bgcolor",`hsla(${e[0]}, ${e[1]}%, ${e[2]}%, 1)`),document.documentElement.style.setProperty("--bgcolortint",`hsla(${e[0]}, ${e[1]}%, ${e[2]}%, 0.6)`),document.documentElement.style.setProperty("--bgcolordarktint",`hsl(${e[0]}, ${e[1]}%, ${e[2]/e[1]*10}%)`)}$e.update(e=>!0),fe.update(e=>c),function(){let e=document.documentElement.clientWidth/2,t=document.documentElement.clientHeight/2;Xe.forEach(n=>{var i=n.getBoundingClientRect();n.classList.add("neardeath");let r=parseInt(n.dataset.id);n.classList.add("no-pointer-events"),r!==o&&(n.style.transform=`translateX(${i.left/3-e/3}px) translateY(${i.top/3-t/3}px)`)})}()},resetStacks:function(){console.log("resetting..."),document.documentElement.style.setProperty("--bgcolor",f),ue.update(e=>!0),Xe.forEach(e=>{e.classList.remove("neardeath")}),(async()=>{await g(200),fe.update(e=>0),n("attemptingtoLoad",v=!1),Xe.forEach(e=>{e.style.transform="translateX(0px) translateY(0px)"})})(),(async()=>{await g(600),Xe.forEach(e=>{e.classList.remove("no-pointer-events")})})()},handleLoadingComplete:function(e){(y+=e.detail.loadingComplete)===r.length&&(console.log("Loading complete"),$e.update(e=>!1),y=0)},$activeCollection:o,$loadingSecondary:i,a_binding:function(e,t){n("collection",u=e)},galleryexpanded_binding:function(e){n("galleryExpanded",$=e)}}}class Re extends re{constructor(e){super(),ie(this,e,Ye,Oe,a,["imagecollection","lowresdir","hiresdir","id","name","color"])}}function je(e){var t,n,o,i,r,a,l,s,c,d,m=new Re({props:{width:"",name:"Ongakukai",color:"44, 47, 90",lowresdir:"images/16_ongakukai",hiresdir:"images/16_ongakukai/originals",imagecollection:e.collection0,id:Ae++}}),g=new Re({props:{width:"",name:"Painterly",color:"261, 27, 71",lowresdir:"images",hiresdir:"images/originals",imagecollection:e.collection1,id:Ae++}}),u=new Re({props:{width:"",name:"Splashes",color:"206, 69, 88",lowresdir:"images",hiresdir:"images/originals",imagecollection:e.collection2,id:Ae++}}),f=new Re({props:{width:"",name:"Citizens of Science",color:"182, 37, 73",lowresdir:"images",hiresdir:"images/originals",imagecollection:e.collection3,id:Ae++}}),$=new Re({props:{width:"",name:"Travelling",color:"209, 25, 24",lowresdir:"images",hiresdir:"images/originals",imagecollection:e.collection4,id:Ae++}}),v=new Re({props:{width:"",name:"Angry at kids",color:"13, 92, 87",lowresdir:"images",hiresdir:"images/originals",imagecollection:e.collection5,id:Ae++}}),b=new Re({props:{width:"",name:"Sketches",color:"109, 0, 76",lowresdir:"images",hiresdir:"images/originals",imagecollection:e.collection6,id:Ae++}});return{c(){t=w("div"),m.$$.fragment.c(),n=k(),g.$$.fragment.c(),o=k(),u.$$.fragment.c(),i=k(),f.$$.fragment.c(),r=k(),$.$$.fragment.c(),a=k(),v.$$.fragment.c(),l=k(),b.$$.fragment.c(),s=k(),(c=w("p")).innerHTML='<a href="https://github.com/cssandstuff/portfolio-scaffold" class="svelte-17oglvp">See on Github</a>',t.className="container svelte-17oglvp",c.className="svelte-17oglvp"},m(e,y){p(e,t,y),ne(m,t,null),h(t,n),ne(g,t,null),h(t,o),ne(u,t,null),h(t,i),ne(f,t,null),h(t,r),ne($,t,null),h(t,a),ne(v,t,null),h(t,l),ne(b,t,null),p(e,s,y),p(e,c,y),d=!0},p(e,t){var n={};e.collection0&&(n.imagecollection=t.collection0),e.uid&&(n.id=Ae++),m.$set(n);var o={};e.collection1&&(o.imagecollection=t.collection1),e.uid&&(o.id=Ae++),g.$set(o);var i={};e.collection2&&(i.imagecollection=t.collection2),e.uid&&(i.id=Ae++),u.$set(i);var r={};e.collection3&&(r.imagecollection=t.collection3),e.uid&&(r.id=Ae++),f.$set(r);var a={};e.collection4&&(a.imagecollection=t.collection4),e.uid&&(a.id=Ae++),$.$set(a);var l={};e.collection5&&(l.imagecollection=t.collection5),e.uid&&(l.id=Ae++),v.$set(l);var s={};e.collection6&&(s.imagecollection=t.collection6),e.uid&&(s.id=Ae++),b.$set(s)},i(e){d||(m.$$.fragment.i(e),g.$$.fragment.i(e),u.$$.fragment.i(e),f.$$.fragment.i(e),$.$$.fragment.i(e),v.$$.fragment.i(e),b.$$.fragment.i(e),d=!0)},o(e){m.$$.fragment.o(e),g.$$.fragment.o(e),u.$$.fragment.o(e),f.$$.fragment.o(e),$.$$.fragment.o(e),v.$$.fragment.o(e),b.$$.fragment.o(e),d=!1},d(e){e&&y(t),m.$destroy(),g.$destroy(),u.$destroy(),f.$destroy(),$.$destroy(),v.$destroy(),b.$destroy(),e&&(y(s),y(c))}}}let Ae=1;function Ie(e,t,n){let{name:o}=t;return e.$set=(e=>{"name"in e&&n("name",o=e.name)}),{name:o,collection0:[{src:"01_front_cover.jpg",name:"Noa"},{src:"02_back_cover.jpg",name:"Dog"},{src:"racoon_together.jpg",name:"Glass"}],collection1:[{src:"Noa.JPG",name:"Noa"},{src:"dog.JPG",name:"Dog"},{src:"glass.JPG",name:"Glass"}],collection4:[{src:"atami.JPG",name:"Atami at night"},{src:"kenodo.JPG",name:"Konodo Highway"},{src:"kenodo2.JPG",name:"Tunnels"}],collection6:[{src:"boring.JPG",name:"Everything is boring"},{src:"hownotto.JPG",name:"How not to draw"},{src:"isometric.JPG",name:"Isometric"},{src:"notes.JPG",name:"Notes"},{src:"glass-b+w.JPG",name:"Glass"}],collection2:[{src:"cash.JPG",name:"Cash Suitcase"},{src:"robo.JPG",name:"Robot"},{src:"tako.JPG",name:"Octopus"}],collection5:[{src:"angrykid2.JPG",name:"Angry 1"},{src:"angrykid1.JPG",name:"Angry 2"},{src:"angrykid3.JPG",name:"Angry 3"},{src:"angrykid4.JPG",name:"Angry 4"},{src:"angrykid5.JPG",name:"Angry 5"}],collection3:[{src:"citizens.JPG",name:"Citizens of Science"},{src:"screwit.JPG",name:"Screw It"},{src:"boltit.JPG",name:"Boltman"},{src:"kumo.JPG",name:"Spiderdeath"}]}}return new class extends re{constructor(e){super(),ie(this,e,Ie,je,a,["name"])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
