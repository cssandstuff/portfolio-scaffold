var app=function(){"use strict";function e(){}const t=e=>e;function n(e){return e()}function i(){return Object.create(null)}function o(e){e.forEach(n)}function r(e){return"function"==typeof e}function a(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function l(e,t,n){const i=t.subscribe(n);e.$$.on_destroy.push(i.unsubscribe?()=>i.unsubscribe():i)}const s="undefined"!=typeof window;let c=s?()=>window.performance.now():()=>Date.now(),d=s?requestAnimationFrame:e;const m=new Set;let g,u=!1;function f(){m.forEach(e=>{e[0](c())||(m.delete(e),e[1]())}),(u=m.size>0)&&d(f)}function $(e){let t;return u||(u=!0,d(f)),{promise:new Promise(n=>{m.add(t=[e,n])}),abort(){m.delete(t)}}}function h(e,t){e.appendChild(t)}function p(e,t,n){e.insertBefore(t,n||null)}function y(e){e.parentNode.removeChild(e)}function v(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function w(e){return document.createElement(e)}function x(e){return document.createTextNode(e)}function b(){return x(" ")}function k(){return x("")}function E(e,t,n,i){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)}function C(e,t){t=""+t,e.data!==t&&(e.data=t)}function _(e,t,n){e.style.setProperty(t,n)}function L(e,t,n){e.classList[n?"add":"remove"](t)}let N,G=0,P={};function T(e,t,n,i,o,r,a,l=0){const s=16.666/i;let c="{\n";for(let e=0;e<=1;e+=s){const i=t+(n-t)*r(e);c+=100*e+`%{${a(i,1-i)}}\n`}const d=c+`100% {${a(n,1-n)}}\n}`,m=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(d)}_${l}`;if(!P[m]){if(!g){const e=w("style");document.head.appendChild(e),g=e.sheet}P[m]=!0,g.insertRule(`@keyframes ${m} ${d}`,g.cssRules.length)}const u=e.style.animation||"";return e.style.animation=`${u?`${u}, `:""}${m} ${i}ms linear ${o}ms 1 both`,G+=1,m}function S(e,t){e.style.animation=(e.style.animation||"").split(", ").filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")).join(", "),t&&!--G&&d(()=>{if(G)return;let e=g.cssRules.length;for(;e--;)g.deleteRule(e);P={}})}function J(e){N=e}function B(){if(!N)throw new Error("Function called outside component initialization");return N}function z(e){B().$$.on_mount.push(e)}function O(){const e=N;return(t,n)=>{const i=e.$$.callbacks[t];if(i){const o=function(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}(t,n);i.slice().forEach(t=>{t.call(e,o)})}}}const X=[],j=Promise.resolve();let R=!1;const Y=[],I=[],A=[];function H(e){Y.push(e)}function q(e){I.push(e)}function D(){const e=new Set;do{for(;X.length;){const e=X.shift();J(e),M(e.$$)}for(;Y.length;)Y.shift()();for(;I.length;){const t=I.pop();e.has(t)||(t(),e.add(t))}}while(X.length);for(;A.length;)A.pop()();R=!1}function M(e){e.fragment&&(e.update(e.dirty),o(e.before_render),e.fragment.p(e.dirty,e.ctx),e.dirty=null,e.after_render.forEach(q))}let K,W;function F(){return K||(K=Promise.resolve()).then(()=>{K=null}),K}function V(){W={remaining:0,callbacks:[]}}function Q(){W.remaining||o(W.callbacks)}function U(e){W.callbacks.push(e)}function Z(n,i,r){let a,l=i(n,r),s=!0;const d=W;function m(){const{delay:i=0,duration:r=300,easing:m=t,tick:g=e,css:u}=l;u&&(a=T(n,1,0,r,i,m,u));const f=c()+i,h=f+r;$(e=>{if(s){if(e>=h)return g(0,1),--d.remaining||o(d.callbacks),!1;if(e>=f){const t=m((e-f)/r);g(1-t,t)}}return s})}return d.remaining+=1,"function"==typeof l?F().then(()=>{l=l(),m()}):m(),{end(e){e&&l.tick&&l.tick(1,0),s&&(a&&S(n,a),s=!1)}}}function ee(e,t,i){const{fragment:a,on_mount:l,on_destroy:s,after_render:c}=e.$$;a.m(t,i),q(()=>{const t=l.map(n).filter(r);s?s.push(...t):o(t),e.$$.on_mount=[]}),c.forEach(q)}function te(e,t){e.$$.dirty||(X.push(e),R||(R=!0,j.then(D)),e.$$.dirty=i()),e.$$.dirty[t]=!0}function ne(t,n,r,a,l,s){const c=N;J(t);const d=n.props||{},m=t.$$={fragment:null,ctx:null,props:s,update:e,not_equal:l,bound:i(),on_mount:[],on_destroy:[],before_render:[],after_render:[],context:new Map(c?c.$$.context:[]),callbacks:i(),dirty:null};let g=!1;var u;m.ctx=r?r(t,d,(e,n)=>{m.ctx&&l(m.ctx[e],m.ctx[e]=n)&&(m.bound[e]&&m.bound[e](n),g&&te(t,e))}):d,m.update(),g=!0,o(m.before_render),m.fragment=a(m.ctx),n.target&&(n.hydrate?m.fragment.l((u=n.target,Array.from(u.childNodes))):m.fragment.c(),n.intro&&t.$$.fragment.i&&t.$$.fragment.i(),ee(t,n.target,n.anchor),D()),J(c)}class ie{$destroy(){var t,n;n=!0,(t=this).$$&&(o(t.$$.on_destroy),t.$$.fragment.d(n),t.$$.on_destroy=t.$$.fragment=null,t.$$.ctx={}),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}}function oe(e){var t;return{c(){(t=w("div")).innerHTML='<div class="inner svelte-vtevxo"></div>',t.className="loader svelte-vtevxo"},m(e,n){p(e,t,n)},d(e){e&&y(t)}}}function re(t){var n,i,o,r,a=!t.visible&&oe();return{c(){n=w("img"),o=b(),a&&a.c(),r=k(),n.src=t.image,n.alt="",n.className=i=(t.visible?"":"opacity--0")+" svelte-vtevxo"},m(e,t){p(e,n,t),p(e,o,t),a&&a.m(e,t),p(e,r,t)},p(e,t){e.image&&(n.src=t.image),e.visible&&i!==(i=(t.visible?"":"opacity--0")+" svelte-vtevxo")&&(n.className=i),t.visible?a&&(a.d(1),a=null):a||((a=oe()).c(),a.m(r.parentNode,r))},i:e,o:e,d(e){e&&(y(n),y(o)),a&&a.d(e),e&&y(r)}}}function ae(e,t,n){let{image:i,visible:o=0}=t;const r=O();return z(async()=>{const e=await fetch(i);if(200===e.status){n("image",i=e.url);const t=new Image;t.onload=(()=>{n("visible",o=!0),r("loadingComplete",{loadingComplete:1})}),t.src=i}else n("visible",o=!1)}),e.$set=(e=>{"image"in e&&n("image",i=e.image),"visible"in e&&n("visible",o=e.visible)}),{image:i,visible:o}}class le extends ie{constructor(e){super(),ne(this,e,ae,re,a,["image","visible"])}}function se(t){var n;return{c(){(n=w("div")).innerHTML='<div class="inner svelte-148bgtc"></div>',n.className="spinner svelte-148bgtc"},m(e,t){p(e,n,t)},p:e,i:e,o:e,d(e){e&&y(n)}}}class ce extends ie{constructor(e){super(),ne(this,e,null,se,a,[])}}function de(t,n=e){let i;const o=[];function r(e){if(a(t,e)){if(t=e,!i)return;o.forEach(e=>e[1]()),o.forEach(e=>e[0](t))}}return{set:r,update:function(e){r(e(t))},subscribe:function(a,l=e){const s=[a,l];return o.push(s),1===o.length&&(i=n(r)||e),a(t),()=>{const e=o.indexOf(s);-1!==e&&o.splice(e,1),0===o.length&&i()}}}}const me=de(!1),ge=de(0),ue=de(!1);function fe(e){const t=e-1;return t*t*t+1}function $e(e,{delay:t=0,duration:n=400}){const i=+getComputedStyle(e).opacity;return{delay:t,duration:n,css:e=>`opacity: ${e*i}`}}function he(e,{delay:t=0,duration:n=400,easing:i=fe,x:o=0,y:r=0,opacity:a=0}){const l=getComputedStyle(e),s=+l.opacity,c="none"===l.transform?"":l.transform,d=s*(1-a);return{delay:t,duration:n,easing:i,css:(e,t)=>`\n\t\t\ttransform: ${c} translate(${(1-e)*o}px, ${(1-e)*r}px);\n\t\t\topacity: ${s-d*t}`}}function pe(e,t,n){const i=Object.create(e);return i.image=t[n],i.index=n,i}function ye(e,t,n){const i=Object.create(e);return i.image=t[n],i.index=n,i}function ve(e){var t,n,i,o,r,a,l,s,c,d=e.image.name,m=new le({props:{image:e.lowresdir+"/"+e.image.src}});function g(...t){return e.click_handler(e,...t)}return m.$on("loadingComplete",e.loadingComplete_handler),{c(){t=w("a"),m.$$.fragment.c(),n=b(),i=w("span"),o=b(),r=w("h2"),a=x(d),i.className="magnify svelte-1y9szdk",L(i,"out",!1===e.showTitles),r.className="svelte-1y9szdk",L(r,"out",!0===e.$destroyingExpandedGallery||!1===e.showTitles),L(r,"in",!1===e.$loadingSecondary&&!1!==e.showTitles&&!e.$destroyingExpandedGallery),t.className="galleryitem svelte-1y9szdk",t.href=l=e.hiresdir+"/"+e.image.src,L(t,"transitioning",!0===e.transitioning),c=E(t,"click",g)},m(e,l){p(e,t,l),ee(m,t,null),h(t,n),h(t,i),h(t,o),h(t,r),h(r,a),s=!0},p(n,o){e=o;var c={};(n.lowresdir||n.stack)&&(c.image=e.lowresdir+"/"+e.image.src),m.$set(c),n.showTitles&&L(i,"out",!1===e.showTitles),s&&!n.stack||d===(d=e.image.name)||C(a,d),(n.$destroyingExpandedGallery||n.showTitles)&&L(r,"out",!0===e.$destroyingExpandedGallery||!1===e.showTitles),(n.$loadingSecondary||n.showTitles||n.$destroyingExpandedGallery)&&L(r,"in",!1===e.$loadingSecondary&&!1!==e.showTitles&&!e.$destroyingExpandedGallery),s&&!n.hiresdir&&!n.stack||l===(l=e.hiresdir+"/"+e.image.src)||(t.href=l),n.transitioning&&L(t,"transitioning",!0===e.transitioning)},i(e){s||(m.$$.fragment.i(e),s=!0)},o(e){m.$$.fragment.o(e),s=!1},d(e){e&&y(t),m.$destroy(),c()}}}function we(e){for(var t,n,i,r,a,l,s,c,d,m,g,u=!e.hiresLoaded&&xe(e),f=e.stack,$=[],x=0;x<f.length;x+=1)$[x]=be(pe(e,f,x));function k(e,t,n){$[e]&&(t&&U(()=>{$[e].d(t),$[e]=null}),$[e].o(n))}return{c(){u&&u.c(),t=b(),n=w("div");for(var o=0;o<$.length;o+=1)$[o].c();i=b(),r=w("span"),a=b(),l=w("span"),s=b(),(c=w("span")).textContent="close",r.className="previous svelte-1y9szdk",l.className="next svelte-1y9szdk",c.className="close svelte-1y9szdk",n.className="hires svelte-1y9szdk",L(n,"ready",!0===e.hiresLoaded),g=[E(r,"click",e.showPrevious),E(l,"click",e.showNext),E(c,"click",e.closeGallery)]},m(o,d){u&&u.m(o,d),p(o,t,d),p(o,n,d);for(var g=0;g<$.length;g+=1)$[g].m(n,null);h(n,i),h(n,r),h(n,a),h(n,l),h(n,s),h(n,c),H(()=>e.div_binding_1(n,null)),m=!0},p(e,o){if(o.hiresLoaded?u&&(V(),U(()=>{u.d(1),u=null}),u.o(1),Q()):u?u.i(1):((u=xe(o)).c(),u.i(1),u.m(t.parentNode,t)),e.current||e.hiresdir||e.stack||e.handleLoadingHiResComplete){f=o.stack;for(var r=0;r<f.length;r+=1){const t=pe(o,f,r);$[r]?($[r].p(e,t),$[r].i(1)):($[r]=be(t),$[r].c(),$[r].i(1),$[r].m(n,i))}for(V();r<$.length;r+=1)k(r,1,1);Q()}e.items&&(o.div_binding_1(null,n),o.div_binding_1(n,null)),e.hiresLoaded&&L(n,"ready",!0===o.hiresLoaded)},i(e){if(!m){u&&u.i();for(var t=0;t<f.length;t+=1)$[t].i();d&&d.end(1),m=!0}},o(e){u&&u.o(),$=$.filter(Boolean);for(let e=0;e<$.length;e+=1)k(e,0);e&&(d=Z(n,$e,{duration:100})),m=!1},d(i){u&&u.d(i),i&&(y(t),y(n)),v($,i),e.div_binding_1(null,n),i&&d&&d.end(),o(g)}}}function xe(e){var t,n=new ce({});return{c(){n.$$.fragment.c()},m(e,i){ee(n,e,i),t=!0},i(e){t||(n.$$.fragment.i(e),t=!0)},o(e){n.$$.fragment.o(e),t=!1},d(e){n.$destroy(e)}}}function be(e){var t,n,i=new le({props:{image:e.hiresdir+"/"+e.image.src}});return i.$on("loadingComplete",e.handleLoadingHiResComplete),{c(){t=w("div"),i.$$.fragment.c(),t.className="hi-image svelte-1y9szdk",L(t,"active",e.current===e.index)},m(e,o){p(e,t,o),ee(i,t,null),n=!0},p(e,n){var o={};(e.hiresdir||e.stack)&&(o.image=n.hiresdir+"/"+n.image.src),i.$set(o),e.current&&L(t,"active",n.current===n.index)},i(e){n||(i.$$.fragment.i(e),n=!0)},o(e){i.$$.fragment.o(e),n=!1},d(e){e&&y(t),i.$destroy()}}}function ke(e){var t,n,i,r,a,l,s=!1,c=()=>{s=!1};q(e.onwindowscroll);for(var d=e.stack,m=[],g=0;g<d.length;g+=1)m[g]=ve(ye(e,d,g));function u(e,t,n){m[e]&&(t&&U(()=>{m[e].d(t),m[e]=null}),m[e].o(n))}var f=e.ready&&we(e);return{c(){n=w("div");for(var o=0;o<m.length;o+=1)m[o].c();i=b(),f&&f.c(),r=k(),n.className="stack gallery svelte-1y9szdk",l=[E(window,"keydown",e.handleKeydown),E(window,"scroll",()=>{s=!0,clearTimeout(t),t=setTimeout(c,100),e.onwindowscroll()})]},m(t,o){p(t,n,o);for(var l=0;l<m.length;l+=1)m[l].m(n,null);H(()=>e.div_binding(n,null)),p(t,i,o),f&&f.m(t,o),p(t,r,o),a=!0},p(e,i){if(e.y&&!s&&(s=!0,clearTimeout(t),window.scrollTo(window.pageXOffset,i.y),t=setTimeout(c,100)),e.hiresdir||e.stack||e.transitioning||e.$destroyingExpandedGallery||e.showTitles||e.$loadingSecondary||e.lowresdir){d=i.stack;for(var o=0;o<d.length;o+=1){const t=ye(i,d,o);m[o]?(m[o].p(e,t),m[o].i(1)):(m[o]=ve(t),m[o].c(),m[o].i(1),m[o].m(n,null))}for(V();o<m.length;o+=1)u(o,1,1);Q()}e.items&&(i.div_binding(null,n),i.div_binding(n,null)),i.ready?f?(f.p(e,i),f.i(1)):((f=we(i)).c(),f.i(1),f.m(r.parentNode,r)):f&&(V(),U(()=>{f.d(1),f=null}),f.o(1),Q())},i(e){if(!a){for(var t=0;t<d.length;t+=1)m[t].i();f&&f.i(),a=!0}},o(e){m=m.filter(Boolean);for(let e=0;e<m.length;e+=1)u(e,0);f&&f.o(),a=!1},d(t){t&&y(n),v(m,t),e.div_binding(null,n),t&&y(i),f&&f.d(t),t&&y(r),o(l)}}}function Ee(e,t,n){let i,o;l(e,ue,e=>{n("$loadingSecondary",i=e)}),l(e,me,e=>{n("$destroyingExpandedGallery",o=e)});let r,a,s,c,d,m,g,u,f,{stack:$,lowresdir:h,hiresdir:p,originaltarget:y}=t,v=0,w=!0,x=!1,b=!1,k=!1,E=!1,C=!1;const _=e=>new Promise(t=>setTimeout(t,e));var L;function N(e,t){n("current",d=t),e.preventDefault(),function(e){let t=s[e].getElementsByTagName("img")[0],i=s[e].getBoundingClientRect(),o=document.documentElement.clientWidth/2,r=document.documentElement.clientHeight/2,a=o+2*r,l=i.width+i.height;n("showTitles",w=!1),Object.entries(s).forEach(([e,t])=>{t.style.zIndex="1"}),t.classList.remove("notransition"),t.classList.remove("quicktransition"),s[e].style.zIndex="99",u=scrollY,(async()=>{await _(10),t.style.transform=`translateX(${o-i.left-i.width/2}px) translateY(${r-i.top-i.height/2}px) scale(${a/l})`,t.addEventListener("transitionend",f=(()=>{console.log("Transition ended"),document.getElementsByTagName("body")[0].classList.add("locked")}))})(),C=!1}(d),n("ready",b=!0)}function G(){r.classList.add("no-pointer-events"),void 0!==s?(console.log("weren't me guv, everything normal..."),P()):(console.log("object was undefined, hard luck son."),(async()=>{await _(180),Object.entries(s).forEach(([e,t])=>{console.log("trying again..."),P()})})())}function P(){let e=y.getBoundingClientRect();Object.entries(s).forEach(([t,i])=>{let a=i.getBoundingClientRect(),l=`translateX(${e.x+4-a.x}px) translateY(${e.y+4-a.y}px) rotate(${4*t}deg)`;0==t&&(l=`translateX(${e.x+4-a.x}px) translateY(${e.y+6-a.y}px) scale(1.08) translateY(5px) rotate(-2deg)`),i.style.zIndex=s.length-t,o?(window.scrollTo(0,g),r.style.transform="translateY(0px)",n("activeCollection",r),l=`translateX(${e.x-a.x}px) translateY(${e.y-a.y}px) rotate(${2*t}deg)`,i.classList.add("quicktransition"),i.style.transform=l):i.style.transform=l})}function T(){d<=0?(c[0].style.transform="translateX(25px)",c[$.length-1].style.transform="translateX(-25px)",(async()=>{await _(200),n("current",d=$.length-1),J(d)})()):(c[d].style.transform="translateX(25px)",c[d-1].style.transform="translateX(-25px)",(async()=>{await _(200),n("current",--d),J(d)})())}function S(){d>=$.length-1?(c[0].style.transform="translateX(25px)",c[$.length-1].style.transform="translateX(-25px)",(async()=>{await _(200),n("current",d=0),J(d)})()):(c[d].style.transform="translateX(-25px)",c[d+1].style.transform="translateX(25px)",(async()=>{await _(200),n("current",++d),J(d)})())}function J(e){let t=s[e].getBoundingClientRect(),n=document.documentElement.clientWidth/2,i=document.documentElement.clientHeight/2,o=n+2*i,r=t.width+t.height,a=s[e].getElementsByTagName("img")[0];Object.entries(s).forEach(([e,t])=>{t.style.zIndex="1",t.firstChild.classList.add("notransition"),t.firstChild.classList.remove("hitransition"),t.firstChild.style.transform="translateX(0) translateY(0px) scale(1)"}),s[e].style.zIndex="99",a.style.transform=`translateX(${n-t.left-t.width/2}px) translateY(${i-t.top-t.height/2}px) scale(${o/r})`}function O(){let e=s[d].getElementsByTagName("img")[0];e.style;e.removeEventListener("transitionend",f,!1),window.scrollTo(0,u),document.getElementsByTagName("body")[0].classList.remove("locked"),e.classList.remove("notransition"),e.classList.add("hitransition"),(async()=>{await _(200),e.style.transform="translateX(0) translateY(0) scale(1)",n("ready",b=!1),n("hiresLoaded",x=!1),n("showTitles",w=!0)})(),C=!0}return z(()=>{s=r.getElementsByClassName("galleryitem"),G()}),L=(()=>{i||o||k||(g=scrollY,window.scrollTo(0,0),r.style.transform=`translateY(-${g}px)`,n("activeCollection",r),(async()=>{await _(80),Object.entries(s).forEach(([e,t])=>{t.getBoundingClientRect(),n("transitioning",E=!0),t.classList.add("slowtransition"),t.style.transform=`translateX(0px) translateY(${g}px)`})})(),(async()=>{await _(500),r.classList.remove("no-pointer-events"),n("transitioning",E=!1)})(),k=!0),o&&k&&(G(),k=!1)}),B().$$.after_render.push(L),function(e){B().$$.on_destroy.push(e)}(()=>{console.log("being destroyed... laters"),me.update(e=>!1)}),e.$set=(e=>{"stack"in e&&n("stack",$=e.stack),"lowresdir"in e&&n("lowresdir",h=e.lowresdir),"hiresdir"in e&&n("hiresdir",p=e.hiresdir),"originaltarget"in e&&n("originaltarget",y=e.originaltarget)}),{stack:$,lowresdir:h,hiresdir:p,originaltarget:y,activeCollection:r,thirdLevel:a,current:d,y:m,showTitles:w,hiresLoaded:x,ready:b,transitioning:E,handleLoadingHiResComplete:function(e){(v+=e.detail.loadingComplete)===$.length&&(v=0,n("hiresLoaded",x=!0)),c=a.getElementsByClassName("hi-image")},handleKeydown:function(e){"ArrowRight"==e.code&&S(),"ArrowLeft"==e.code&&T(),"Escape"==e.code&&(C?document.getElementById("breadcrumb").click():O())},loadLargeImages:N,showPrevious:T,showNext:S,closeGallery:O,$loadingSecondary:i,$destroyingExpandedGallery:o,loadingComplete_handler:function(t){!function(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(e=>e(t))}(e,t)},onwindowscroll:function(){m=window.pageYOffset,n("y",m)},click_handler:function({index:e},t){return N(t,e)},div_binding:function(e,t){n("activeCollection",r=e)},div_binding_1:function(e,t){n("thirdLevel",a=e)}}}class Ce extends ie{constructor(e){super(),ne(this,e,Ee,ke,a,["stack","lowresdir","hiresdir","originaltarget"])}}function _e(e,t,n){const i=Object.create(e);return i.image=t[n],i.index=n,i}function Le(n){var i,o,r,a,l,s,d;return{c(){i=w("div"),o=w("p"),r=x(n.name),o.className="svelte-npvu4c",i.id="breadcrumb",i.className="breadcrumb svelte-npvu4c",d=E(i,"click",n.resetStacks)},m(e,t){p(e,i,t),h(i,o),h(o,r),s=!0},p(e,t){s&&!e.name||C(r,t.name)},i(n){s||(q(()=>{l&&l.end(1),a||(a=function(n,i,o){let r,a,l=i(n,o),s=!1,d=0;function m(){r&&S(n,r)}function g(){const{delay:i=0,duration:o=300,easing:g=t,tick:u=e,css:f}=l;f&&(r=T(n,0,1,o,i,g,f,d++)),u(0,1);const h=c()+i,p=h+o;a&&a.abort(),s=!0,a=$(e=>{if(s){if(e>=p)return u(1,0),m(),s=!1;if(e>=h){const t=g((e-h)/o);u(t,1-t)}}return s})}let u=!1;return{start(){u||(S(n),"function"==typeof l?(l=l(),F().then(g)):g())},invalidate(){u=!1},end(){s&&(m(),s=!1)}}}(i,he,{y:-40,duration:400})),a.start()}),s=!0)},o(e){a&&a.invalidate(),e&&(l=Z(i,he,{y:-40,duration:400})),s=!1},d(e){e&&(y(i),l&&l.end()),d()}}}function Ne(e){var t,n=new ce({});return{c(){n.$$.fragment.c()},m(e,i){ee(n,e,i),t=!0},i(e){t||(n.$$.fragment.i(e),t=!0)},o(e){n.$$.fragment.o(e),t=!1},d(e){n.$destroy(e)}}}function Ge(t){var n;return{c(){(n=w("div")).className="dummyimage svelte-npvu4c",_(n,"transform","rotate("+2*t.index+"deg)"),_(n,"z-index","-"+t.index),_(n,"opacity",1-1/t.imagecollection.length*t.index/1.2)},m(e,t){p(e,n,t)},p(e,t){e.imagecollection&&_(n,"opacity",1-1/t.imagecollection.length*t.index/1.2)},i:e,o:e,d(e){e&&y(n)}}}function Pe(e){var t,n=new le({props:{image:e.lowresdir+"/"+e.image.src}});return{c(){n.$$.fragment.c()},m(e,i){ee(n,e,i),t=!0},p(e,t){var i={};(e.lowresdir||e.imagecollection)&&(i.image=t.lowresdir+"/"+t.image.src),n.$set(i)},i(e){t||(n.$$.fragment.i(e),t=!0)},o(e){n.$$.fragment.o(e),t=!1},d(e){n.$destroy(e)}}}function Te(e){var t,n,i,o,r=[Pe,Ge],a=[];function l(e){return 0==e.index?0:1}return t=l(e),n=a[t]=r[t](e),{c(){n.c(),i=k()},m(e,n){a[t].m(e,n),p(e,i,n),o=!0},p(e,o){var s=t;(t=l(o))===s?a[t].p(e,o):(V(),U(()=>{a[s].d(1),a[s]=null}),n.o(1),Q(),(n=a[t])||(n=a[t]=r[t](o)).c(),n.i(1),n.m(i.parentNode,i))},i(e){o||(n&&n.i(),o=!0)},o(e){n&&n.o(),o=!1},d(e){a[t].d(e),e&&y(i)}}}function Se(e){var t,n,i;let o={lowresdir:e.lowresdir,hiresdir:e.hiresdir,stack:e.imagecollection,originaltarget:e.collection};var r=new Ce({props:o});return H(()=>e.galleryexpanded_binding(r)),r.$on("loadingComplete",e.handleLoadingComplete),{c(){t=w("div"),r.$$.fragment.c(),t.className=n="loading--"+e.$loadingSecondary+" svelte-npvu4c"},m(e,n){p(e,t,n),ee(r,t,null),i=!0},p(e,o){var a={};e.lowresdir&&(a.lowresdir=o.lowresdir),e.hiresdir&&(a.hiresdir=o.hiresdir),e.imagecollection&&(a.stack=o.imagecollection),e.collection&&(a.originaltarget=o.collection),r.$set(a),i&&!e.$loadingSecondary||n===(n="loading--"+o.$loadingSecondary+" svelte-npvu4c")||(t.className=n)},i(e){i||(r.$$.fragment.i(e),i=!0)},o(e){r.$$.fragment.o(e),i=!1},d(n){n&&y(t),e.galleryexpanded_binding(null),r.$destroy()}}}function Je(e){for(var t,n,i,r,a,l,s,c,d,m,g,u,f,$,_,N,G=e.imagecollection.length,P=e.$activeCollection==e.id&&Le(e),T=e.$activeCollection==e.id&&Ne(),S=e.imagecollection,J=[],B=0;B<S.length;B+=1)J[B]=Te(_e(e,S,B));function z(e,t,n){J[e]&&(t&&U(()=>{J[e].d(t),J[e]=null}),J[e].o(n))}var O=e.attemptingtoLoad&&Se(e);return{c(){P&&P.c(),t=b(),n=w("a"),T&&T.c(),i=b();for(var o=0;o<J.length;o+=1)J[o].c();r=b(),a=w("h2"),l=x(e.name),s=b(),c=w("span"),d=x("("),m=x(G),g=x(" Images)"),f=b(),O&&O.c(),$=k(),c.className="svelte-npvu4c",a.className="svelte-npvu4c",n.href=u=e.hiresdir+"/"+e.imagecollection[0].src,n.className="collection svelte-npvu4c",n.dataset.id=e.id,L(n,"active",e.id===e.$activeCollection&&1==e.$loadingSecondary),L(n,"nonactive",0!==e.$activeCollection&&e.id!==e.$activeCollection),N=[E(n,"mouseenter",e.rotate),E(n,"mouseleave",e.unRotate),E(n,"click",e.showContents)]},m(o,u){P&&P.m(o,u),p(o,t,u),p(o,n,u),T&&T.m(n,null),h(n,i);for(var y=0;y<J.length;y+=1)J[y].m(n,null);h(n,r),h(n,a),h(a,l),h(a,s),h(a,c),h(c,d),h(c,m),h(c,g),H(()=>e.a_binding(n,null)),p(o,f,u),O&&O.m(o,u),p(o,$,u),_=!0},p(e,o){if(o.$activeCollection==o.id?P?(P.p(e,o),P.i(1)):((P=Le(o)).c(),P.i(1),P.m(t.parentNode,t)):P&&(V(),U(()=>{P.d(1),P=null}),P.o(1),Q()),o.$activeCollection==o.id?T?T.i(1):((T=Ne()).c(),T.i(1),T.m(n,i)):T&&(V(),U(()=>{T.d(1),T=null}),T.o(1),Q()),e.lowresdir||e.imagecollection){S=o.imagecollection;for(var a=0;a<S.length;a+=1){const t=_e(o,S,a);J[a]?(J[a].p(e,t),J[a].i(1)):(J[a]=Te(t),J[a].c(),J[a].i(1),J[a].m(n,r))}for(V();a<J.length;a+=1)z(a,1,1);Q()}_&&!e.name||C(l,o.name),_&&!e.imagecollection||G===(G=o.imagecollection.length)||C(m,G),e.items&&(o.a_binding(null,n),o.a_binding(n,null)),_&&!e.hiresdir&&!e.imagecollection||u===(u=o.hiresdir+"/"+o.imagecollection[0].src)||(n.href=u),_&&!e.id||(n.dataset.id=o.id),(e.id||e.$activeCollection||e.$loadingSecondary)&&L(n,"active",o.id===o.$activeCollection&&1==o.$loadingSecondary),(e.$activeCollection||e.id)&&L(n,"nonactive",0!==o.$activeCollection&&o.id!==o.$activeCollection),o.attemptingtoLoad?O?(O.p(e,o),O.i(1)):((O=Se(o)).c(),O.i(1),O.m($.parentNode,$)):O&&(V(),U(()=>{O.d(1),O=null}),O.o(1),Q())},i(e){if(!_){P&&P.i(),T&&T.i();for(var t=0;t<S.length;t+=1)J[t].i();O&&O.i(),_=!0}},o(e){P&&P.o(),T&&T.o(),J=J.filter(Boolean);for(let e=0;e<J.length;e+=1)z(e,0);O&&O.o(),_=!1},d(i){P&&P.d(i),i&&(y(t),y(n)),T&&T.d(),v(J,i),e.a_binding(null,n),i&&y(f),O&&O.d(i),i&&y($),o(N)}}}const Be=new Set;function ze(e,t,n){let i,o;l(e,ge,e=>{n("$activeCollection",i=e)}),l(e,ue,e=>{n("$loadingSecondary",o=e)});let{imagecollection:r,lowresdir:a,hiresdir:s,id:c=0,name:d,color:m}=t;const g=e=>new Promise(t=>setTimeout(t,e));let u,f,$,h,p,y=0,v=!1;return z(()=>($=u.getElementsByTagName("div"),h=u.getElementsByTagName("img")[0],Be.add(u),()=>Be.delete(u))),e.$set=(e=>{"imagecollection"in e&&n("imagecollection",r=e.imagecollection),"lowresdir"in e&&n("lowresdir",a=e.lowresdir),"hiresdir"in e&&n("hiresdir",s=e.hiresdir),"id"in e&&n("id",c=e.id),"name"in e&&n("name",d=e.name),"color"in e&&n("color",m=e.color)}),{imagecollection:r,lowresdir:a,hiresdir:s,id:c,name:d,color:m,collection:u,galleryExpanded:f,attemptingtoLoad:v,rotate:function(){Object.entries($).forEach(([e,t])=>{t.style.transform="rotate("+(4*parseInt(e)+5)+"deg)"}),h.style.transform="scale(1.03) translateY(5px) rotate(-1deg)"},unRotate:function(){Object.entries($).forEach(([e,t])=>{t.style.transform="rotate("+2*(parseInt(e)+1)+"deg)"}),h.style.transform="scale(1) rotate(0deg)"},showContents:function(e){if(n("attemptingtoLoad",v=!0),e.preventDefault(),p=getComputedStyle(document.documentElement).getPropertyValue("--bgcolor"),m){let e=m.split(",");document.documentElement.style.setProperty("--bgcolor",`hsla(${e[0]}, ${e[1]}%, ${e[2]}%, 1)`),document.documentElement.style.setProperty("--bgcolortint",`hsla(${e[0]}, ${e[1]}%, ${e[2]}%, 0.6)`),document.documentElement.style.setProperty("--bgcolordarktint",`hsl(${e[0]}, ${e[1]}%, ${e[2]/e[1]*10}%)`)}ue.update(e=>!0),ge.update(e=>c),function(){let e=document.documentElement.clientWidth/2,t=document.documentElement.clientHeight/2;Be.forEach(n=>{var o=n.getBoundingClientRect();n.classList.add("neardeath");let r=parseInt(n.dataset.id);n.classList.add("no-pointer-events"),r!==i&&(n.style.transform=`translateX(${o.left/3-e/3}px) translateY(${o.top/3-t/3}px)`)})}()},resetStacks:function(){console.log("resetting..."),document.documentElement.style.setProperty("--bgcolor",p),me.update(e=>!0),Be.forEach(e=>{e.classList.remove("neardeath")}),(async()=>{await g(200),ge.update(e=>0),n("attemptingtoLoad",v=!1),Be.forEach(e=>{e.style.transform="translateX(0px) translateY(0px)"})})(),(async()=>{await g(600),Be.forEach(e=>{e.classList.remove("no-pointer-events")})})()},handleLoadingComplete:function(e){(y+=e.detail.loadingComplete)===r.length&&(console.log("Loading complete"),ue.update(e=>!1),y=0)},$activeCollection:i,$loadingSecondary:o,a_binding:function(e,t){n("collection",u=e)},galleryexpanded_binding:function(e){n("galleryExpanded",f=e)}}}class Oe extends ie{constructor(e){super(),ne(this,e,ze,Je,a,["imagecollection","lowresdir","hiresdir","id","name","color"])}}function Xe(e){var t,n,i,o,r,a,l,s,c,d,m=new Oe({props:{width:"",name:"Ongakukai",color:"44, 47, 90",lowresdir:"images/16_ongakukai",hiresdir:"images/16_ongakukai/originals",imagecollection:e.collection0,id:je++}}),g=new Oe({props:{width:"",name:"Painterly",color:"261, 27, 71",lowresdir:"images",hiresdir:"images/originals",imagecollection:e.collection1,id:je++}}),u=new Oe({props:{width:"",name:"Splashes",color:"206, 69, 88",lowresdir:"images",hiresdir:"images/originals",imagecollection:e.collection2,id:je++}}),f=new Oe({props:{width:"",name:"Citizens of Science",color:"182, 37, 73",lowresdir:"images",hiresdir:"images/originals",imagecollection:e.collection3,id:je++}}),$=new Oe({props:{width:"",name:"Travelling",color:"209, 25, 24",lowresdir:"images",hiresdir:"images/originals",imagecollection:e.collection4,id:je++}}),v=new Oe({props:{width:"",name:"Angry at kids",color:"13, 92, 87",lowresdir:"images",hiresdir:"images/originals",imagecollection:e.collection5,id:je++}}),x=new Oe({props:{width:"",name:"Sketches",color:"109, 0, 76",lowresdir:"images",hiresdir:"images/originals",imagecollection:e.collection6,id:je++}});return{c(){t=w("div"),m.$$.fragment.c(),n=b(),g.$$.fragment.c(),i=b(),u.$$.fragment.c(),o=b(),f.$$.fragment.c(),r=b(),$.$$.fragment.c(),a=b(),v.$$.fragment.c(),l=b(),x.$$.fragment.c(),s=b(),(c=w("p")).innerHTML='<a href="https://github.com/cssandstuff/portfolio-scaffold" class="svelte-lq41rl">View on Github</a>',t.className="container svelte-lq41rl",c.className="svelte-lq41rl"},m(e,y){p(e,t,y),ee(m,t,null),h(t,n),ee(g,t,null),h(t,i),ee(u,t,null),h(t,o),ee(f,t,null),h(t,r),ee($,t,null),h(t,a),ee(v,t,null),h(t,l),ee(x,t,null),p(e,s,y),p(e,c,y),d=!0},p(e,t){var n={};e.collection0&&(n.imagecollection=t.collection0),e.uid&&(n.id=je++),m.$set(n);var i={};e.collection1&&(i.imagecollection=t.collection1),e.uid&&(i.id=je++),g.$set(i);var o={};e.collection2&&(o.imagecollection=t.collection2),e.uid&&(o.id=je++),u.$set(o);var r={};e.collection3&&(r.imagecollection=t.collection3),e.uid&&(r.id=je++),f.$set(r);var a={};e.collection4&&(a.imagecollection=t.collection4),e.uid&&(a.id=je++),$.$set(a);var l={};e.collection5&&(l.imagecollection=t.collection5),e.uid&&(l.id=je++),v.$set(l);var s={};e.collection6&&(s.imagecollection=t.collection6),e.uid&&(s.id=je++),x.$set(s)},i(e){d||(m.$$.fragment.i(e),g.$$.fragment.i(e),u.$$.fragment.i(e),f.$$.fragment.i(e),$.$$.fragment.i(e),v.$$.fragment.i(e),x.$$.fragment.i(e),d=!0)},o(e){m.$$.fragment.o(e),g.$$.fragment.o(e),u.$$.fragment.o(e),f.$$.fragment.o(e),$.$$.fragment.o(e),v.$$.fragment.o(e),x.$$.fragment.o(e),d=!1},d(e){e&&y(t),m.$destroy(),g.$destroy(),u.$destroy(),f.$destroy(),$.$destroy(),v.$destroy(),x.$destroy(),e&&(y(s),y(c))}}}let je=1;function Re(e,t,n){let{name:i}=t;return e.$set=(e=>{"name"in e&&n("name",i=e.name)}),{name:i,collection0:[{src:"01_front_cover.jpg",name:"Noa"},{src:"02_back_cover.jpg",name:"Dog"},{src:"racoon_together.jpg",name:"Glass"}],collection1:[{src:"Noa.JPG",name:"Noa"},{src:"dog.JPG",name:"Dog"},{src:"glass.JPG",name:"Glass"}],collection4:[{src:"atami.JPG",name:"Atami at night"},{src:"kenodo.JPG",name:"Konodo Highway"},{src:"kenodo2.JPG",name:"Tunnels"}],collection6:[{src:"boring.JPG",name:"Everything is boring"},{src:"hownotto.JPG",name:"How not to draw"},{src:"isometric.JPG",name:"Isometric"},{src:"notes.JPG",name:"Notes"},{src:"glass-b+w.JPG",name:"Glass"}],collection2:[{src:"cash.JPG",name:"Cash Suitcase"},{src:"robo.JPG",name:"Robot"},{src:"tako.JPG",name:"Octopus"}],collection5:[{src:"angrykid2.JPG",name:"Angry 1"},{src:"angrykid1.JPG",name:"Angry 2"},{src:"angrykid3.JPG",name:"Angry 3"},{src:"angrykid4.JPG",name:"Angry 4"},{src:"angrykid5.JPG",name:"Angry 5"}],collection3:[{src:"citizens.JPG",name:"Citizens of Science"},{src:"screwit.JPG",name:"Screw It"},{src:"boltit.JPG",name:"Boltman"},{src:"kumo.JPG",name:"Spiderdeath"}]}}return new class extends ie{constructor(e){super(),ne(this,e,Re,Xe,a,["name"])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
